<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.9
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="es">
  
  <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5"> <!-- UMAMI --> <script defer src="https://umami.ahnenerbe.duckdns.org/script.js" data-website-id="c512a056-cf0b-43ad-9f5e-b4cda9a0eedf"></script> <!-- MASTODON CREATOR --> <link rel="me" href="https://mastodon.online/@vsantos" /> <meta name="fediverse:creator" content="@vsantos@mastodon.online"> <!-- STYLE --> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"> <!-- Theme Mode--> <script> const darkBtn = "Dark"; const lightBtn = "Light"; const isAutoTheme = false; const preferredTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'; if (isAutoTheme) { document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme') ?? preferredTheme); } else { document.documentElement.setAttribute('data-theme', "dark"); } </script> <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)--> <script defer src="/assets/js/main.min.js"></script> <!-- CSS --> <link rel="stylesheet" href="/assets/css/main.css"> <!--Favicon--> <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <!-- KaTeX 0.16.9 --> <!-- Mermaid 10.8.0 --> <script defer src="/assets/js/vendor/mermaid.min.js"></script> <!-- Simple Jekyll Search 1.10.0 --> <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script> <!-- Google Analytics / Cookie Consent --> <!-- <script> const cookieName = 'cookie-notice-dismissed-https://vctrsnts.github.io'; const isCookieConsent = 'false'; const analyticsName = ''; const analyticsNameGA4 = ''; </script> --> <!-- seo tags --> <meta property="og:image" content="https://vctrsnts.github.io/assets/img/feature-img/logo_post.jpg"> <meta property="og:type" content="website" /> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Matrix - 3. De Matrix a Gotify | Si lo haces, hazlo bien!</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Matrix - 3. De Matrix a Gotify" /> <meta name="author" content="VSANTOS" /> <meta property="og:locale" content="es_ES" /> <meta name="description" content="Como bien sabeis, porque lo explique en este articulo y en este otro, estaba usando Matrix como servidor de comunicación entre mis servidores y un servidor. Pero mientras más lo usaba, más desesperación me producia, porque, puede parecer una tonteria, pero en el movil, no recibia las notificaciones de los mensajes que me llegaban al cliente de Matrix, que en este caso era FluffyChat." /> <meta property="og:description" content="Como bien sabeis, porque lo explique en este articulo y en este otro, estaba usando Matrix como servidor de comunicación entre mis servidores y un servidor. Pero mientras más lo usaba, más desesperación me producia, porque, puede parecer una tonteria, pero en el movil, no recibia las notificaciones de los mensajes que me llegaban al cliente de Matrix, que en este caso era FluffyChat." /> <link rel="canonical" href="https://vctrsnts.github.io/docker/matrix/gotify/2025/05/20/matrix-gotify.html" /> <meta property="og:url" content="https://vctrsnts.github.io/docker/matrix/gotify/2025/05/20/matrix-gotify.html" /> <meta property="og:site_name" content="Si lo haces, hazlo bien!" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2025-05-20T00:00:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Matrix - 3. De Matrix a Gotify" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"VSANTOS","url":"https://github.com/vctrsnts"},"dateModified":"2025-05-20T00:00:00+00:00","datePublished":"2025-05-20T00:00:00+00:00","description":"Como bien sabeis, porque lo explique en este articulo y en este otro, estaba usando Matrix como servidor de comunicación entre mis servidores y un servidor. Pero mientras más lo usaba, más desesperación me producia, porque, puede parecer una tonteria, pero en el movil, no recibia las notificaciones de los mensajes que me llegaban al cliente de Matrix, que en este caso era FluffyChat.","headline":"Matrix - 3. De Matrix a Gotify","mainEntityOfPage":{"@type":"WebPage","@id":"https://vctrsnts.github.io/docker/matrix/gotify/2025/05/20/matrix-gotify.html"},"url":"https://vctrsnts.github.io/docker/matrix/gotify/2025/05/20/matrix-gotify.html"}</script> <!-- End Jekyll SEO tag --> <!-- RSS --> <link rel="alternate" type="application/atom+xml" title="Si lo haces, hazlo bien!" href="https://vctrsnts.github.io/feed.xml"/> <link type="application/atom+xml" rel="alternate" href="https://vctrsnts.github.io/feed.xml" title="Si lo haces, hazlo bien!" /> <!-- Twitter Cards --> <meta name="twitter:title" content="Matrix - 3. De Matrix a Gotify"> <meta name="twitter:description" content="Como bien sabeis, porque lo explique en este articulo y en este otro, estaba usando Matrix como servidor de comunicación entre mis servidores y un servidor. ..."> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="https://vctrsnts.github.io/assets/img/feature-img/logo_post.jpg"> <meta name="twitter:image:alt" content="Matrix - 3. De Matrix a Gotify"> </head>
  <body>
    
    <header class="site-header"> <!-- Logo and title --> <div class="branding"> <a href="/"> <img alt="logo img" class="avatar" src="/assets/img/logo.png" loading="lazy"/> </a> <a class="site-title" aria-label="Si lo haces, hazlo bien!" href="/"> Si lo haces, hazlo bien! </a> </div> <!-- Toggle menu --> <nav class="clear"> <a aria-label="pull" id="pull" class="toggle" href="#"> <i class="fas fa-bars fa-lg"></i> </a> <!-- Menu --> <ul class="hide"> <li class="separator"> | </li> <li> <a class="clear" aria-label="Libros" title="Libros" href="https://vsantos.envs.net"> <span class="navbar-label ">Libros</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="About" title="About" href="/about/"> <span class="navbar-label ">About</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Archivo" title="Archivo" href="/archive"> <span class="navbar-label ">Archivo</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Tags" title="Tags" href="/tags/"> <i class="navbar-icon fas fa-tags" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Tags</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Search" title="Search" href="/search/"> <i class="navbar-icon fas fa-search" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Search</span> </a> </li> </ul> </nav> </header>
    <div class="content">
      <article class="feature-image" >
    <header id="main" style="">
        <div class="title-padder">
            
                <h1 id="Matrix+-+3.+De+Matrix+a+Gotify" class="title">Matrix - 3. De Matrix a Gotify</h1>
                


<div class="post-info"><a href="https://github.com/vctrsnts" target="_blank" rel="noopener">
      <img alt="Author's avatar" src="/assets/img/avatar.jpg" loading="lazy">
    
    <p class="meta">
      VSANTOS - 
      
      Mayo 20, 2025
    </p></a></div>

            
        </div>
    </header>

    <section class="post-content">
    
            <p>Como bien sabeis, porque lo explique en este <a href="/docker/matrix/2025/03/25/instal-config-matrix.html" target="_blank">articulo</a> y en este <a href="/docker/matrix/2025/03/28/pushbits.html" target="_blank">otro</a>, estaba usando <strong>Matrix</strong> como servidor de comunicación entre mis servidores y un servidor. Pero mientras más lo usaba, más desesperación me producia, porque, puede parecer una tonteria, pero en el movil, no recibia las notificaciones de los mensajes que me llegaban al cliente de <strong>Matrix</strong>, que en este caso era <strong>FluffyChat</strong>.</p>

<!-- more -->

<p>Lo habia instalado tanto de <strong>F-Droid</strong> como de la <strong>PlayStore</strong> y en los 2 casos, con el mismo resultado, no me llegaban las notificaciones. Tambien habia probado <strong>Element</strong> con el mismo resultado. Instale <strong>Synapse</strong> también en el VPS para ver si el problema estaba en <strong>Conduit</strong>, pero ni asi lograba que me llegaran las notificaciones.</p>

<p>Investigue por todos sitios, <em>gitHub</em> de <em>Conduit</em>, matrix de <em>Conduit</em> y siempre con los mismos resultados, o no me respondian, o no entendian el motivo del porque no funcionaba.</p>

<p>Al final ya no sabia que hacer, hasta que <a href="https://elblogdelazaro.org/gu%C3%ADa-paso-a-paso-c%C3%B3mo-instalar-gotify-en-unraid" target="_blank">Lazaro</a> publico un nuevo articulo de como instalar <strong>Gotify</strong> en <strong>unRaid</strong>, en mi caso no seria en <strong>unRaid</strong>, porque sino, tengo que abrir el servidor al mundo entero y es una cosa que quiero evitar, pero como tengo el VPS, pues decidi instalarlo ahi.</p>

<p>Tengo que decir que yo ya jugaba con un poco de ventaja con respecto a <strong>Gotify</strong>, porque hace un par de años, antes de usar <strong>Telegram</strong> como servidor de notificaciones de mis servicios y de <strong>unRaid</strong>, lo habia utilizado, pero no me acabada de convencer, porque eso de tener 2 aplicaciones abiertas en el movil, <em>telegram</em> y a la vez <em>gotify</em> para recibir las notificaciones, pues me parecia un derroche de bateria, asi que al final lo acabe poniendo todo el <em>telegram</em> porque era la que más usaba.</p>

<p>Asi que de vuelta al ruedo, a realizar la instalación de <strong>Gotify</strong>, a traves de su correspondiente <code class="language-plaintext highlighter-rouge">docker-compose</code>:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="na">gotify</span><span class="pi">:</span>
   <span class="na">image</span><span class="pi">:</span> <span class="s">gotify/server:latest</span>
   <span class="na">container_name</span><span class="pi">:</span> <span class="s">gotify</span>
   <span class="na">env_file</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="s">gotify.env</span>
   <span class="na">volumes</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="s">${HOME}/config/gotify:/app/data</span>
   <span class="na">networks</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="s">proxy</span>
   <span class="na">labels</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="s">traefik.enable=true</span>
     <span class="pi">-</span> <span class="s">traefik.http.services.gotify.loadbalancer.server.port=80</span>
     <span class="pi">-</span> <span class="s">traefik.http.routers.gotify.entrypoints=websecure</span>
     <span class="pi">-</span> <span class="s">traefik.http.routers.gotify.rule=Host(`${GOTIFY_SERVER}`)</span>
</code></pre></div></div>
<p>Lo unico que hay que tener en cuenta es el fichero <code class="language-plaintext highlighter-rouge">gotify.env</code>:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">TZ=Europe/Madrid
</span></code></pre></div></div>
<p>Que es donde se configura la zona horaria, pero el resto, es como cualquier otro <em>docker-compose</em>, ahora solamente queda hacer un <code class="language-plaintext highlighter-rouge">docker commpose up -d gotify</code> y listo, y como además lo tengo configurado para que use <em>traefik</em> siguiendo los magnificos articulos que pone a disposición del publico <strong>atareo</strong>, pues es todo mucho más facil.</p>

<p>Lo que si que tengo que agradecer a <strong>Lazaro</strong>, es que en su <a href="https://elblogdelazaro.org/gu%C3%ADa-paso-a-paso-c%C3%B3mo-instalar-gotify-en-unraid" target="_blank">articulo</a>, explica muy bien todo el tema de las aplicaciones, que seguramente fue una de las razones del porque me echo para atras <strong>Gotify</strong> cuando lo use la primera vez, junto con que puedes poner los iconos de cada aplicación, pues ya lo tenia todo en marcha. Solo me faltaba instalar la aplicación en el movil y tenia todas las notificaciones de mis serviciones a mi disposición y encima diferenciadas por aplicaciones (salas) para que todo estuviera más claro y facil de entender:</p>
<ul>
  <li>Backups
    <ul>
      <li>En mi caso, las copias de seguridad las hago a traves de <strong>restic</strong>, otro articulo que tengo que hacer (y tambien gracias a <strong>atareao</strong> por dar a conocer el sistema de copias que el usa), y que junto a un <em>script</em> de <strong>Gotify</strong> podia estar informado de cuando y como se habian echo las copias de seguridad.</li>
    </ul>
  </li>
  <li>flexGet</li>
  <li>unRaid</li>
  <li>Gestión de Podcast</li>
  <li>Y más cosas que quiera añadir gracias a los plugins que tiene
    <ul>
      <li>Aqui tengo que hacer un inciso, los que yo encontre son un poco 🙁 y no se les puede sacar mucho provecho.</li>
    </ul>
  </li>
</ul>

<p>El script en cuestión es el siguiente:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">#</span><span class="w"> </span>SCRIPT PER ENVIAR LES NOTIFICACIONS
<span class="go">curl -s -S --data \ 
</span><span class="gp">  '{"message": "'"$</span><span class="o">{</span>DIR_NAME<span class="o">}</span>.xml<span class="s2">"'"</span>, <span class="s2">"title"</span>: <span class="s2">"'"</span><span class="k">${</span><span class="nv">TITLE_RSS</span><span class="k">}</span><span class="s2">"'"</span>, <span class="se">\</span>
<span class="gp">  "priority":'"$</span><span class="o">{</span>GOTIFY_PRIORITY<span class="o">}</span><span class="s2">"', "</span>extras<span class="s2">": {"</span>client::display<span class="s2">": </span><span class="se">\</span><span class="s2">
</span><span class="go">  {"contentType": "text/markdown"}}}' \
</span><span class="gp">  -H 'Content-Type: application/json' "$</span>GOTIFY_SERVER<span class="s2">"
</span></code></pre></div></div>
<p>Y con esto, ya tengo de nuevo en marcha mi sistema de notificaciones para substituir <strong>telegram</strong> por algo más <strong>libre</strong> y asi tener <strong>mas libertad digital</strong> tal como dice <strong>Lorenzo</strong>.</p>

<p>Los que tengais el dashboard de <strong>HomePage</strong>, saber que si usar <strong>Gotify</strong> tienes un widget, que puedes usar y tener a la vista las <em>aplicaciones</em>, los <em>clientes</em> y los <em>mensajes</em> recibidos. En este <a href="/docker/unraid/2024/06/03/usando-homepage-2.html" target="_blank">articulo</a> teneis una imagen de como queda.</p>

<p>Aqui tengo que hacer un inciso, no os penseis que me he olvidado de <strong>Matrix</strong>, aun lo tengo en la cabeza metido molestando y riendose de mi, porque no lo he hecho funcionar correctamente, algo parecido a esto:</p>

<div class="row">
    
    <div style="flex: 100.0%">
        <img class="single" src="/assets/img/images/cerebro.jpg" alt="cerebro.jpg" />
    </div>
    
</div>

<p>Pero tiene que saber, que a mi me cuesta mucho darme por vencido y que al final conseguire hacer funcionar correctamente a <strong>Matrix</strong>, pero ya explicare en otro articulo, como me va mi lucha contra él.</p>

<h4 id="referencia">Referencia</h4>
<ul>
  <li><a href="https://elblogdelazaro.org/gu%C3%ADa-paso-a-paso-c%C3%B3mo-instalar-gotify-en-unraid" target="_blank">Guía Paso a Paso: Cómo Instalar Gotify en Unraid</a></li>
</ul>

    
    </section>

    <!-- Social media shares -->
    




    <!-- Tag list -->
    
    


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tags</li>
      

      
        <li><a class="button" href="/tags#Docker">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Docker</p>
        </a></li>
      
        <li><a class="button" href="/tags#Gotify">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Gotify</p>
        </a></li>
      
        <li><a class="button" href="/tags#Matrix">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Matrix</p>
        </a></li>
      
    </ul>
  </div>



</article>




<!-- To change color of links in the page --> <style> header#main { background-size: cover; background-repeat: no-repeat; background-position: center; } header#main { background-image: url('/assets/img/feature-img/logo_post.jpg'); } </style> <!-- Post navigation --> <div id="post-nav"> <div id="previous-post"> <a alt="Restic + Backrest + MiniO - 1" href="/debian%20gnu/linux/docker/2025/05/22/restic-copias-locales-1.html"> <p>Previous post</p> Restic + Backrest + MiniO - 1 </a> </div> <div id="next-post"> <a alt="Modificaciones en el servidor - 3" href="/hardware/2025/04/20/modificaciones-servidor-3.html"> <p>Next post</p> Modificaciones en el servidor - 3 </a> </div> </div> <!--Utterances--> <!-- Cusdis --> <!-- Disqus -->


    </div>
    
    <footer class="site-footer"> <ul> <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.ca" title="This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"><i class="fab fa-creative-commons fa-stack fa-lg"></i></span><span class="fa-stack fa-lg"><i class="fab fa-creative-commons-by fa-stack fa-lg"></i></span><span class="fa-stack fa-lg"><i class="fab fa-creative-commons-nc-eu fa-stack fa-lg"></i></span> </a> </ul> <p class="text"> Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/sylhare/Type-on-Strap">Type on Strap</a> </p> <div class="footer-icons"> <ul> <!-- Social icons from Font Awesome, if enabled --> <li> <a feed.xml href="/feed.xml" title="Follow RSS feed" target="_blank"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://github.com/vctrsnts" title="Follow on Github" target="_blank" rel="me"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://mastodon.online/@vsantos" title="Follow on Mastodon" target="_blank" rel="me"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-mastodon fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://vctrsnts.tumblr.com/" title="Follow on Tumblr" target="_blank" rel="me"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-tumblr fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://bsky.app/profile/vctrsnts.bsky.social" title="Follow on Bluesky" target="_blank" rel="me"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-bluesky fa-stack-1x fa-inverse"></i> </span> </a> </li> </ul> </div> <script type="module"> mermaid.initialize({ startOnLoad: false, theme: "default" }); mermaid.run({ nodes: [...document.querySelectorAll('.language-mermaid'), ...document.querySelectorAll('.mermaid')] }); </script> </footer>
  </body>
</html>
