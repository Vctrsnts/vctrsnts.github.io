<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.9
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="en">
  
  <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5"> <!-- UMAMI --> <script defer src="https://umami.ahnenerbe.duckdns.org/script.js" data-website-id="fc75c192-2deb-4dd3-b2f7-82b8ce5d8199"></script> <!-- Theme Mode--> <script> const darkBtn = "Dark"; const lightBtn = "Light"; const isAutoTheme = false; const preferredTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'; if (isAutoTheme) { document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme') ?? preferredTheme); } else { document.documentElement.setAttribute('data-theme', "dark"); } </script> <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)--> <script defer src="/assets/js/main.min.js"></script> <!-- CSS --> <link rel="stylesheet" href="/assets/css/main.css"> <!--Favicon--> <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <!-- KaTeX 0.16.9 --> <!-- Mermaid 10.8.0 --> <script defer src="/assets/js/vendor/mermaid.min.js"></script> <!-- Simple Jekyll Search 1.10.0 --> <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script> <!-- Google Analytics / Cookie Consent --> <script> const cookieName = 'cookie-notice-dismissed-https://vctrsnts.github.io'; const isCookieConsent = 'false'; const analyticsName = ''; const analyticsNameGA4 = ''; </script> <!-- seo tags --> <meta property="og:image" content="https://vctrsnts.github.io/assets/img/feature-img/logo_post.jpg"> <meta property="og:type" content="website" /> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>TIP Sobre Docker | Si lo haces, hazlo bien!</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="TIP Sobre Docker" /> <meta name="author" content="VSANTOS" /> <meta property="og:locale" content="es_ES" /> <meta name="description" content="Últimamente me he metido en el mundo de Docker para mi Raspberry y se me ha abierto un mundo nuevo de posibilidades infinitas. A continuación pongo un TIP sobre Docker y el mantenimiento (eliminación) de volúmenes / imágenes que ya no se utilizan." /> <meta property="og:description" content="Últimamente me he metido en el mundo de Docker para mi Raspberry y se me ha abierto un mundo nuevo de posibilidades infinitas. A continuación pongo un TIP sobre Docker y el mantenimiento (eliminación) de volúmenes / imágenes que ya no se utilizan." /> <link rel="canonical" href="https://vctrsnts.github.io/docker/2020/02/16/tip-docker.html" /> <meta property="og:url" content="https://vctrsnts.github.io/docker/2020/02/16/tip-docker.html" /> <meta property="og:site_name" content="Si lo haces, hazlo bien!" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-02-16T00:00:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="TIP Sobre Docker" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"VSANTOS","url":"https://github.com/vctrsnts"},"dateModified":"2020-02-16T00:00:00+00:00","datePublished":"2020-02-16T00:00:00+00:00","description":"Últimamente me he metido en el mundo de Docker para mi Raspberry y se me ha abierto un mundo nuevo de posibilidades infinitas. A continuación pongo un TIP sobre Docker y el mantenimiento (eliminación) de volúmenes / imágenes que ya no se utilizan.","headline":"TIP Sobre Docker","mainEntityOfPage":{"@type":"WebPage","@id":"https://vctrsnts.github.io/docker/2020/02/16/tip-docker.html"},"url":"https://vctrsnts.github.io/docker/2020/02/16/tip-docker.html"}</script> <!-- End Jekyll SEO tag --> <!-- RSS --> <link rel="alternate" type="application/atom+xml" title="Si lo haces, hazlo bien!" href="https://vctrsnts.github.io/feed.xml"/> <link type="application/atom+xml" rel="alternate" href="https://vctrsnts.github.io/feed.xml" title="Si lo haces, hazlo bien!" /> <!-- Twitter Cards --> <meta name="twitter:title" content="TIP Sobre Docker"> <meta name="twitter:description" content="Últimamente me he metido en el mundo de Docker para mi Raspberry y se me ha abierto un mundo nuevo de posibilidades infinitas.A continuación pongo un TIP sob..."> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="https://vctrsnts.github.io/assets/img/feature-img/logo_post.jpg"> <meta name="twitter:image:alt" content="TIP Sobre Docker"> </head>
  <body>
    
    <header class="site-header"> <!-- Logo and title --> <div class="branding"> <a href="/"> <img alt="logo img" class="avatar" src="/assets/img/logo.png" loading="lazy"/> </a> <a class="site-title" aria-label="Si lo haces, hazlo bien!" href="/"> Si lo haces, hazlo bien! </a> </div> <!-- Toggle menu --> <nav class="clear"> <a aria-label="pull" id="pull" class="toggle" href="#"> <i class="fas fa-bars fa-lg"></i> </a> <!-- Menu --> <ul class="hide"> <li class="separator"> | </li> <li> <a class="clear" aria-label="About" title="About" href="/about/"> <span class="navbar-label ">About</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Archivo" title="Archivo" href="/archive"> <span class="navbar-label ">Archivo</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Tags" title="Tags" href="/tags/"> <i class="navbar-icon fas fa-tags" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Tags</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Search" title="Search" href="/search/"> <i class="navbar-icon fas fa-search" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Search</span> </a> </li> </ul> </nav> </header>
    <div class="content">
      <article class="feature-image" >
    <header id="main" style="">
        <div class="title-padder">
            
                <h1 id="TIP+Sobre+Docker" class="title">TIP Sobre Docker</h1>
                


<div class="post-info"><a href="https://github.com/vctrsnts" target="_blank" rel="noopener">
      <img alt="Author's avatar" src="/assets/img/avatar.jpg" loading="lazy">
    
    <p class="meta">
      VSANTOS - 
      
      Febrero 16, 2020
    </p></a></div>

            
        </div>
    </header>

    <section class="post-content">
    
            <p>Últimamente me he metido en el mundo de <strong>Docker</strong> para mi <strong>Raspberry</strong> y se me ha abierto un mundo nuevo de posibilidades infinitas.</p>

<p>A continuación pongo un TIP sobre Docker y el mantenimiento (eliminación) de volúmenes / imágenes que ya no se utilizan.</p>

<!-- more -->

<h2 id="eliminar-todo-lo-no-usado">ELIMINAR TODO LO NO USADO</h2>

<p>En el caso de que lleguemos al punto de tener nuestro sistema hecho un desastre, hay un comando en <strong>Docker</strong> que sirve para limpiar imágenes, contenedores, volúmenes y dispositivos de red, que no 
estén asociadas a ningún contenedor.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker system prune
</code></pre></div></div>

<p>Si le añadimos el <code class="language-plaintext highlighter-rouge">flag -a</code> al final, borraremos también:</p>
<ul>
  <li>Todos los contenedores parados</li>
  <li>Todas las imágenes que no se estén usando en ese momento.
    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp"> usuari@raspberry:~$</span><span class="w"> </span>docker system prune <span class="nt">-a</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="borrar-imágenes-de-docker">BORRAR IMÁGENES DE DOCKER</h2>

<h3 id="borrar-imágenes">Borrar Imágenes</h3>
<p>Para ver las imágenes que tenemos en el sistema, podemos usar el comando: <code class="language-plaintext highlighter-rouge">docker images -a</code></p>

<p>Gracias al <code class="language-plaintext highlighter-rouge">flag -a</code> veremos todas las imágenes de Docker (incluidas las imágenes intermedias).</p>

<p>Una vez localizada la imagen que queremos borrar, utilizaremos su <code class="language-plaintext highlighter-rouge">ID</code> para borrarla:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker rmi
</code></pre></div></div>

<h3 id="borrar-imágenes-colgadas-dangling-images">Borrar imágenes “colgadas” (dangling images)</h3>
<p>Las imágenes colgadas son las capas de imágenes que no se están utilizando en ningún contenedor, tanto que estén en funcionamiento como que estén parados. Estas imágenes pueden ser borradas en la gran
 mayoría de las veces. Podemos ver estas imágenes con el comando:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker images <span class="nt">-f</span> <span class="nv">dangling</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div></div>

<p>Y para borrarlas:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker images purge
</code></pre></div></div>

<h3 id="borrar-todas-las-imágenes">Borrar todas las imágenes</h3>
<p>Si queremos borrar todas las imágenes, podemos ejecutar:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker rmi <span class="si">$(</span>docker images <span class="nt">-a</span> <span class="nt">-q</span><span class="si">)</span>
</code></pre></div></div>

<h2 id="borrar-contenedores-docker">BORRAR CONTENEDORES DOCKER</h2>

<h3 id="borrar-contenedores">Borrar Contenedores</h3>
<p>Primero debemos localizar los contenedores que queremos borrar, para ello ejecutaremos el comando:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker ps <span class="nt">-a</span>
</code></pre></div></div>

<p>Y para borrarlos:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker <span class="nb">rm</span>
</code></pre></div></div>

<p>Si no quieres que un contenedor se quede ahí una vez parado, puedes lanzar el proceso con el <code class="language-plaintext highlighter-rouge">flag -rm</code>:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker run <span class="nt">-rm</span>
</code></pre></div></div>

<h3 id="borrar-contenedores-mediante-filtros">Borrar contenedores mediante filtros</h3>
<p>Podemos usar filtros para seleccionar contenedores, por ejemplo:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker ps <span class="nt">-a</span> <span class="nt">-s</span> <span class="nv">status</span><span class="o">=</span>exited <span class="nt">-f</span> <span class="nv">status</span><span class="o">=</span>created
</code></pre></div></div>

<p>Y combinándolos con los comandos anteriores, sirve para borrarlos:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker <span class="nb">rm</span> <span class="si">$(</span>docker ps <span class="nt">-a</span> <span class="nt">-f</span> <span class="nv">status</span><span class="o">=</span>exited <span class="nt">-f</span> <span class="nv">status</span><span class="o">=</span>created <span class="nt">-q</span><span class="si">)</span>
</code></pre></div></div>

<h3 id="parar-y-borrar-todos-los-contenedores-docker">Parar y borrar todos los contenedores Docker</h3>
<p>También podemos parar y borrar todos los contenedores con un solo comando:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker <span class="nb">rm</span> <span class="si">$(</span>docker ps <span class="nt">-a</span> <span class="nt">-q</span><span class="si">)</span>
</code></pre></div></div>

<h2 id="borrando-volúmenes-de-docker">BORRANDO VOLÚMENES DE DOCKER</h2>

<h3 id="borrar-volúmenes">Borrar volúmenes</h3>
<p>Para ver los volúmenes que tenemos en el sistema, podemos usar el comando:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker volume <span class="nb">ls</span>
</code></pre></div></div>

<p>Cuando localizamos el volumen, lo podemos borrar con:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker volume <span class="nb">rm</span>
</code></pre></div></div>

<h3 id="borrar-volúmenes-colgados-dangling-volume">Borrar volúmenes colgados (dangling volume)</h3>

<p>Los volumenes colgados son aquellos que no estan conectados a ningun contenedor. Ten en cuenta que es posible que haya volumenes en ese estado que no tengas que ser borrados. Para verlos utilizaremos:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker volume <span class="nb">ls</span> <span class="nt">-f</span> <span class="nv">dangling</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div></div>

<p>Localizaremos los que queremos borrar y lo haremos con el mismo comando del punto anterior:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker volume <span class="nb">rm</span>
</code></pre></div></div>

<p>Si queremos borrar todos los dangling volumes, ejecutaremos:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">   usuari@raspberry:~$</span><span class="w"> </span>docker volume prune
</code></pre></div></div>

<h4 id="referencia">Referencia</h4>
<ul>
  <li><a href="https://www.vidaxp.com/tecnologia/como-borrar-imagenes-contenedores-y-volumenes-docker" target="_blank">Como borrar containers, imagenes, etc…</a></li>
</ul>

    
    </section>

    <!-- Social media shares -->
    
 
  




    <!-- Tag list -->
    
    


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tag</li>
      

      
        <li><a class="button" href="/tags#Docker">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Docker</p>
        </a></li>
      
    </ul>
  </div>



</article>




<!-- To change color of links in the page --> <style> header#main { background-size: cover; background-repeat: no-repeat; background-position: center; } header#main { background-image: url('/assets/img/feature-img/logo_post.jpg'); } </style> <!-- Post navigation --> <div id="post-nav"> <div id="previous-post"> <a alt="Raspberry Pi. Pasos para instalar Docker en Raspbian" href="/docker/raspberry%20pi/2020/03/08/rpi-usando-docker.html"> <p>Previous post</p> Raspberry Pi. Pasos para instalar Docker en Raspbian </a> </div> <div id="next-post"> <a alt="TIP Sobre Raspbian / Raspberry" href="/hardware/raspberry%20pi/2019/12/13/tip-raspbian-raspberry.html"> <p>Next post</p> TIP Sobre Raspbian / Raspberry </a> </div> </div> <!--Utterances--> <!-- Cusdis --> <!-- Disqus -->


    </div>
    
    <footer class="site-footer"> <ul> <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.ca" title="This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"><i class="fab fa-creative-commons fa-stack fa-lg"></i></span><span class="fa-stack fa-lg"><i class="fab fa-creative-commons-by fa-stack fa-lg"></i></span><span class="fa-stack fa-lg"><i class="fab fa-creative-commons-nc-eu fa-stack fa-lg"></i></span> </a> </ul> <p class="text"> Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/sylhare/Type-on-Strap">Type on Strap</a> </p> <div class="footer-icons"> <ul> <!-- Social icons from Font Awesome, if enabled --> <li> <a feed.xml href="/feed.xml" title="Follow RSS feed" target="_blank"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://github.com/vctrsnts" title="Follow on Github" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://mastodon.online/@vsantos" title="Follow on Mastodon" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-mastodon fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://vctrsnts.tumblr.com/" title="Follow on Tumblr" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-tumblr fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://vsantos.wordpress.com/" title="Follow on Wordpress" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-wordpress fa-stack-1x fa-inverse"></i> </span> </a> </li> </ul> </div> <script type="module"> mermaid.initialize({ startOnLoad: false, theme: "default" }); mermaid.run({ nodes: [...document.querySelectorAll('.language-mermaid'), ...document.querySelectorAll('.mermaid')] }); </script> </footer>
  </body>
</html>
