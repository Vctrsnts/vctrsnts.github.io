<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Matrix - 3. De Matrix a Gotify - Si lo haces, hazlo bien!</title><meta name="Description" content="Hay 10 tipos de personas en el mundo. Las que saben binario y las que no">
<meta name="fediverse:creator" content="@vsantos@mastodon.online">

<meta property="og:image" content="/images/logo_post.jpg" >

<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt">
<meta name="referrer" content="no-referrer" /><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://vctrsnts.github.io/2025-05-19-matrix-gotify/" /><link rel="prev" href="https://vctrsnts.github.io/2025-04-20-modificaciones-servidor-3/" /><link rel="next" href="https://vctrsnts.github.io/2025-05-21-restic-copias-locales-1/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Matrix - 3. De Matrix a Gotify",
        "inLanguage": "es",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/vctrsnts.github.io\/2025-05-19-matrix-gotify\/"
        },"image": ["https:\/\/vctrsnts.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "VPS, Docker, Matrix, Gotify","wordcount":  780 ,
        "url": "https:\/\/vctrsnts.github.io\/2025-05-19-matrix-gotify\/","datePublished": "2025-05-20T00:00:00+00:00","dateModified": "2025-05-20T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "vsantos","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/vctrsnts.github.io\/images\/logo.png",
                    "width":  129 ,
                    "height":  129 
                }},"author": {
                "@type": "Person",
                "name": "vsantos"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Si lo haces, hazlo bien!"><span class="header-title-pre"><i class='fa-brands fa-debian' aria-hidden='true'></i></span>Si lo haces, hazlo bien!</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="https://vsantos.envs.net" title="Llibres" rel="noopener noreffer" target="_blank"> Llibres </a><a class="menu-item" href="/tags/"> Etiquetas </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Busca t칤tulos o contenido..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Buscar">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Limpiar">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Si lo haces, hazlo bien!"><span class="header-title-pre"><i class='fa-brands fa-debian' aria-hidden='true'></i></span>Si lo haces, hazlo bien!</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Busca t칤tulos o contenido..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Buscar">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Limpiar">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancelar
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="https://vsantos.envs.net" title="Llibres" rel="noopener noreffer" target="_blank">Llibres</a><a class="menu-item" href="/tags/" title="">Etiquetas</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Matrix - 3. De Matrix a Gotify</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>vsantos</a></span>&nbsp;<span class="post-category">incluido en <a href="/categories/vps/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>VPS</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="20-05-2025">20-05-2025</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;780 palabras&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;4 minutos&nbsp;</div>
        </div><div class="content" id="content"><p>Como bien sabeis, porque lo explique en este <a href="/2025-03-25-instal-config-matrix" rel="">articulo</a> y en este <a href="/2025-03-27-pushbits" rel="">otro</a>, estaba usando <strong>Matrix</strong> como servidor de comunicaci칩n entre mis servidores y un servidor. Pero mientras m치s lo usaba, m치s desesperaci칩n me producia, porque, puede parecer una tonteria, pero en el movil, no recibia las notificaciones de los mensajes que me llegaban al cliente de <strong>Matrix</strong>, que en este caso era <strong>FluffyChat</strong>.</p>
<p>Lo habia instalado tanto de <strong>F-Droid</strong> como de la <strong>PlayStore</strong> y en los 2 casos, con el mismo resultado, no me llegaban las notificaciones. Tambien habia probado <strong>Element</strong> con el mismo resultado. Instale <strong>Synapse</strong> tambi칠n en el VPS para ver si el problema estaba en <strong>Conduit</strong>, pero ni asi lograba que me llegaran las notificaciones.</p>
<p>Investigue por todos sitios, <em>gitHub</em> de <em>Conduit</em>, matrix de <em>Conduit</em> y siempre con los mismos resultados, o no me respondian, o no entendian el motivo del porque no funcionaba.</p>
<p>Al final ya no sabia que hacer, hasta que <a href="https://elblogdelazaro.org/gu%C3%ADa-paso-a-paso-c%C3%B3mo-instalar-gotify-en-unraid" target="_blank" rel="noopener noreffer ">Carlos M.</a> publico un nuevo articulo de como instalar <strong>Gotify</strong> en <strong>unRaid</strong>, en mi caso no seria en <strong>unRaid</strong>, porque sino, tengo que abrir el servidor al mundo entero y es una cosa que quiero evitar, pero como tengo el VPS, pues decidi instalarlo ahi.</p>
<p>Tengo que decir que yo ya jugaba con un poco de ventaja con respecto a <strong>Gotify</strong>, porque hace un par de a침os, antes de usar <strong>Telegram</strong> como servidor de notificaciones de mis servicios y de <strong>unRaid</strong>, lo habia utilizado, pero no me acabada de convencer, porque eso de tener 2 aplicaciones abiertas en el movil, <em>telegram</em> y a la vez <em>gotify</em> para recibir las notificaciones, pues me parecia un derroche de bateria, asi que al final lo acabe poniendo todo el <em>telegram</em> porque era la que m치s usaba.</p>
<p>Asi que de vuelta al ruedo, a realizar la instalaci칩n de <strong>Gotify</strong>, a traves de su correspondiente <code>docker-compose</code>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-yaml">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copiar al portapapeles"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="w"> </span><span class="nt">gotify</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">gotify/server:latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">gotify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">env_file</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">gotify.env</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">${HOME}/config/gotify:/app/data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">proxy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">traefik.enable=true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">traefik.http.services.gotify.loadbalancer.server.port=80</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">traefik.http.routers.gotify.entrypoints=websecure</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">traefik.http.routers.gotify.rule=Host(`${GOTIFY_SERVER}`)</span></span></span></code></pre></div></div>
<p>Lo unico que hay que tener en cuenta es el fichero <code>gotify.env</code>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-bash">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copiar al portapapeles"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">TZ</span><span class="o">=</span>Europe/Andorra</span></span></code></pre></div></div>
<p>Que es donde se configura la zona horaria, pero el resto, es como cualquier otro <em>docker-compose</em>, ahora solamente queda hacer un <code>docker commpose up -d gotify</code> y listo, y como adem치s lo tengo configurado para que use <em>traefik</em> siguiendo los magnificos articulos que pone a disposici칩n del publico <strong>atareo</strong>, pues es todo mucho m치s facil.</p>
<p>Lo que si que tengo que agradecer a <strong>Lazaro</strong>, es que en su <a href="https://elblogdelazaro.org/gu%C3%ADa-paso-a-paso-c%C3%B3mo-instalar-gotify-en-unraid" target="_blank" rel="noopener noreffer ">articulo</a>, explica muy bien todo el tema de las aplicaciones, que seguramente fue una de las razones del porque me echo para atras <strong>Gotify</strong> cuando lo use la primera vez, junto con que puedes poner los iconos de cada aplicaci칩n, pues ya lo tenia todo en marcha. Solo me faltaba instalar la aplicaci칩n en el movil y tenia todas las notificaciones de mis serviciones a mi disposici칩n y encima diferenciadas por aplicaciones (salas) para que todo estuviera m치s claro y facil de entender:</p>
<ul>
<li>Backups
<ul>
<li>En mi caso, las copias de seguridad las hago a traves de <strong>restic</strong>, otro articulo que tengo que hacer (y tambien gracias a <strong>atareao</strong> por dar a conocer el sistema de copias que el usa), y que junto a un <em>script</em> de <strong>Gotify</strong> podia estar informado de cuando y como se habian echo las copias de seguridad.</li>
</ul>
</li>
<li>flexGet</li>
<li>unRaid</li>
<li>Gesti칩n de Podcast</li>
<li>Y m치s cosas que quiera a침adir gracias a los plugins que tiene
<ul>
<li>Aqui tengo que hacer un inciso, los que yo encontre son un poco 游뗴 y no se les puede sacar mucho provecho.</li>
</ul>
</li>
</ul>
<p>El script en cuesti칩n es el siguiente:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-bash">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copiar al portapapeles"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># SCRIPT PER ENVIAR LES NOTIFICACIONS</span>
</span></span><span class="line"><span class="cl">curl -s -S --data <span class="se">\ </span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;{&#34;message&#34;: &#34;&#39;</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">DIR_NAME</span><span class="si">}</span><span class="s2">.xml&#34;</span><span class="s1">&#39;&#34;, &#34;title&#34;: &#34;&#39;</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">TITLE_RSS</span><span class="si">}</span><span class="s2">&#34;</span><span class="s1">&#39;&#34;, \
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;priority&#34;:&#39;</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">GOTIFY_PRIORITY</span><span class="si">}</span><span class="s2">&#34;</span><span class="s1">&#39;, &#34;extras&#34;: {&#34;client::display&#34;: \
</span></span></span><span class="line"><span class="cl"><span class="s1">  {&#34;contentType&#34;: &#34;text/markdown&#34;}}}&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="s2">&#34;</span><span class="nv">$GOTIFY_SERVER</span><span class="s2">&#34;</span></span></span></code></pre></div></div>
<p>Con esto, ya tengo de nuevo en marcha mi sistema de notificaciones para substituir <strong>telegram</strong> por algo m치s <strong>libre</strong> y asi tener <strong>mas libertad digital</strong> tal como dice <strong>Lorenzo</strong>.</p>
<p>Los que tengais el dashboard de <strong>HomePage</strong>, saber que si usar <strong>Gotify</strong> tienes un widget, que puedes usar y tener a la vista las <em>aplicaciones</em>, los <em>clientes</em> y los <em>mensajes</em> recibidos. En este <a href="/2024-06-03-usando-homepage-2" rel="">articulo</a> teneis una imagen de como queda.</p>
<p>Aqui tengo que hacer un inciso, no os penseis que me he olvidado de <strong>Matrix</strong>, aun lo tengo en la cabeza metido molestando y riendose de mi, porque no lo he hecho funcionar correctamente, algo parecido a esto:</p>
<p><figure><a class="lightgallery" href="/images/cerebro.jpg" title="/images/cerebro.jpg" data-thumbnail="/images/cerebro.jpg" data-sub-html="<h2>Pensando</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/cerebro.jpg"
            data-srcset="/images/cerebro.jpg, /images/cerebro.jpg 1.5x, /images/cerebro.jpg 2x"
            data-sizes="auto"
            alt="/images/cerebro.jpg" />
    </a><figcaption class="image-caption">Pensando</figcaption>
    </figure></p>
<p>Pero tiene que saber, que a mi me cuesta mucho darme por vencido y que al final conseguire hacer funcionar correctamente a <strong>Matrix</strong>, pero ya explicare en otro articulo, como me va mi lucha contra 칠l.</p>
<h4 id="referencia">Referencia</h4>
<ul>
<li><a href="https://elblogdelazaro.org/gu%C3%ADa-paso-a-paso-c%C3%B3mo-instalar-gotify-en-unraid" target="_blank" rel="noopener noreffer ">Gu칤a Paso a Paso: C칩mo Instalar Gotify en Unraid</a></li>
</ul></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Actualizado el 20-05-2025</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/vps/">VPS</a>,&nbsp;<a href="/tags/docker/">Docker</a>,&nbsp;<a href="/tags/matrix/">Matrix</a>,&nbsp;<a href="/tags/gotify/">Gotify</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Regresar</a></span>&nbsp;|&nbsp;<span><a href="/">Inicio</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/2025-04-20-modificaciones-servidor-3/" class="prev" rel="prev" title="Modificaciones en el servidor - 3"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Modificaciones en el servidor - 3</a>
            <a href="/2025-05-21-restic-copias-locales-1/" class="next" rel="next" title="Restic &#43; Backrest &#43; MiniO - 1">Restic + Backrest + MiniO - 1<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Con la tecnolog칤a de <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.148.1">Hugo</a> | Tema - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.1-DEV"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2008 - 2025</span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/deed.ca" target="_blank">CC BY-NC 4.0</a></span></div></div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a>
        </div>

        <div id="fixed-buttons-hidden"><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.es.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script>window.config={"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"es","maxResultLength":10,"noResultsFound":"No se encontraron resultados","snippetLength":30,"type":"lunr"}};</script><script src="/js/theme.min.js"></script><script src="https://umami.ahnenerbe.duckdns.org/script.js" async defer data-website-id="9f47f0ba-ee02-448a-ae62-d77f2390187c"></script></body>
</html>
