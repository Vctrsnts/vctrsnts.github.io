<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.9
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="es">
  
  <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5"> <!-- UMAMI --> <script defer src="https://umami.ahnenerbe.duckdns.org/script.js" data-website-id="c512a056-cf0b-43ad-9f5e-b4cda9a0eedf"></script> <!-- MASTODON CREATOR --> <link rel="me" href="https://mastodon.online/@vsantos" /> <meta name="fediverse:creator" content="@vsantos@mastodon.online"> <!-- STYLE --> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"> <!-- Theme Mode--> <script> const darkBtn = "Dark"; const lightBtn = "Light"; const isAutoTheme = false; const preferredTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'; if (isAutoTheme) { document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme') ?? preferredTheme); } else { document.documentElement.setAttribute('data-theme', "dark"); } </script> <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)--> <script defer src="/assets/js/main.min.js"></script> <!-- CSS --> <link rel="stylesheet" href="/assets/css/main.css"> <!--Favicon--> <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"> <!-- KaTeX 0.16.9 --> <!-- Mermaid 10.8.0 --> <script defer src="/assets/js/vendor/mermaid.min.js"></script> <!-- Simple Jekyll Search 1.10.0 --> <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script> <!-- Google Analytics / Cookie Consent --> <!-- <script> const cookieName = 'cookie-notice-dismissed-https://vctrsnts.github.io'; const isCookieConsent = 'false'; const analyticsName = ''; const analyticsNameGA4 = ''; </script> --> <!-- seo tags --> <meta property="og:image" content="https://vctrsnts.github.io/assets/img/feature-img/logo_post.jpg"> <meta property="og:type" content="website" /> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Controlando la temperatura del servidor | Si lo haces, hazlo bien!</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Controlando la temperatura del servidor" /> <meta name="author" content="VSANTOS" /> <meta property="og:locale" content="es_ES" /> <meta name="description" content="Como ya comente en el anterior articulo donde explicaba que habia puesto un Xeon en mi servidor y todo lo referente a la temperatura. Pero claro, eso me gustaria verlo reflejado en unRAID, porque hasta ahora, solamente habia podido visualizar la temperatura de la CPU, de la placa base era imposible cuando teoricamente los Tiny son equipos con componentes muy normales y comunes." /> <meta property="og:description" content="Como ya comente en el anterior articulo donde explicaba que habia puesto un Xeon en mi servidor y todo lo referente a la temperatura. Pero claro, eso me gustaria verlo reflejado en unRAID, porque hasta ahora, solamente habia podido visualizar la temperatura de la CPU, de la placa base era imposible cuando teoricamente los Tiny son equipos con componentes muy normales y comunes." /> <link rel="canonical" href="https://vctrsnts.github.io/hardware/unraid/2024/10/20/controlado-temperatura-servidor.html" /> <meta property="og:url" content="https://vctrsnts.github.io/hardware/unraid/2024/10/20/controlado-temperatura-servidor.html" /> <meta property="og:site_name" content="Si lo haces, hazlo bien!" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2024-10-20T00:00:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Controlando la temperatura del servidor" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"VSANTOS","url":"https://github.com/vctrsnts"},"dateModified":"2024-10-20T00:00:00+00:00","datePublished":"2024-10-20T00:00:00+00:00","description":"Como ya comente en el anterior articulo donde explicaba que habia puesto un Xeon en mi servidor y todo lo referente a la temperatura. Pero claro, eso me gustaria verlo reflejado en unRAID, porque hasta ahora, solamente habia podido visualizar la temperatura de la CPU, de la placa base era imposible cuando teoricamente los Tiny son equipos con componentes muy normales y comunes.","headline":"Controlando la temperatura del servidor","mainEntityOfPage":{"@type":"WebPage","@id":"https://vctrsnts.github.io/hardware/unraid/2024/10/20/controlado-temperatura-servidor.html"},"url":"https://vctrsnts.github.io/hardware/unraid/2024/10/20/controlado-temperatura-servidor.html"}</script> <!-- End Jekyll SEO tag --> <!-- RSS --> <link rel="alternate" type="application/atom+xml" title="Si lo haces, hazlo bien!" href="https://vctrsnts.github.io/feed.xml"/> <link type="application/atom+xml" rel="alternate" href="https://vctrsnts.github.io/feed.xml" title="Si lo haces, hazlo bien!" /> <!-- Twitter Cards --> <meta name="twitter:title" content="Controlando la temperatura del servidor"> <meta name="twitter:description" content="Como ya comente en el anterior articulo donde explicaba que habia puesto un Xeon en mi servidor y todo lo referente a la temperatura.Pero claro, eso me gusta..."> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="https://vctrsnts.github.io/assets/img/feature-img/logo_post.jpg"> <meta name="twitter:image:alt" content="Controlando la temperatura del servidor"> </head>
  <body>
    
    <header class="site-header"> <!-- Logo and title --> <div class="branding"> <a href="/"> <img alt="logo img" class="avatar" src="/assets/img/logo.png" loading="lazy"/> </a> <a class="site-title" aria-label="Si lo haces, hazlo bien!" href="/"> Si lo haces, hazlo bien! </a> </div> <!-- Toggle menu --> <nav class="clear"> <a aria-label="pull" id="pull" class="toggle" href="#"> <i class="fas fa-bars fa-lg"></i> </a> <!-- Menu --> <ul class="hide"> <li class="separator"> | </li> <li> <a class="clear" aria-label="Libros" title="Libros" href="https://vctrsnts.github.io/llibres"> <span class="navbar-label ">Libros</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="About" title="About" href="/about/"> <span class="navbar-label ">About</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Archivo" title="Archivo" href="/archive"> <span class="navbar-label ">Archivo</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Tags" title="Tags" href="/tags/"> <i class="navbar-icon fas fa-tags" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Tags</span> </a> </li> <li class="separator"> | </li> <li> <a class="clear" aria-label="Search" title="Search" href="/search/"> <i class="navbar-icon fas fa-search" aria-hidden="true"></i> <span class="navbar-label navbar-label-with-icon">Search</span> </a> </li> </ul> </nav> </header>
    <div class="content">
      <article class="feature-image" >
    <header id="main" style="">
        <div class="title-padder">
            
                <h1 id="Controlando+la+temperatura+del+servidor" class="title">Controlando la temperatura del servidor</h1>
                


<div class="post-info"><a href="https://github.com/vctrsnts" target="_blank" rel="noopener">
      <img alt="Author's avatar" src="/assets/img/avatar.jpg" loading="lazy">
    
    <p class="meta">
      VSANTOS - 
      
      Octubre 20, 2024
    </p></a></div>

            
        </div>
    </header>

    <section class="post-content">
    
            <p>Como ya comente en el anterior <a href="/hardware/2024/10/19/modificando-servidor-2.html" target="_blank">articulo</a> donde explicaba que habia puesto un <strong>Xeon</strong> en mi servidor y todo lo referente a la temperatura.</p>

<p>Pero claro, eso me gustaria verlo reflejado en <strong>unRAID</strong>, porque hasta ahora, solamente habia podido visualizar la temperatura de la CPU, de la placa base era imposible cuando teoricamente los Tiny son equipos con componentes muy normales y comunes.</p>

<!-- more -->

<p>Pues en este caso, de comunes lo tienen todo menos los sensores de control de la temperatura. Además <strong>unRAID</strong> no ayudaba mucho con ello. Seguramente muchos direis, y por que no instalas el plugin <strong>Dynamix System Temperature</strong> y problema solucionado.</p>

<p>Ya lo tengo instalado y aun así, lo unico que podia visualizar era la temperatura de la CPU:</p>

<div class="row">
    
    <div style="flex: 100.0%">
        <img class="single" src="/assets/img/images/configure_temperature_01.jpg" alt="configure_temperature_01.jpg" />
    </div>
    
</div>

<p>Y eso que teoricamente <em>sensors</em> funcionaba correctamente. Eso creia yo.</p>

<p>Asi que después de instalar el <strong>Xeon</strong> me propuse visualizar todas las temperaturas posibles para asi controlar mejor el servidor, porque no es lo mismo tener un <em>i5-6500T</em> que un <strong>Xeon</strong> y lo primero de todo era saber que <strong>sensor</strong> se tenian que usar para poder visualizar la información de ellos. y resulto que me toco el peor de todos, el que es más complicado de hacer funcionar. Ni más ni menos que el <strong>nct6683</strong>.</p>

<p>Y en todos los sitios que encontraba información, porque me resulto muy dificil, decian que no era nada facil hacerlo funcionar en GNU/Linux, pero yo segui buscando hasta que encontre la siguiente <a href="https://fun2ex.com/fixed-z370m-pro4-unraid-temperature-problem" target="_blank">web</a>, donde explicaban que se tenia que hacer para hacer funcionar los sensores del <strong>nct6683</strong>.</p>

<p>Lo que habia que hacer es ejecutar lo siguiente:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">root@unRaid: modprobe coretemp
root@unRaid: modprobe -r nct6683
root@unRaid: modprobe nct6683 force=1
</span></code></pre></div></div>
<p>Y lo probe, y mira por donde que dio resultado. Podia ver todos los sensores disponibles en la placa, incluido la velocidad del ventilador.</p>

<div class="row">
    
    <div style="flex: 100.0%">
        <img class="single" src="/assets/img/images/configure_temperature_02.jpg" alt="configure_temperature_02.jpg" />
    </div>
    
</div>

<p>Asi que me dije, pues mira, no ha sido tan dificil como parecia.</p>

<p>Ingenuo de mi. <strong>UnRAID</strong> no hace nada para facilitar las cosas, sino todo lo contrario, las complica y cada vez, me estoy dando cuenta de ello.</p>

<p>Lo que pasa es que si reinicias <strong>unRAID</strong> todo se pierde y ya no detecta nada. Asi que tenia que buscar una manera de que esta configuración fuera permanente. Busque información sobre que hacer en estos casos en <strong>unRAID</strong> y un <a href="https://forums.unraid.net/topic/18959-script-to-enable-sata-controllers-without-kernel-modification/" target="_blank">hilo</a> decia, que si pones un fichero <code class="language-plaintext highlighter-rouge">bash</code> en <code class="language-plaintext highlighter-rouge">/boot/config</code> el sistema lo ejecuta cuando se inicia. Pero no pasaba asi y si queria que los sensores volvieran a funcionar, tenia que volver a ejecutar las 3 instrucciones de nuevo.</p>

<p>En otro <a href="https://forums.unraid.net/topic/143931-how-can-i-get-modules-to-load-on-reboot-automatically/" target="_blank">hilo</a>, que si lo pones en <code class="language-plaintext highlighter-rouge">/boot/custom/scripts</code> tambien funcionaba, pero en mi caso, ninguno de los 2 casos era el correcto.</p>

<p>Y no veia la manera de como solucionar la cosa, hasta que recorde, que tengo un <code class="language-plaintext highlighter-rouge">script</code> que se ejecuta cada vez que se inician los arrays, que me instala las aplicaciones necesarias para hacer publicaciones en <em>Mastodon</em>, y pense, porque no, si ejecuto el <code class="language-plaintext highlighter-rouge">bash</code> cada vez que se inicia el array, tendria que funcionar sin ningun problema.</p>

<p>No tenia nada que perder, y lo probe. Y resulto perfecto. Ya podia visualizar correctamente la temperatura de la CPU, de la placa base y la velocidad del ventilador. Que más se podia pedir. Pero eso si, tener que recurrir a scripts para hacer esto, me parece un poco 😡</p>

<p>Y asi se puede ver como queda actualmente:</p>

<div class="row">
    
    <div style="flex: 100.0%">
        <img class="single" src="/assets/img/images/configure_temperature_03.jpg" alt="configure_temperature_03.jpg" />
    </div>
    
</div>

<p>Un pasito más que he dado para tener mi servidor como a mi me gusta.</p>

<p>Y ahora estoy pensando en conseguir que pueda enviar mis copias de seguridad de mi movil al servidor. He oido que hay un docker que se llama <strong>Syncthing</strong> que hace algo parecido, pero tengo que estudiarlo más.</p>

<p>Vosotros que servicios de docker teneis y que penseis que son indispensables de tener en un servidor???</p>

<h4 id="referencia">Referencia</h4>
<ul>
  <li><a href="https://fun2ex.com/fixed-z370m-pro4-unraid-temperature-problem" target="_blank">Resolve the issue of the ASRock Z370M-Pro4 motherboard not being able to obtain fan speed in Unraid</a></li>
  <li><a href="https://forums.unraid.net/topic/115301-%E6%B8%A9%E5%BA%A6%E6%A3%80%E6%B5%8B%E6%8F%92%E4%BB%B6%E6%97%A0%E6%B3%95%E6%A3%80%E6%B5%8B%E5%88%B0%E4%B8%BB%E6%9D%BF%E9%A3%8E%E6%89%87%E7%9A%84%E8%BD%AC%E9%80%9F" target="_blank">El complemento de detección de temperatura no puede detectar la velocidad del ventilador de la placa base, <strong>web en chino</strong></a></li>
  <li><a href="https://forums.unraid.net/topic/18959-script-to-enable-sata-controllers-without-kernel-modification/" target="_blank">Script to enable SATA Controllers without kernel modification</a></li>
  <li><a href="https://forums.unraid.net/topic/143931-how-can-i-get-modules-to-load-on-reboot-automatically/" target="_blank">How can I get modules to load on reboot automatically?</a></li>
</ul>

    
    </section>

    <!-- Social media shares -->
    




    <!-- Tag list -->
    
    


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tags</li>
      

      
        <li><a class="button" href="/tags#Hardware">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> Hardware</p>
        </a></li>
      
        <li><a class="button" href="/tags#unRAID">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> unRAID</p>
        </a></li>
      
    </ul>
  </div>



</article>




<!-- To change color of links in the page --> <style> header#main { background-size: cover; background-repeat: no-repeat; background-position: center; } header#main { background-image: url('/assets/img/feature-img/logo_post.jpg'); } </style> <!-- Post navigation --> <div id="post-nav"> <div id="previous-post"> <a alt="Los podcast que escucho" href="/blog/2024/10/21/podcast-escucho.html"> <p>Previous post</p> Los podcast que escucho </a> </div> <div id="next-post"> <a alt="Modificaciones en el servidor - 2" href="/hardware/2024/10/19/modificando-servidor-2.html"> <p>Next post</p> Modificaciones en el servidor - 2 </a> </div> </div> <!--Utterances--> <!-- Cusdis --> <!-- Disqus -->


    </div>
    
    <footer class="site-footer"> <ul> <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.ca" title="This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License" target="_blank" rel="noopener"> <span class="fa-stack fa-lg"><i class="fab fa-creative-commons fa-stack fa-lg"></i></span><span class="fa-stack fa-lg"><i class="fab fa-creative-commons-by fa-stack fa-lg"></i></span><span class="fa-stack fa-lg"><i class="fab fa-creative-commons-nc-eu fa-stack fa-lg"></i></span> </a> </ul> <p class="text"> Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/sylhare/Type-on-Strap">Type on Strap</a> </p> <div class="footer-icons"> <ul> <!-- Social icons from Font Awesome, if enabled --> <li> <a feed.xml href="/feed.xml" title="Follow RSS feed" target="_blank"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://github.com/vctrsnts" title="Follow on Github" target="_blank" rel="me"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://mastodon.online/@vsantos" title="Follow on Mastodon" target="_blank" rel="me"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-mastodon fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://vctrsnts.tumblr.com/" title="Follow on Tumblr" target="_blank" rel="me"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-tumblr fa-stack-1x fa-inverse"></i> </span> </a> </li> <li> <a href="https://bsky.app/profile/vctrsnts.bsky.social" title="Follow on Bluesky" target="_blank" rel="me"> <span class="fa-stack fa-lg"> <i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-bluesky fa-stack-1x fa-inverse"></i> </span> </a> </li> </ul> </div> <script type="module"> mermaid.initialize({ startOnLoad: false, theme: "default" }); mermaid.run({ nodes: [...document.querySelectorAll('.language-mermaid'), ...document.querySelectorAll('.mermaid')] }); </script> </footer>
  </body>
</html>
