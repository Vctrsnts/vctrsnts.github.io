[{"categories":["Debian GNU/Linux"],"content":"Tal como inicie a finales del 2024 con el articulo sobre las aplicaciones que uso, pues aqui teneis las aplicaciones de este a√±o, donde ya digo, que ha sido un a√±o muy convulso con referencia a las aplicaciones que estoy usando ultimamente. Es lo que me pasa a mi, que gracias a estos listados, descubro nuevas cosas que me son utiles y que por mi cuenta, nunca habria pensado en ello. Pues aqui esta mi lista: üìÆ Servidor de correo: Riseup y GMail üì® Cliente de correo: Claws Mail (en escritorio) y K9-Mail (Pixel) üì∏ Camara de fotos: Camara del Pixel üñºÔ∏è Gestor de fotos: Immich (autoalojado) y que descubri hace poco gracias a Carlos M. üóÉÔ∏è Copias de seguridad: Backrest y restic (autoalojado) y que descubri gracias a Carlos M. üîé Navegador: Firefox pero usando este script para hacer m√°s incapie con todo lo referente a la privacidad. üí¨ Chat: Telegram, Matrix (para las notificaciones de mis servicios) y WhatsApp. üìù Editor de texto: Geany. üéûÔ∏è Ver despu√©s: Mpv o Libreelec (HTC) ‚òÅÔ∏è Almacenamiento en la nube: el espacio que me da mi servidor (unRaid) üéß Musica: Navidrome (autoalojado), Sonixd (en escritorio) y Symfonium (Pixel) Al final me canse de tener problemas con los reproductores que usaba en mi movil y me decidi por uno que sabia que no me iba a fallar y este fue Symfonium (tener en cuenta que es de pago, pero lo vale). üìª Podcast: AnntenaPod üîê Gestor de contrase√±as: Bitwarden üìì Gesti√≥n del blog: Hugo y que descubri gracias a Carlos. Antes de finalizar este ultimo articulo del a√±o, tengo que hacer un inciso, a parte del cambio en algunas aplicaciones, el cambio m√°s importante que ha habido es el cambio de distribuci√≥n. Durante 20 a√±os, estuve usando Debian GNU/Linux pero despu√©s de unos problema / desencanto que tuve, que podeis leer aqui, ahora estoy usando Arch Linux y de momento todo son buenas sensaciones. No he tenido ninguno de los problemas que siempre se le achacan a esta distribuci√≥n. A ver si el a√±o que viene tambien le doy continuaci√≥n a este tipo de articulos, que considero que son buenos, porque gracias a ellos, la gente puede descubrir nuevas aplicaciones. Referencia Symfonium BetterFox ","date":"28-12-2025","objectID":"/2025-12-28-aplicaciones-2025/:0:0","tags":["Debian GNU/Linux"],"title":"Mis aplicaciones por defecto 2025","uri":"/2025-12-28-aplicaciones-2025/"},{"categories":["Blog"],"content":"Pues ya estamos llegando al final de este a√±o. No ha estado mal, pero ya vendra en otro articulo. Ahora vamos a hablar de como ha ido el a√±o con referencia a los podcast que he escuchado este 2025. Y para muestra, un boton‚Ä¶ Este es el resumen que me ha dado AntennaPod de este 2025. Y los que estan en el top 5 son los siguientes: Podcast El meu feed personal: Este no es un podcast o feed al uso, sino que es una recopilaci√≥n de feeds que tengo gracias a la aplicaci√≥n rss-funnel que nos dio a conocer ugeek y que desde entonces vengo usando (aunque da la sensaci√≥n de estar abandonado), pero tal como esta, es funcional y facil de usar. En el feed que genero tengo a: atareao Papa Friki y sus peleas con immich üòÄ Los Ultimos De Feedlipinas Frente Al Cliente de Jose Charlando Con‚Ä¶ tambien de PapaFriki Podcast Linux se te echa de menos Yoyo308 con subeparriba, que aunque cueste creelo, es uno de los pocos podcast que le gustan a mi pareja üòÄ uGeek Voromv Espa√±a Criminal Sayonara Techno Pa Ti La Perra Gorda que me da la sensaci√≥n de que son pareja por la complicidad que demuestran üòÄ Hardware Addictos y sus comentarios con respecto a los libros que va leyendo. En mencion especial a la saga de James Bond. HistoCast y sus magnificos podcast sobre historia. Memorias de un Tambor En Guardia, el magnifico y longevo programa de radio que dan en Catalunya Radio donde explican de manera amena, la historia de Catalunya y del mundo. El podcast de referencia en mi podcacher. HeroinasyMalvadas que lo descubri, creo que gracias a Jose de Frente Al Cliente y es una delicia escuchar las historias sobre personajes femeninos que despu√©s de haber pasado por el filtro de la historia nos han llegado como malvadas por querer llevar la contraria a la sociedad en la que tuvieron que vivir, donde el rol de las mujeres ya estaba marcado desde el momento de su nacimiento. Aunque no salen entre los 5 primeros tambien quiero felicitar a: Mujeres con Historia Lignum en Roma No se si se nota, pero me gusta mucho todo lo relacionado con la historia üòÄ Y daros las gracias a todos los creadores de estos podcast por todo el maravilloso trabajo que haceis y todos los conocimientos que aportais o la calma, tranquilidad y desconexi√≥n que aportais a este mundo tan estresado. Muchas gracias!!! üëèüëèüëè Referencia","date":"22-12-2025","objectID":"/2025-12-25-podcast-2025/:0:0","tags":["Blog","Podcast"],"title":"Podcast 2025. Resumen","uri":"/2025-12-25-podcast-2025/"},{"categories":["Blog"],"content":"Despu√©s de leer el mensaje que ha lanzado el CEO de gitHub que en pocas palabras ha hecho una ayusada, me he propuesto hacerle caso y voy a ir migrando, dentro de lo que cabe, todo a Codeberg. No tenia pensado hacer el cambio, pero despu√©s de leer este articulo, a uno le dan ganas de salir corriendo, pero claro, no lo puedes hacer a las bravas si es hay donde tienes alojada tu peque√±a pagina web. Asi que lo que he decidido es ir migrando poco a poco todo lo que tenia alojado hay. He archivado casi todos los proyectos que tenia y los he llevado a Codeberg. El unico proyecto que aun queda en pie es la pagina web. Os preguntareis como conoci CodeBerg, ahora que lo pienso, no se si leyendo por internet o en alguno de los canales de telegram a los que estoy subscrito: atareao HomeLabs Realmente no me acuerdo, pero cuando lo descubri, me cree mi cuenta, para asi poder tener reservado mi nombre de usuario, porque contra m√°s tardes, m√°s dificil se hace luego tener el nombre de usuario que quieres, y segundo, porque nunca se sabe si algun dia lo vas a utilizar. Mi idea principal, era utilizarlo para la web alternativa que tengo donde voy poniendo los libros que voy leyendo, pero esta al final, la tengo alojada en envs.net. Nota envs.net es un servidor libre para peque√±as pruebas o paginas web, alojadas sin ningun animo de lucro y como para la web alternativa, no necesitaba mucho y el trafico iba a ser infimo, pues era el sitio correcto. Tambien pense en que podia poner mi blog aqui, pero no lo vi claro, porque si ya tengo pocas visitas en gitHub, si lo hubiera llevado a codeBerg, las visitas ya os podeis imaginar como irian‚Ä¶ Aunque si estas leyendo esto, seguramente has accedido al blog que esta alojado en codeberg. Eso no quita que a la hora de subir los nuevos articulos lo haga en los 2 sitios, porque nunca se sabe donde puede acabar todo esto. Partiendo de esta idea y con ayuda de la IA, me he creado un script en bash, desde el cual hago la actualizaci√≥n de los 2 repositorios al mismo tiempo, gitHub y codeBerg. El script es el siguiente: #!/bin/bash # ================================================================ # Script: gitHubCodeBerg.sh # Descripci√≥n: Automatiza la generaci√≥n y despliegue de un sitio Hugo # en dos repositorios distintos (GitHub Pages y Codeberg Pages), # usando un √∫nico directorio `public/` pero con builds separados # para cada `baseURL`. Realiza dos commits consecutivos: # uno para GitHub y otro para Codeberg. # # Autor: Vctrsnts # Fecha: 25-11-2025 # Web: https://vctrsnts.codeberg.page # Licencia: GNU/GPL # Repositorios destino: # - GitHub: https://github.com/vctrsnts/vctrsnts.github.io # - Codeberg: https://codeberg.org/vctrsnts/pages # # Uso: # ./gitHubCodeBerg.sh fichero1 fichero2 ... ficheroN # # Notas: # - Requiere Docker con contenedor `hugoBlog`. # - Requiere claves SSH configuradas en: # ~/.ssh/github_web # ~/.ssh/idCodeBerg # - El script pregunta un mensaje de commit y lo aplica a ambos repos. # ================================================================ set -e # Detener el script si ocurre un error # Arrancar agente SSH de forma segura en /tmp unset XDG_RUNTIME_DIR ssh-agent -a /tmp/ssh-agent.sock \u003e /tmp/ssh-agent.env source /tmp/ssh-agent.env # A√±adir claves ssh-add ~/.ssh/github_web ssh-add ~/.ssh/idCodeBerg # Validaci√≥n de par√°metros if [ $# -eq 0 ]; then echo \"Error: no se han recibido archivos\" echo \"Uso: ./gitHubCodeBerg.sh fichero1 fichero2 ... ficheroN\" exit 1 fi for file in \"$@\"; do [ -e \"$file\" ] || { echo \"Error: $file no existe\"; exit 1; } done # Mensaje de commit read -p \"Entri el missatge del commit: \" TXT # Funci√≥n para build build_site() { local baseurl=$1 echo \"Generant web per $baseurl...\" docker exec -it hugoBlog hugo --baseURL=\"$baseurl\" } # Build y push a GitHub echo \"==== Build GitHub ====\" build_site \"https://vctrsnts.github.io\" git add \"$@\" git commit -m \"$TXT (GitHub)\" git push github master # Build y push a Codeberg echo \"==== Build Codeberg ====\" build_site \"https://","date":"03-12-2025","objectID":"/2025-12-03-migrando-codeberg/:0:0","tags":["Bash","GitHub"],"title":"Migrando a Codeberg","uri":"/2025-12-03-migrando-codeberg/"},{"categories":["hyprland"],"content":"Todas las despedidas son amargas. Siento decirlo, pero üò≠ asi no, Debian GNU/Linux me has fallado. Nuestra relaci√≥n de m√°s de 25 a√±os no tendria que haber acabado de esta manera. Tan abrupta y repentinamente. Pero asi ha sido, un desencuentro con respecto a hyprland, que entiendo que en stable esten los paquetes estables y a prueba de fallos (con lo que conlleva, versiones un poco antiguas), pero no puede ser que en unstable esta aun la versi√≥n 0.41.1 y, en cambio, la oficial (cuando estoy escribiendo este articulo) sea la 0.51.1. Esto no esta bien‚Ä¶ Esto ha llegado como consecuencia de hacer el cambio de mi antiguo portatil (el tiempo le ha pasado factura), al que tenia en reserva, m√°s informaci√≥n aqui porque como tenia que empezar desde cero, queria empezar con lo nuevo: Wayland Sway Adem√°s, si tienes un Xeon y la Nvida Quadro P1000, porque no le voy a sacar provecho a este hardware. Pero una cosa es la teoria y otra cosa muy distinta es la realidad. Ya lo entendereis. En la instalaci√≥n de Wayland y sway no tuve ningun problema, todo perfecto y como adem√°s ya venia usando I3wm, el cambio no fue nada traumatico. Hice unas mejoras que me permitia mejorar todo el ecosistema y que me gustaba resultaban muy positivas para todo el funcionamiento en si. Pero los problemas vinieron despu√©s. ü§Ø Cuando empece a usar sway notaba que la CPU se calentaba un poquito, pero nada fuera de lo normal, el problema vino cuando usaba firefox, que la cosa ya se ponia un poco caliente üî•, por no decir otra cosa. No le encontraba ningun sentido a ese comportamiento, antes con los mismos programas y con I3wm, eso si en XOrg y con un hardware m√°s limitado, no tenia estos problemas, porque ahora si. Me puse a investigar y a preguntar si alguien podia saber el motivo de este comportamiento. Al final descubri que el problema era firefox y una configuraci√≥n de uBlock Origin mucho m√°s agresiva de lo normal y eso hacia que firefox necesitara m√°s recursos, pero una asi seguia sin entender el porque de este comportamiento. El siguiente paso y aprovechando que tenia la Nvidia Quadro P1000, era instalar los drivers propietarios de la grafica para que firefox tuviera aceleraci√≥n por hardware y descargar la CPU de todo el trabajo que hacia (recordar que seguimos en Debian GNU/Linux). Todo tendria que haber sido facil y rapido, pero cuan equivocado estaba. Los primeros intentos fueron infructuosos por no decir penosos. O no me iniciaba sway o todo seguia igual, sin aceleraci√≥n por hardware. Asi que me fui a la raiz del problema, leer la documentaci√≥n oficial de sway y de Debian, cosa que tendria que haber echo desde el primer momento, pero digamoslo claro, quien se lee la documentaci√≥n o los manuales üòÖ para ver si habia soporte para Nvidia y la manera de su configuraci√≥n. Al final encontre la soluci√≥n, si se le puede llamar asi; sway no tiene de momento planes de utilizar los drivers de Nvidia. Pero bueno, si sway no los hacia servir, o mejor dicho, la compilaci√≥n de sway en Debian no los usaba, podria buscar otro tiling que si los hiciera servir, asi que buscando, me encontre con hyprland que si que los utilizaba y con buenas opiniones por parte de la gente que lo usaba. Adem√°s, atareao hablo de el en un video y le daba su bendici√≥n üòá. Pues a ello que me puse, la instalaci√≥n igual de sencilla que cuando la habia hecho con sway y la configuraci√≥n lo mismo. Muy facil y si adem√°s, estas acostumbrado a la configuraci√≥n de I3wm y sway, pues no tienes ningun problema. Lo unico que me faltaba era la instalaci√≥n de los drivers, que es donde seguia teniendo los mismos problemas que con sway. Seguia sin saber como solucionar este dichoso problema ü§¨. Cuando parecida que todo estaba correcto, hyprland no iniciaba indicandome que no encontraba ninguna GPU configurada ü•∫ y cosas por estilo. Aprovechando que tenia otro HDD, me propuse hacer una instalaci√≥n limpia de Debian GNU/Linux junto con Wayland m√°s los drivers de Nvidia y Hyprland. Entendiendo que no tendria que haber ningun p","date":"04-11-2025","objectID":"/2025-11-04-arch-debian-1/:0:0","tags":["hyprland","Arch Linux"],"title":"Hola Arch Linux. Adios Debian GNU/Linux - 1","uri":"/2025-11-04-arch-debian-1/"},{"categories":["sway"],"content":"Pues llegamos al tercer y ultimo articulo donde explico la transici√≥n de I3wm a Sway y las sensaciones que estoy teniendo mientras lo uso y por ultimo mi conclusi√≥n final. ","date":"15-10-2025","objectID":"/2025-10-15-i3wm-sway-3/:0:0","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 3","uri":"/2025-10-15-i3wm-sway-3/"},{"categories":["sway"],"content":"Compatibilidad con aplicaciones Con respecto a la integraci√≥n y compatibilitat de las aplicaciones que uso normalmente no he tenido ningun problema. Todo esta funcionando correctamente y sin problemas remarcables. Las aplicaciones diferentes que por necesidad estoy usando, son las siguientes: Waybar para la barra de estado. Aqui si que tengo que reconocer que te puedes perder entre las diferentes posibilidades que tiene. Wofi como lanzador de aplicaciones o menu. Aqui tambien puedes perderte entre las diferentes posibilidades. Mako como gestor de notificaciones. Habia hecho pruebas con sway-notification-center, pero demasiadas cosas para solo mostrar notificaciones. Swaybg como gestor de fondos de pantalla. Simple y facil, sin muchas complicaciones. Estas son las aplicaciones m√°s destacadas, luego estan el resto de aplicaciones de uso diario, como por ejemplo Firefox, Thunar, Claws-Mail, VirtualBox, etc‚Ä¶ Nota Cuando digo que por necesidad, es porque las que usaba en I3wm, no estan para Sway. ","date":"15-10-2025","objectID":"/2025-10-15-i3wm-sway-3/:1:0","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 3","uri":"/2025-10-15-i3wm-sway-3/"},{"categories":["sway"],"content":"Primeras impresiones tras el cambio Las primeras impresiones han sido muy positivas, no hay nada que haya que remarcar, lo unico seria el gestor de sesiones, en mi caso, escogi greetd, que eso si, hay que tratarlo con cari√±o (ya explique en este articulo mi opini√≥n al respecto), a parte de esto y como iba a usar las mismas aplicaciones que habia estado usando hasta ahora y que puedes encontrar en cualquier distribuci√≥n de GNU/Linux, no he tenido ningun problema. Es m√°s, es todo continuista, porque los ficheros de configuraci√≥n que estaba usando hasta ahora sirven para sway. No tuve que hacer ningun cambio para que todo siguiera funcionando igual. A excepci√≥n del gestor de fondos de pantalla que como he dicho lo he cambiado, pero a parte de eso nada m√°s. A parte de algunas mejoras a la configuraci√≥n y algunos cambios que hice para la mejor funcionalidad del mismo, todo seguia igual. Estaba muy contento, porque todo seguia funcionando perfectamente y sobre todo y lo m√°s importante, estaba usando Wayland, que se dice que es el futuro en el mundo de GNU/Linux. ","date":"15-10-2025","objectID":"/2025-10-15-i3wm-sway-3/:2:0","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 3","uri":"/2025-10-15-i3wm-sway-3/"},{"categories":["sway"],"content":"Rendimiento y consumo de recursos Con respecto al rendimiento, hay alguna cosa que me escama y no para bien. Porque teniendo el equipo que tenia. m√°s informaci√≥n aqui, no entiendo, porque el ventilador de la CPU esta siempre a pleno rendimiento y con temperaturas, en algunos casos sostenidos a 80¬∫ - 90¬∫ üî•. Tengo que estudiar a ver cual es el problema, porque no es normal que con un equipo m√°s potente que el portatil este m√°s tiempo el ventilador en marcha que antes. Ya os ire informando. A excepci√≥n de esta peque√±a eventualidad que tengo que investigar, el resto de opciones (ligereza del sistema, eficiencia, fluidez, etc) todo lo veia igual que anteriormente en el portatil. No es algo que se pudiera visualizar a simple vista. Seguramente que si hiciera mediciones m√°s afinadas, descubriria cosas positivas, o a lo mejor, negativas, pero de momento, las sensaciones que tengo y que puede medir a simple vista üëÅ son todas positivas. Nada que destaque sobradamente con respecto a XOrg y I3wm. ","date":"15-10-2025","objectID":"/2025-10-15-i3wm-sway-3/:3:0","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 3","uri":"/2025-10-15-i3wm-sway-3/"},{"categories":["sway"],"content":"Conclusi√≥n De momento estoy muy contento con el cambio que he efectuado y creo que necesario, porque XOrg se habia quedado estancado, aunque por lo que he podido leer, estan intentado hacer mejoras, pero creo que sera muy dificil, porque, en mi opini√≥n, se tendria que reescribir todo XOrg y asi aprovechar los nuevos conocimientos y el hardware nuevo que hay actualmente y para eso, ya esta wayland. En mi opini√≥n, lo mejor seria dedicar todos los esfuerzos en mejorar Wayland y hacerlo anazar lo m√°s rapidamente posible. Pero esto es lo que tiene que bueno el mundo del Open Source, que nunca puedes decir que algo esta acabado hasta que esta frio y no respira üòÇ Nota Con esto acabamos la serie de articulos, sobre mi migraci√≥n a Wayland y Sway. Pero os tengo que decir que se preparan sorpresas para un futuro y no muy agradables. Ya lo vereis. Referencia Sway Sway Installation - New Script Build a Minimalist Linux Desktop with SwayWM ‚Äì Part 1 Build a Minimalist Linux Desktop with SwayWM ‚Äì Part 2 Build a Minimalist Linux Desktop with SwayWM ‚Äì Part 3 Linux \u0026 Theming - The Ultimate Guide How I Set Up My Sway Window Manager on Debian 12 ","date":"15-10-2025","objectID":"/2025-10-15-i3wm-sway-3/:4:0","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 3","uri":"/2025-10-15-i3wm-sway-3/"},{"categories":["sway"],"content":"Despu√©s del primer articulo, donde explicaba la preparaci√≥n de mi equipo. Ahora os explicare como hice la instalaci√≥n de sway y los problemas que me encontre. Que si tengo de decirlo, fueron muy pocos. ","date":"05-10-2025","objectID":"/2025-10-05-i3wm-sway-2/:0:0","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 2","uri":"/2025-10-05-i3wm-sway-2/"},{"categories":["sway"],"content":"Script de instalaci√≥n Este script, es el que se encarga de realizar la instalaci√≥n completa, o mejor dicho, de todo lo necesario para que en el momento de reinicar el equipo, sway funcione correctamente (podeis encontrar una versi√≥n completa en mi github). 01-install-sway.sh # pkgs=( sway swaybg waybar swaylock swayidle mako-notifier wayland-protocols xwayland wofi polkitd lxpolkit git grim slurp nwg-look greetd gtkgreet thunar gvfs gvfs-backends udisks2 pulseaudio pulseaudio-utils pamixer xdg-user-dirs xdg-utils pavucontrol curl gpg unzip libpam0g libseat1 fastfetch acpi acpid eza gsettings-desktop-schemas libnotify-bin bluez bluetooth ) apt_install \"${pkgs[@]}\" log_success \"Activant servei acpid\" sudo systemctl enable acpid ","date":"05-10-2025","objectID":"/2025-10-05-i3wm-sway-2/:0:1","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 2","uri":"/2025-10-05-i3wm-sway-2/"},{"categories":["sway"],"content":"Configuraci√≥n Como anteriormente habia mencionado, estuve haciendo pruebas en un portatil que tenia para asi dejar afinado, lo maximo posible, todos los archivos de configuraci√≥n tanto de sway, mako, waybar, bash, etc‚Ä¶ ~/.config/sway La configuraci√≥n de sway la gran mayoria de cosas las he aprovechado de la configuraci√≥n que tenia en i3wm, lo unico que he a√±adido son unas mejoras o una mejor distribuci√≥n de los archivos para en un futuro, que sea m√°s facil la funcionalidad que tienen y la modificaci√≥n de los mismos. La estructura de directorios que tengo es la siguiente: sway/ ‚îú‚îÄ‚îÄ config.d/ ‚îÇ ‚îú‚îÄ‚îÄ 00-theme ‚îÇ ‚îú‚îÄ‚îÄ 01-inputs ‚îÇ ‚îú‚îÄ‚îÄ 02-workspaces ‚îÇ ‚îú‚îÄ‚îÄ 03-keybinding ‚îÇ ‚îú‚îÄ‚îÄ 04-window_rules ‚îÇ ‚îú‚îÄ‚îÄ 05-bar ‚îÇ ‚îú‚îÄ‚îÄ 06-notifications ‚îÇ ‚îú‚îÄ‚îÄ 07-background ‚îÇ ‚îú‚îÄ‚îÄ 08-idle ‚îÇ ‚îî‚îÄ‚îÄ 09-autostart_applications ‚îú‚îÄ‚îÄ scripts/ ‚îÇ ‚îú‚îÄ‚îÄ background-rotater.sh ‚îÇ ‚îú‚îÄ‚îÄ import-gsettngs.sh ‚îÇ ‚îî‚îÄ‚îÄ toggle-bt.sh ‚îî‚îÄ‚îÄ config Elemento Funci√≥n config.d/00-theme Define el tema visual del entorno (colores, iconos, estilo general). config.d/01-inputs Configura dispositivos de entrada como teclado, rat√≥n o touchpad. config.d/02-workspaces Establece la organizaci√≥n de escritorios virtuales o espacios de trabajo. config.d/03-keybinding Atajos de teclado. config.d/04-window_rules Reglas que hacen referencia a las aplicaciones (posici√≥n, tama√±o, etc.). config.d/05-bar Barra de tareas (en este caso es waybar). config.d/06-notifications Configuraci√≥n de las notifiaciones (usamos mako). config.d/07-background Configuraci√≥n del fondo de pantalla inicial. config.d/08-idle Configuraci√≥n del sistema cuando inactivo. config.d/09-autostart_applications Configuraci√≥n de las aplicaciones que se inician al iniciar sway. scripts/background-rotater.sh Cambia el fondo de pantalla autom√°ticamente cada cierto tiempo. scripts/import-gsettngs.sh Importa configuraciones de GNOME desde un archivo externo usando el estilo Nord. scripts/toggle-bt.sh Activa o desactiva el Bluetooth con un solo comando. config Archivo principal con par√°metros globales de configuraci√≥n. Las cosas que para mi, son m√°s importantes en la configuraci√≥n de sway son las siguientes (aqui os muestro el fichero de configuraci√≥n inicial): # ~/.config/sway/config # Definimos la terminal set $term wezterm # Definimos la tecla especial de sway (es igual que en i3wm) set $mod Mod4 # Definir el lanzador de aplicaciones con wofi set $menu wofi -c ~/.config/wofi/config -s ~/.config/wofi/style.css -S drun -i | xargs swaymsg exec -- # Incluir configuraci√≥n modular (inputs, keybindings, workspaces, etc.) include ~/.config/sway/config.d/* # ~/.config/sway/config.d/00-theme # se encarga de importar el tema a las aplicaciones GTK cuando se inicia sway exec_always ~/.config/sway/scripts/import-gsettings.sh # ~/.config/sway/config.d/01-inputs # Layout del teclado input * { xkb_layout \"es\" } # ~/.config/sway/config.d/03-keybinding # Se crea un modulo que utilizaremos a la hora de salir del sistema mode \"power\" { bindsym l exec swaymsg exit bindsym r exec systemctl reboot bindsym s exec systemctl poweroff bindsym Return mode \"default\" bindsym Escape mode \"default\" } # Manteniendo la combinaci√≥n de teclas y la funcionalidad, dentro de las posibilidades de sway, tiene la misma funcionalidad que tenia en i3wm. # Aqui te sale un peque√±o mensaje, que te pide que acci√≥n quieres realizar. bindsym $mod+Shift+e exec \"swaynag \\ -t warning \\ -m '‚ö° Men√∫ de energ√≠a: [l Û∞çÉ] Logout | [r ÔÄ°] Reboot | [s ÔÄë] Shutdown' \\ --background '#2E3440' \\ --text '#D8DEE9' \\ --border '#88C0D0' \\ --button-background '#3B4252' \\ --button-text '#ECEFF4' \\ --button-border '#81A1C1' \\ -f 'FiraCode Nerd Font 12' \\ \u0026 swaymsg mode power\" Aqui podeis ver, como es el mensaje de salida del sistema Swaynag ~/.config/waybar Waybar Aqui pongo la configuraci√≥n que tengo actualmente de waybar, como podeis ver, a la izquierda tengo: Ethernet Informaci√≥n del equipo (CPU, RAM, HDD) Temperatura En el centro tengo: Los espacios de trabajo, que en mi caso, los distingo por los iconos de las aplicaciones que","date":"05-10-2025","objectID":"/2025-10-05-i3wm-sway-2/:0:2","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 2","uri":"/2025-10-05-i3wm-sway-2/"},{"categories":["sway"],"content":"Gestor de inicio de sesi√≥n Aqui fue donde tuve muchos problemas, por no decir el unico, porque entre que wayland es nuevo y sway tambien, no hay muchos gestores de inicio de funcionen al 100%. Nota Ahora es cuando todo el mundo de dice que hay miles y todos funcionan a las mil maravillas. Pues siento contradecir a toda esa gente, porque en mi caso, no fue asi. Despues de muchas pruebas, me decidi por usar: greetd. Siento decir que la documentaci√≥n que tienen deja mucho que desear ü§¨. gtkgreet. Lo mismo que con greetd, la documentaci√≥n poca por no decir inexistente. Tuve que tirar de Copilot y de las issues del repositorio para hacerlo funcionar, pero que una vez lo tienes en funcionamiento no da ningun problema, aunque yo mejoraria alguna cosas. La estructura del directorio es la siguiente: /etc/greet/ ‚îú‚îÄ‚îÄ config.toml ‚îú‚îÄ‚îÄ environments ‚îú‚îÄ‚îÄ gtkgreet.css ‚îî‚îÄ‚îÄ sway-config Elemento Funci√≥n breve /greet/config.toml Configuraci√≥n de greetd /greet/environments Entorno de sesi√≥n /greet/gtkgreet.css Estilos visuales de gtkgreet /greet/sway-config Acciones al iniciar o salir del sistema Notas adicionales: En config.toml, comenta agreety y descomenta wlgreet. Yo lo tengo asi y me funciona perfectamente. Podeis hacer pruebas, pero con esta informaci√≥n, ya teneis un punto de partida por donde empezar. /etc/greetd/config.toml [terminal] # The VT to run the greeter on. Can be \"next\", \"current\" or a number # designating the VT. vt = 7 # The default session, also known as the greeter. [default_session] # `agreety` is the bundled agetty/login-lookalike. You can replace `/bin/sh` # with whatever you want started, such as `sway`. #command = \"/usr/sbin/agreety --cmd '${SHELL:-/bin/sh}'\" # if using wlgreet command = \"sway --config /etc/greetd/sway-config\" # The user to run the command as. The privileges this user must have depends # on the greeter. A graphical greeter may for example require the user to be # in the `video` group. user = \"_greetd\" /etc/greetd/environments sway /etc/greetd/gtkgreet.css window { /* si quereis usar un fondo de pantalla */ background-image: url(\"file:///usr/share/backgrounds/login.jpg\"); background-size: cover; background-position: center; /* Tipograf√≠a general */ font-family: \"JetBrains Mono\", monospace; font-size: 11pt; color: #D8DEE9; /* texto claro */ } entry, button { background-color: #2E3440; /* Nordic base */ color: #D8DEE9; } button:hover { background-color: #88C0D0; /* acento Nordic */ } /etc/greetd/sway-config exec \"gtkgreet -l --style /etc/greetd/gtkgreet.css; swaymsg exit\" bindsym Mod4+Shift+e exec swaynag \\ -t warning \\ -m 'Que vols fer?' \\ -b 'Poweroff' 'systemctl poweroff' \\ -b 'Reboot' 'systemctl reboot' Pues aqui llegamos al final. Podeis ver que he puesto lo basico o lo que yo creo que es lo m√°s importante, porque si llego a poner todos los ficheros de configuraci√≥n, al completo, junto con las hojas de estilo (CSS) el articulo seria muy extenso. Si quereis ver todos los archivos de configuraci√≥n que estoy utilizando, podeis visitar mi gitHub donde ahi si que los podreis ver en toda su extensi√≥n. Referencia Mi configuraci√≥n de sway Sway greetd gtkgreet ","date":"05-10-2025","objectID":"/2025-10-05-i3wm-sway-2/:0:3","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 2","uri":"/2025-10-05-i3wm-sway-2/"},{"categories":["Android"],"content":"Como recordareis, en este articulo, decia, que el launcher que usaba en mi movil, parecida que el proyecto habia sido abandonado o que solo habia un mantenimiento minimo de el. Que lo entiendo, porque es un proyecto personal al que se le puede decidar el tiempo que el creador tiene, pero que me daba mucha rabia. Pero como dice el refran, donde digo dije, digo Diego. Os preguntareis a que viene esto, pues seguir leyendo y lo entendereis. Despu√©s del articulo que escribi, vi que daban por cerrado mi incidencia / petici√≥n de mejora, indicando que ya estaba resuelta. Pero yo tenia el launcher instalado y no se veia por ningun lado, el acceso al espacio privado. En las modificaciones que se habian efectuado, esta mejora ya estaba disponible en la ultima versi√≥n, la 3.22.2, la misma versi√≥n que yo estaba utilizando, amen del de pixel. Informaci√≥n Que es lo m√°s infumable que te puedas echar a la cara. No se como Google no le mete mano y lo mejora. Porque le hace falta un lavado de cara pero en profundidad. Yo seguia probando a ver si funcionaba el acceso al espacio privado, pero sin ningun resultado. Yo unicamente veia las opciones: Kiss Settings Update wallpapers Add widget Device settings Nada m√°s. Al final, cansado de no descubrir porque motivo habian cerrado la incidencia si para mi era imposible conseguir esa nueva opci√≥n, me decidi preguntar que si la modificaci√≥n ya estaba activa, como es que yo no la podia visualizar. Yo indicaba que solo tenia disponible las opciones que he puesto anteriormente. Tambien comentaba que si usaba el launcher de pixel, tenia a mi disposici√≥n, el espacio privado, pero en cambio con Kiss Launcher, esto no era asi. Hasta que al final, me indicaron donde podia estar el problema. Si tenia KISS como launcher predefinido ü§®. Tan importante era tener el launcher como el predeterminado? Esto lo digo, porque en mi caso, yo estaba haciendo todas las pruebas, utilizando Kiss como si fuera una aplicaci√≥n m√°s, no como mi launcher por defecto, y este era el motivo, por el cual no me aparecia la opci√≥n de activar / desactivar el espacio privado. Todo se resumia, en que como no lo tenia como predefinido, esta opci√≥n no estaba disponible. Cosa logica, pero que nunca piensas en ello. Seleccione Kiss Launcher como mi launcher por defecto y ahi lo tenia. Delante mio la opci√≥n m√°s esperada por mi Unlock Private Space. Y todo por no tenerlo como launcher por defecto y usarlo como si fuera una simple aplicaci√≥n. Pues aqui me teneis, con mi antiguo y querido Kiss Launcher de vuelta a mi telefono y teniendo que tragar las amargas palabras que dije en el anterior articulo. Lo que si que me ha quedado claro, es que nunca tienes que decir de esta agua no bebere. Porque nunca sabes cuando tus propias palabras pueden volverse contra ti. Referencia Access to private apps ","date":"29-09-2025","objectID":"/2025-09-29-cambiando-launcher-2/:0:0","tags":["Android","Pixel","Launchers"],"title":"Cambiamos de launcher en el movil - 2","uri":"/2025-09-29-cambiando-launcher-2/"},{"categories":["sway"],"content":"Como podeis leer en este articulo, tenia ya a mi disposici√≥n un substituto en caso de fallo grave de mi portatil que venia usando hasta ahora. Y eso es lo que ha pasado. El pobre ha pasado a mejor vida. Como dice el refran ‚Äúel rey a muerto, viva el rey‚Äù y esto es que el que estaba en el banquillo, ya puede salir a jugar üòÇ. Tengo pensado hacer una serie de 3 articulos que seran los siguientes (incluyendo este): De i3WM (X11) a Sway (Wayland) - 1 De i3WM (X11) a Sway (Wayland) - 2 De i3WM (X11) a Sway (Wayland) - 3 Donde explicare todo el proceso de instalaci√≥n, configuraci√≥n y refinamiento hasta llegar a donde me encuentro ahora y que seguramente no sera el final, siempre puedes encontrar nuevas ideas para mejorar tu configuraci√≥n. Nota La red es vasta e infinita - Motoko Kusanagi ","date":"12-09-2025","objectID":"/2025-09-15-i3wm-sway-1/:0:0","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 1","uri":"/2025-09-15-i3wm-sway-1/"},{"categories":["sway"],"content":"Introducci√≥n El porque de este cambio, el al 100% por fallos severos en el hardware. El teclado, USB, bateria, estaban fallando. O sea un fallo a gran escala, adem√°s del espacio que ocupaba que eso tambien era un handicap. Pero lo que tenia claro es que para hacer el cambio tenia que seguir un par de pautas que eran inamovibles: Seguir usando Debian GNU/Linux unstable. Seguir usando I3wm A ser posible cambiar a Wayland para ir empezando a utilizar, lo que teoricamente sera el futuro. Partiendo de estas premisas y si queria conseguirlas, tenia un problema que I3wm no esta pensado para funcionar en Wayland, si queria dar el salto, tenia que buscar una alternativa y esta me la dio, en primera instancia, como no puede ser otro @atareo con sus diversos articulos hablando de sway y sus bondandes (que no han tenido que ser muchas porque rapidamente lo abandono üòá ) y dio el salto a otros tiling. Pero como bien dice el, para gustos, colores‚Ä¶ Pues ya teniamos una cosa m√°s de la lista solucionada. Teniamos Debian, teniamos al substituto de I3wm y teniamos a wayland, pues ya lo teniamos todo, solo me faltaba instalarlo. Pero esta vez, no queria dar un salto de fe, como hice con I3wm en su momento y queria tenerlo todo bien preparado y que el cambio no fuera tan traumatico como lo fue con el anterior cambio. Asi que me puse a buscar informaci√≥n del funcionamiento de sway y las opiniones que tenia la gente al respecto, y asi mirando, me encontre con un youtuber, que estoy empezando a seguir donde es uno de sus videos, explicaba, que habia creado un script para la completa instalaci√≥n y configuraci√≥n de sway. Y como tenia un portatil, libre (T480), pues me decidi a probarlo. Y que quereis que os diga, me gusto como se desenvolvia tanto el script como sway. Pero claro, todo estaba configurado al gusto de @JustAGuy Linux. Aqui pense, si el puede hacerse un script para instalar sway, porque no lo puedo hacer yo y todo configurado a mi gusto. Pues me lie la manta a la cabeza y me puse a hacer mi propio script de instalaci√≥n de sway, pero eso si, adaptado a mis necesidades y sobre todo con la ayuda de Copilot. Dentro de estas necesidades, que seguramente alguna ya sabreis cual es: Instalaci√≥n base de Debian GNU/Linux unstable. Instalaci√≥n de wayland. Instalaci√≥n de sway. Configuraci√≥n de sway siguiendo los temas que me gustan (Nordic, Nord), o sea, temas oscuros. ","date":"12-09-2025","objectID":"/2025-09-15-i3wm-sway-1/:1:0","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 1","uri":"/2025-09-15-i3wm-sway-1/"},{"categories":["sway"],"content":"El script de preparaci√≥n Como ya he comentado, a partir de la idea que me habia visto en el video de @JustAGuy Linux, cree mi propio script para la instalaci√≥n y configuraci√≥n de sway. Este procedimiento, esta dividio en 3 script, donde cada uno se encarga de una parte del proceso: 00-preparacio.sh Este es el que se encarga desde una instalaci√≥n basica de Debian GNU/Linux testing, eliminar los paquetes que no son necesarios, procedimiento que siempre sigo despu√©s de cada instalaci√≥n personal de Debian, y luego, salto a la rama unstable (que vengo usando desde hace unos 20 a√±os sin ningun problema). Os voy a poner las partes m√°s importantes del script para que veais un poco como va. Si quereis en script al completo o el procedimiento de instalaci√≥n, lo podeis encontrar aqui #!/bin/bash # 1. Desactivar la instalacion de paquetes sugeridos y recomendados log_success \"Configurando APT para evitar la instalacion de paquetes recomendados y sugeridos...\" echo 'APT::Install-Recommends \"false\";' | sudo tee /etc/apt/apt.conf.d/99-no-recommends.conf echo 'APT::Install-Suggests \"false\";' | sudo tee -a /etc/apt/apt.conf.d/99-no-recommends.conf # 2. Instalar localepurge (es un paquete que considero basico en cualquier instalaci√≥n de Debian GNU/Linux) log_success \"Instalando localepurge para limpiar idiomas no deseados...\" sudo apt install -y localepurge # 3. Preguntar por la version de Debian actual y modificar sources.list read -p \"Por favor, introduce el nombre de la version actual de Debian (ej. 'forky'): \" current_version log_success \"Modificando /etc/apt/sources.list para apuntar a 'testing'...\" sudo sed -i \"s/$current_version/testing/g\" /etc/apt/sources.list log_success \"Actualizando e instalando paquetes del repositorio 'testing'...\" sudo apt -y update \u0026\u0026 sudo apt -y upgrade # 4. Modificar sources.list para usar 'unstable' (sid) y actualizar # Reemplaza 'testing' por 'unstable'. sudo sed -i 's/testing/unstable/g' /etc/apt/sources.list log_success \"Actualizando e instalando paquetes del repositorio 'unstable' (full-upgrade)...\" log_success \"¬°ADVERTENCIA! El siguiente paso podr√≠a eliminar paquetes. Revisa la salida de la consola cuidadosamente antes de confirmar.\" # Nota: Se ha quitado el flag -y para que el usuario pueda revisar los cambios. sudo apt -y update \u0026\u0026 sudo apt -y full-upgrade # Eliminamos paquetes conocidos, en mi caso, son estos pkgs=( bluez bluetooth debian-faq debian-reference-common debian-reference-es doc-debian manpages manpages-es nano emacsen-common aspell aspell-es dictionaries-common ispanish ispell wspanish task-spanish laptop-detect apt-listchanges reportbug python3-reportbug python3-apt distro-info-data iso-codes libpython3.13-minimal python3-requests python3-debian python3-charset-normalizer python3-urllib3 python3-idna lsb-release python-apt-common python3-certifi python3-chardet python3-debconf python3-debianbts python3 libpython3-stdlib python3.13 libpython3.13-stdlib python3-minimal python3.13-minimal ) sudo apt purge -y \"${pkgs[@]}\" \u0026\u0026 sudo apt -y autoremove # ========================================================================= # Descargamos el ZIP con el resto de archivos / configuraciones necesarias # ========================================================================= # Nombre del repositorio en formato usuario/repositorio log_success \"Iniciem la descarrega dels script\" REPO=\"Vctrsnts/debian-installer-sway\" ZIP_FILE=\"debian-installer-sway.zip\" TARGET_FOLDER=\"debian-installer-sway\" # Descargar el ZIP con nombre personalizado wget -O \"$ZIP_FILE\" \"$ZIP_URL\" log_success \"Se ejecuta la actualizaci√≥n del funcionamiento de los sources\" sudo apt -y modernize-sources log_success \"Eliminamos aplicacion aptitude\" sudo apt purge -y aptitude w3m task-laptop task-spanish \u0026\u0026 sudo apt -y autoremove log_success \"Instalem aplicacions wireless\" sudo apt install -y iw wireless-tools wpasupplicant wireless-regdb exit 0 Una vez finaliza este primer script, nos ha dejado el fichero zip donde esta el resto de scrip","date":"12-09-2025","objectID":"/2025-09-15-i3wm-sway-1/:1:1","tags":["sway","Debian GNU/Linux"],"title":"De i3WM ( X11 ) a Sway ( Wayland ) - 1","uri":"/2025-09-15-i3wm-sway-1/"},{"categories":["Android"],"content":"De nuevo con m√°s articulos despu√©s de unas largas y merecidas vacaciones. Este articulo, se va a parecer mucho a unos que escribio hace tiempo uGeek donde hablaba de los launchers que le gustaban o que habia probado o que estaba usando actualmente en su movil. Tambien estaba este podcast donde hablaba de KISS Launcher. Decidi probarlo porque hablaba muy bien de el. Como podeis ver, el podcast es del 2021 y he seguido usando este launcher desde entonces, porque no necesitaba nada m√°s. Es simple, facil de usar y ligero. Que m√°s se puede pedir. Advertencia Lo que viene a continuaci√≥n es una opini√≥n personal. Mi opini√≥n personal Pero con gran pesar, tengo que decir, que o por falta de tiempo o porque no puede, el creador de este magnifico launcher, da la sensaci√≥n que lo esta abandonando. Si hay peque√±as actualizaciones, pero nada importante. Para que os hagais una idea, mi movil actual es un Pixel 8 Pro. Si un Pixel, ya se lo que parece, pero me canse de tener moviles que al cabo de 2 a√±os te dejaban tirados y apa√±atelas tu. Google empezo y este es uno de los primeros, a dar soporte de 7 a√±os. Y me lance de cabeza a el. Nota Dicen 7 a√±os, que a lo mejor son 5, pero ya son 3 m√°s que el resto de empresas de moviles y lo digo con conocimiento de causa, porque he tenido 2 OnePlus que podian seguir dando mucha guerra si los hubieran seguido actualizando, pero OP, los dejo de lado. Despues de este peque√±o inciso seguimos, como sabeis, en los Pixels, esta la opci√≥n del espacio privado donde tu puedes instalar aplicaciones y estan totalmente separadas del resto. Es como si fuera un usuario diferente, y esto, en versiones anteriores, KISS funcionaba perfectamente, porque estas aplicaciones las podias distinguir del resto. Pero cuando llego la versi√≥n 15 de Android, esto se perdio y ya no las podias ver. Estaban ocultas e imposibles de acceder a ellas. Abri un issue explicando este problema. Al principio, el creador le dio mucha importancia y parecia que la modificaci√≥n necesaria iba a llegar pronto, pero de eso hace 1 a√±o y todo sigue igual, en mi caso, es una cosa que me interesa porque tengo algunas aplicaciones en ese espacio. Podria ayudar con esa modificaci√≥n, pero la programaci√≥n en Android no es lo mio. Informaci√≥n Se que no tengo derecho a quejarme porque es una aplicaci√≥n que su creador hace altruistamente, sin esperar nada, pero‚Ä¶ me entristece. Asi que he vuelto al launcher de Pixel, que no me gusta nada porque le faltan cosas que yo diria que son obligatorias: Posibilidad de poner m√°s iconos y no solo los 5 que tienes. Posibilidad de eliminar la barra de busqueda. Si es google, pero y si a mi no me interesa tenerla y prefiero buscarlo todo en el navegador. A mi me molesta mucho. Esto es son las cosas que m√°s me incordian con respecto al launcher del Pixel. Pero tengo que aguantarme. Mientras tanto, estoy haciendo pruebas con otros launchers que he ido encontrado y que uGeek ha mencionado en alguno de sus articulos o podcast, como por ejemplo: PieLauncher OLauncher Omega Launcher Lawnchair Pero ninguno llena el vacio que ha dejado Kiss Launcher. Y os lanzo una pregunta a vosotros. Que launcher estais usando actualmente. A lo mejor alguno puede llegar a substituir KISS üò• Referencia Omega Launcher. Otro interesante Lanzador FLOSS PieLauncher. Mi nuevo Lanzador de aplicaciones para Android Launchers opensource para Android. Personalizando tu m√≥vil KISS Launcher ","date":"10-09-2025","objectID":"/2025-09-11-cambiando-launcher-1/:0:0","tags":["Android","Pixel","Launchers"],"title":"Cambiamos de launcher en el movil - 1","uri":"/2025-09-11-cambiando-launcher-1/"},{"categories":["Debian GNU/Linux"],"content":"En mi b√∫squeda por el ancho y basto oceano de internet por mejorar mi configuraci√≥n en Debian GNU/Linux, encontr√© unos tips que me resultaron muy √∫tiles y decid√≠ compartirlos por si a alguien m√°s le sirven. Estaba buscando c√≥mo mejorar la configuraci√≥n de mi editor, Geany, tras intentar usar neoVim. Ya sabia de antemano que NeoVim podr√≠a ser complicado, su usabilidad me hizo perder m√°s tiempo del necesario, algo que con Geany no ocurre, ya que me permite enfocarme en escribir sin distracciones. Vi este primero video junto con este otro video de JustAGuy sobre la configuraci√≥n que el usa para Geany, los cuales me parecieron muy interesantes. Prob√© sus sugerencias y, hasta ahora, estoy satisfecho con los resultados. Adem√°s, en uno de los videos encontr√© algunos TIPS para el archivo .bashrc que, en mi opini√≥n, facilitan el uso de Debian GNU/Linux. Recomiendo echar un vistazo a estos recursos si quer√©is optimizar vuestro entorno de trabajo .bashrc Las mejoras que propone para este fichero son las siguientes: # Instalaci√≥n de paquetes alias install='sudo apt install' # Actualizaci√≥n del listado de paquetes alias update='sudo apt update' # Actualizaci√≥n del sistema alias upgrade='sudo apt upgrade' # Eliminaci√≥n de paquetes que ya no se utilizan alias autoremove='sudo apt autoremove' # Borramos un paquete alias purge='sudo apt purge' # Obtenemos el espacio libre del equipo alias df='df -h' # Obtenemos la memoria RAM del equipo alias free='free -h' # Obtenemos la IP interna y externa del equipo alias myip=\"hostname -I | awk '{print $1}'; curl -s ifconfig.me \u0026\u0026 echo ' external ip'\" En principio son cosas faciles, que podrias hacerlo directamente, pero que de esta manera, pues ahorras un par de letras y agiliza todo. Adem√°s la ultima, obtener la IP del equipo me ha parecido muy interesante, porque a mi me pasa muchas veces que tengo que utilizar una pagina web, del estilo de myip para saber cual es, y de esta manera la puedo obtener muy facilmente. El segundo TIP tambien es para el archivo .bashrc, pero en este caso, yo lo utilizo para mis servidores porque me resulta m√°s util, porque asi puedo diferenciar cuando estoy en mi equipo local o en mis servidores. Esta ayuda, es la siguiente: # PS1 Customization #PS1=\"\\[\\e[32m\\]\\h\\[\\e[m\\]\\[\\e[36m\\]@\\[\\e[m\\]\\[\\e[34m\\]\\u\\[\\e[m\\] \\W \\$ \" # Colour codes RED=\"\\\\[\\\\e[1;31m\\\\]\" GREEN=\"\\\\[\\\\e[1;32m\\\\]\" YELLOW=\"\\\\[\\\\e[1;33m\\\\]\" BLUE=\"\\\\[\\\\e[1;34m\\\\]\" MAGENTA=\"\\\\[\\\\e[1;35m\\\\]\" CYAN=\"\\\\[\\\\e[1;36m\\\\]\" WHITE=\"\\\\[\\\\e[1;37m\\\\]\" ENDC=\"\\\\[\\\\e[0m\\\\]\" # Set a two-line prompt. If accessing via ssh include 'ssh-session' message. if [[ -n \"$SSH_CLIENT\" ]]; then ssh_message=\"-ssh_session\"; fi PS1=\"${GREEN}\\u ${WHITE}at ${YELLOW}\\h${RED}${ssh_message} ${WHITE}in ${BLUE}\\w \\n${CYAN}\\$${ENDC} \" Con esto lo que consigues, es que a la hora de conectar a traves de SSH con tus servidores, en la consola te aparezca lo siguiente: user at debian-ssh_session in ~ $ De esta manera, es mi opini√≥n, queda muy claro cuando estas conectado a un servidor a traves de SSH o cuando estas en tu equipo local, porque en mi caso, saldria de la siguiente manera: user@debian:~$ Como podeis ver, la diferencia es clara, la primera ves exactamente que estas conectado a traves de una sesi√≥n de SSH y en la segunda no. BetterFox Este TIP tiene que ver m√°s con Firefox que con Debian GNU/Linux, pero como este navegador, es uno de los m√°s utilizados en el sistema del pinguino, adem√°s como el camino que esta tomando es un poco preocupante, pues han empezado a salir maneras de mejoras la funcionalidad y privacidad. Una de estas opciones, para mejorar Firefox, es la que podemos encontrar en betterFox y que lo descubri tambien viendo este video y que mediante la modificaci√≥n a traves de un script de algunas de las opciones de about mejora, segun su creador la velocidad y la privacidad del mismo, sin tener que renunciar a el. Advertencia Antes de continuar, te recomiendo que te guardes tu bookmark.html y los plugins que utilizas, porque si continuas, una ","date":"08-07-2025","objectID":"/2025-07-08-tips-debian/:0:0","tags":["Debian GNU/Linux","Bash"],"title":"Mis tips en Debian GNU/Linux","uri":"/2025-07-08-tips-debian/"},{"categories":["unRAID"],"content":"Este sera el tercer y utlimo articulo (en principio), donde explico la manera en que se estoy realizando mis copias de seguridad. Seguramente hay metodos mejores, pero este es el que mejor se adapta a mis necesidades. Tal como dije en el anterior articulo, unicamente me faltaba realizar la configuraci√≥n de las copias de seguridad a mi servidor externo (VPS), pero antes de meternos de lleno con este tema. Quiero ampliar como se realizan la configuraci√≥n de las copias de seguridad, esta explicaci√≥n sirve tanto para las copias de seguridad en el servidor local como en uno externo. Esto ha venido al caso, porque a la hora de seguir mi propia guia para realizar la configuraci√≥n de las copias externas he visto que habia puntos que no habia explicado y quedaba todo un poco ambiguo. Lo primero y antes de nada, es la instalaci√≥n de MinIO en el VPS, porque como no tengo unRAID, pues la instalaci√≥n, se tiene que hacer a traves de nuestro querido docker-compose que pongo a continuaci√≥n: minio: image: minio/minio:latest container_name: minio command: server /data --console-address \":9001\" ports: - \"9000:9000\" - \"9001:9001\" environment: MINIO_ROOT_USER: ROOTNAME MINIO_ROOT_PASSWORD: CHANGEME123 volumes: - ${HOME}/backup:/data Nota Tengo que decir que esta informaci√≥n no esta, o yo al menos no he sabido como encontrarla en la web de MinIO, en teoria hay un fichero docker-compose que nos tendria que facilitar la vida a la hora de realizar la instalaci√≥n, pero que en realidad nos la complica porque a√±ade cosas, que para la gran mayoria, como es mi caso no es necesario. Asi que gracias a otra fuente, he podido encontrar un docker-compose que en mi caso me ha ido muy bien tengo y que gracias a ese fichero, ya tengo mi contenedor de MinIO en marcha. Tambien te a√±ado los labels necesarios en caso de que tengas traefik para su configuraci√≥n: labels: - traefik.enable=true # ACCESO A LA CONSOLA WEBGUI ( 9001 ) - traefik.http.services.minio.loadbalancer.server.port=9001 - traefik.http.routers.minio.entrypoints=websecure - traefik.http.routers.minio.rule=Host(`${MINIO_CONSOLE}`) Con esto ya tendriamos nuestro contenedor MinIO para nuestras copias de seguridad. Pero llegado el momento de utilizarlo, me he encontrado el primer problema que no me esperaba. Cuando he accedido a la web, para la creaci√≥n de las claves de acceso, no sabia donde hacerlo. Habia cambiado todo el menu. Que comienzo üòµ Segun parece han modificado algo que deshabilita esas funciones y no se como activarlas, si es que se puede. En unRAID esas modificaciones tambien se habian implementado y no tenia acceso a eliminar un buckett que habia creado de prueba para ver si de esta manera tenia acceso a las claves de acceso a traves de la API. Que se hace en estos casos, la mejor soluci√≥n, es volver a una versi√≥n anterior donde si que se tiene acceso a esas mejoras y quedarte ahi. En mi caso, estoy utilizando la versi√≥n RELEASE.2025-04-22T22-12-26Z, lo que hace que mi docker-compose.yml para MinIO quede de la siguiente manera: minio: image: minio/minio:RELEASE.2025-04-22T22-12-01Z container_name: minio command: server /data --console-address \":9001\" # ports: # - \"9000:9000\" # - \"9001:9001\" environment: MINIO_ROOT_USER: ROOTNAME MINIO_ROOT_PASSWORD: CHANGEME123 volumes: - ${HOME}/backup:/data labels: - traefik.enable=true # ACCESO A LA CONSOLA WEBGUI ( 9001 ) - traefik.http.services.minio.loadbalancer.server.port=9001 - traefik.http.routers.minio.entrypoints=websecure - traefik.http.routers.minio.rule=Host(`${MINIO_CONSOLE}`) El segundo problema que me encontre es que MinIO utiliza 2 puertos para poder ser utilizado: 9000: Es el puerto de la API que se utiliza para las copias de seguridad 9001: Es el puerto de acceso para la GUI. Con este puerto no tenia ningun problema, porque es el que ya habia configurado con traefik. Pero claro, como se implementa esto en docker y mas exactamente en traefik, aqui de nuevo tuve que tirar de IA y esta me dio la respuesta correcta. Todo consiste en tener 2 se","date":"30-06-2025","objectID":"/2025-05-23-restic-copias-locales-3/:0:0","tags":["unRAID","Docker"],"title":"Restic + Backrest + MiniO - 3","uri":"/2025-05-23-restic-copias-locales-3/"},{"categories":["unRAID"],"content":"Un nuevo articulo hablando sobre homepage, este magnifico dashboard al que le tengo mucho cari√±o y que hace un tiempo, realizo una actualizaci√≥n en su configuraci√≥n y que en mi caso, usuario de portatil no me funcionaba correctamente, porque las 5 columnas que yo utilizo no se veian correctamente, abri un issue sobre este problema y parece ser que con la ultima actualizaci√≥n, ha solucionado este problema y ahora explicare como lo he hecho. Explicare como lo tenia actualmente instalado en mi servidor unRAID y que ahora he cambiado y me lo apunto por si en algun futuro lo necesito y nunca se sabe, a lo mejor os puede servir de ayuda. Lo primero es la instalaci√≥n que yo tenia en unRAID. Yo lo tenia a traves del plugin compose, pero cada vez que se reiniciaba el servidor, aunque son pocas veces, homepage dejaba de funcionar y tenia que detener el contenedor y luego volverlo a iniciar. Pero claro, llega un momento que te cansas de estar asi y te pones a solucionar este problema y hoy ha sido ese dia. Lo que he hecho, ha sido usar la tienda de unRAID para instalar homepage pero eso si, usando la configuraci√≥n que estaba usando actualmente. Pero no todo iba a ser tan bonito de funcionar a la primera. Cuando me iba a la ip de homepage me salia un error donde me indicaba que revisase el log y me aparecia el siguiente mensaje de error: [2025-03-14T19:25:15.419Z] error: Host validation failed for: 192.0.0.40:2000. Hint: Set the HOMEPAGE_ALLOWED_HOSTS environment variable to allow requests from this host. [2025-03-14T19:25:15.424Z] error: Host validation failed for: 192.0.0.40:2000. Hint: Set the HOMEPAGE_ALLOWED_HOSTS environment variable to allow requests from this host. [2025-03-14T19:25:15.428Z] error: Host validation failed for: 192.0.0.40:2000. Hint: Set the HOMEPAGE_ALLOWED_HOSTS environment variable to allow requests from this host. [2025-03-14T19:25:15.433Z] error: Host validation failed for: 192.0.0.40:2000. Hint: Set the HOMEPAGE_ALLOWED_HOSTS environment variable to allow requests from this host. [2025-03-14T19:25:15.455Z] error: Host validation failed for: 192.0.0.40:2000. Hint: Set the HOMEPAGE_ALLOWED_HOSTS environment variable to allow requests from this host. Anteriormente este error no me daba, hasta que me he dado cuenta que en el docker-compose.yml tenia puesto lo siguiente: services: homepage: #image: ghcr.io/gethomepage/homepage:v0.10.9 image: ghcr.io/gethomepage/homepage:latest container_name: homepage restart: always ports: - \"2000:3000\" volumes: - /mnt/user/appdata/homepage/config:/app/config - /mnt/user/appdata/homepage/icons:/app/public/icons - /var/run/docker.sock:/var/run/docker.sock:ro environment: # ES LA OPCIO PROBLEMATICA - HOMEPAGE_ALLOWED_HOSTS=192.0.0.1:2000 env_file: - .env healthcheck: disable: false Pero claro, aqui lo tenia asi, pero en el caso de querer hacerlo mediante la aplicaci√≥n de unRAID, como se tiene que hacer? Adem√°s en homepage como sabeis, hay unas variables para pasar parametros a las opciones que puedes ser, que normalmente esta en un archivo .env, pero claro como se hace para pasar el este fichero a homepage. De nuevo, a buscar m√°s informaci√≥n, si os dais cuenta, he empezado por una cosa y aun no he acabado y tengo m√°s problemas, pero vayamos por partes üòÄ. Lo primero es lo primero, y esto es conseguir pasar archivo .env a homepage y esto al final despues de buscar en unRAID se hace de la siguiente manera. Cuando instalas la aplicaci√≥n, se tiene que activar la opci√≥n expert que te da m√°s opciones que modificar. Una vez la tienes activada, tienes que ir a la opci√≥n Extra Parameters y a√±adir lo siguiente: Afegim fitxer .env He iniciamos la aplicaci√≥n. Pero en mi caso, seguia apareciendo el mensaje y eso que habia a√±adido la variable HOMEPAGE_ALLOWED_HOSTS con la ip de servidor y el puerto, esto se tiene que hacer, siempre que no uses el puerto por defecto (3000). Pues nada, a seguir investigando. Al final he encontrado la soluci√≥n, que es a√±adir en la plantilla de homepage esta opcion de","date":"21-06-2025","objectID":"/2025-06-20-usando-homepage-3/:0:0","tags":["unRAID","Docker"],"title":"Usando HomePage. El Dashboard - 3","uri":"/2025-06-20-usando-homepage-3/"},{"categories":["VPS"],"content":"A partir de este articulo de Carlos M. del que sigo tanto su blog como su canal de mastodon, me pico la curiosidad de si yo tambien podria tener un calendario ajeno al control de Google y si le sacaria todo el partido para ello. Pues que quereis que os diga, si con el calendario de Google que lo uso para apuntar 3 notas, porque no voy a sacarle partido a mi propio calendario, pero controlado por mi. A parte, de que tambien permite tener tu propia agenda de contactos y que esta no este al alcance de Google. Entonces me empape con el articulo de Carlos M. y busque toda la informaci√≥n posible sobre la aplicaci√≥n que el estaba usando, Radicale. En principio, cuesta un poco de entender el funcionamiento que tiene, pero la explicare en lengua vernacula para que todos nos podamos entender. Radicale es un servidor de calendarios, donde tu los creas y luego con diferentes aplicaciones usas esos calendarios que has creado. Nota Como ya he informado, Radicale tambien permite tener una agenda de contactos que tambien hare uso de ello y asi no tenerlo vinculado por la cuenta de Google, pero eso no quita, que los contactos que tengo en mi cuenta de GMail los vaya a borrar. Me serviran como copia de respaldo por si algun dia pasa alguna cosa. Cuando ya tenemos claro lo que queremos hacer, ahora vista la parte m√°s facil o dificil segun se mire, la instalaci√≥n del mismo. Pero que gracias a docker y la busqueda de informaci√≥n de como se hace, se vuelve muy facil. Lo primero es el docker-compose.yml que en mi caso es el siguiente: radicale: image: grepular/radicale:3 container_name: calendarRadicale restart: unless-stopped networks: - proxy user: root volumes: - ${HOME}/config/radicale/config:/etc/radicale/config:ro - ${HOME}/config/radicale/users:/etc/radicale/users:ro - ${HOME}/config/radicale/data:/var/lib/radicale labels: - traefik.enable=true - traefik.http.services.radicale.loadbalancer.server.port=5232 - traefik.http.routers.radicale.entrypoints=websecure - traefik.http.routers.radicale.rule=Host(`${RADICALE_SERVER}`) - traefik.http.routers.radicale.middlewares=cors-headers@docker - traefik.http.middlewares.cors-headers.headers.accessControlAllowOriginList=* - traefik.http.middlewares.cors-headers.headers.accessControlAllowHeaders=Origin, X-Requested-With, Content-Type, Accept, Authorization - traefik.http.middlewares.cors-headers.headers.accessControlAllowMethods=GET, POST, PUT, DELETE, OPTIONS Como os podeis dar cuenta, tambien he a√±adido las etiquetas de traefik para que asi, me de un plus m√°s de seguridad a parte de toda la que ya tiene (que nunca es poca). Aunque si vais a esta direcci√≥n, podeis encontrar el docker que os facilita la propia aplicaci√≥n de Radicale. Consejo Lo que si que teneis que tener en cuenta, es que antes de iniciar el servicio de docker de Radicale, teneis que hacer creado los siguientes ficheros: config.yml donde estara la configuraci√≥n del servicio. user donde estaran los usuarios que tienen acceso al servicio. En el caso de la configuraci√≥n, en la pagina web de Radicale, m√°s concretamente en su github podeis encontrar el fichero de configuraci√≥n por defecto, el cual luego puedes modificar a tu gusto. Luego pasamos a a√±adir los usuarios que tendran acceso, esto se hace mediante htpasswd -B -c /path/to/users usuari, luego te pide la contrase√±a para ese usuario. Una vez, has ejecutado esta instrucci√≥n, te aparece el fichero users con el siguiente formato: usuari:password_encriptat Cuando ya tenemos el fichero de configuraci√≥n y el fichero de usuarios, ahora si que podemos instalar el contenedor de Radicale mediante la famosa invocaci√≥n a nuestro dios docker compose üòÇ Despues de esto, ya tenemos instalado nuestro propio calendario, ahora solo hace falta acceder a el y empezar a crear los calendarios que necesitemos. Nota En mi caso, lo que he hecho, ha sido descargar el calendario tanto de aniversarios como de tareas que ya tenia en Google Calendar y los he importado a Radicale. Para importar los calendarios, una","date":"20-06-2025","objectID":"/2025-06-20-radicale-etar/:0:0","tags":["VPS","Docker"],"title":"Adios GCalendar. Hola Radicale","uri":"/2025-06-20-radicale-etar/"},{"categories":["Blog"],"content":"Antes de seguir con nuestro ultimo articulo sobre las copias de seguridad (Restic, Backrest y Minio) y seguramente ya lo habreis notado si visitais este blog, es que ha habido un cambio sustancial en su dise√±o. Como informaba en este articulo, informba de los cambios que le habia hecho a mi blog esperando que fuera el ultimo cambio que hiciera, pero como pasa siempre, nunca digas que de este agua no bebere. Porque es lo que ha pasado. Todo empezo mientras veia los articulos que iba publicando Carlos M., donde explicaba como era el funcionamiento de Hugo y el porque el habia efectuado el cambio. En principio, despu√©s de leer sus articulos, me parecia que todo era igual a Jekyll que era lo que estaba usando en ese momento y asi se lo pregunte. Me dijo que en principio, todo era igual, pero con una mejora muy sustancial, que en el caso de Jekyll, cuando instalas un tema, se tienen que descargar modulos que necesita el tema para su correcto funcionamiento, y en el caso de Hugo esto no es asi, porque todo el tema ya tiene implementado todo lo que va a necesitar y no necesitas descargar nada externo. Y como soy un culo inquieto, pues me puse a investigar como es realmente el funcionamiento de Hugo en comparaci√≥n de Jekyll. Entonces, me propuse cambiar mi blog personal de Jekyll a Hugo y ver como iba todo y como tengo el servidor local, pues que mejor sitio para hacer pruebas y no estropear nada de lo que ya tengo en funcionamiento. La instalaci√≥ de Hugo en mi servidor local, no la voy a explicar, porque teneis este articulo, lo que si que tengo que puntualizar, es que sino tienes creado el fichero config.yml o hugo.toml junto con cualquier tema, puedes poner el que quiera, porque lo necesita Hugo para iniciar, porque sino te da error. Despues de iniciar el servidor, accedemos al contenedor: usuari@debian:~$ docker exec -it hugoBlog sh /app:~ hugo new site . Es posible, que a la hora de usar esta instrucci√≥n, te da error porque te indica que ya existe un sitio, entonces, lo que yo hago, sin detener el contenedor, es borrar el fichero de configuraci√≥n del tema, en mi caso es hugo.toml y entonces vuelvo a hacer la instrucci√≥n de antes, pero con la coletilla de --force, para que si o si me cree el nuevo sitio. Una vez que se hace esto, se crea toda la estructura de directorios del nuevo sitio. Y aqui es cuando ya tienes a tu disposici√≥n el servidor Hugo con la siguiente estructura: |- archetypes |- assets |- content |- data |- i18n |- layouts |- public |- resources |- static |- themes |- LoveIt |- hugo.toml Entonces, en el directorio themes, descargas el tema que quieres utilizar (en mi caso despu√©s de probar muchos el que m√°s me ha gustado es LoveIt. Una vez que ya tenemos nuestro tema preferido, ahora es cuando nos ponemos realmente a configurar el tema a nuestro gusto. Nota Esta es la parte m√°s dificl, porque hasta que no te habituas al fichero de configuraci√≥n de Hugo vas un poco perdido. Es extra√±o que esto no me pasase con Jekyll, veia m√°s ameno la configuraci√≥n de este ultimo. Eso si, una vez que entiendes m√°s o menos con va todo y para que sirve cada opci√≥n, se avanza m√°s rapidamente. Consejo Lo que si que hay que tener en cuenta, es la versi√≥n de Hugo que estas utilizando, porque no todos los temas estan actualizados para las nuevas versiones. Lo primero que hice, fue modificar la configuraci√≥n del buscador, por defecto utiliza algolia, pero cuando hice pruebas, en mmi caso, no funcionaba nada bien, no se si la culpa es porque comente algun codigo que era necesario anteriormente.. En este caso, lo que yo hice fue usar lunr, que en mi caso me funciona perfectamente y me gusta m√°s. # Search config [params.search] enable = true # type of search engine [\"lunr\", \"algolia\"] type = \"lunr\" Otras de las modificaciones que yo he realizado y se que esta como petici√≥n en la web del tema, es que se pueda desactivar la opci√≥n de cambiar el tema (blanco a negro), yo en mi caso, he modificar el siguiente fichero header.html y listo. En mi caso","date":"09-06-2025","objectID":"/2025-06-09-cambiando-hugo/:0:0","tags":["Blog","Hugo"],"title":"Cambiando a Hugo","uri":"/2025-06-09-cambiando-hugo/"},{"categories":["unRAID"],"content":"Continuamos con esta segunda parte donde explicaremos como sacar provecho de estas 3 aplicaciones, en este caso, explicare el script que estoy usando para realizar las copia, que es una variaci√≥n de uno que tiene Lorenzo en su gitHub, pero que en mi caso, en vez de ser un fichero jinja, es un fichero en bash a pelo. Pregunta No entiendo el sentido que tiene de utilizar los ficheros jinja. Se que es una plantilla para la creaci√≥n de un fichero al vuelo, pero como utilizarlos, es lo que se me escapa. Ya le preguntaremos a Lorenzo su funci√≥n o a ver si tiene algun podcast donde lo explique. Aqui teneis el script que estoy usando ahora mismo (versionado del original de atareao) pero para mis necesidades. Nota Esta primera parte, es la funci√≥n del script el cual se encarga de enviar las notificaciones, ahora si, a mi servidor de Matrix. # Funci√≥ per a notificar les accions del script enviarNotificacions(){ local repository=\"$1\" local action=\"$2\" local data=\"$3\" local result=\"\" local formatted_message=\"\u003cstrong\u003eüì¢ Resumen de respaldo:\u003c/strong\u003e\u003cbr\u003e\" formatted_message+=\"\u003cstrong\u003eüóÇ Repositorio:\u003c/strong\u003e ${repository}\u003cbr\u003e\" formatted_message+=\"\u003cstrong\u003e‚ö° Acci√≥n:\u003c/strong\u003e ${action}\u003cbr\u003e\" formatted_message+=\"\u003cstrong\u003eüì¶ Archivos procesados:\u003c/strong\u003e\u003cbr\u003e\u003cpre\u003e\" while read -r line; do [[ -n \"$line\" ]] \u0026\u0026 result+=\"${line}\u003cbr /\u003e\" done \u003c \u003c(echo \"$data\") formatted_message+=\"${result}\u003c/pre\u003e\" # Tria el final de cada missatge segons l'acci√≥ que s'ha dut a terme case \"$action\" in create) formatted_message+=\"\u003cstrong\u003eüíæ End backup at ${repository}\u003c/strong\u003e\" ;; check) formatted_message+=\"\u003cstrong\u003eüîç End check at ${repository}\u003c/strong\u003e\" ;; prune) formatted_message+=\"\u003cstrong\u003eüóëÔ∏è End prune at ${repository}\u003c/strong\u003e\" ;; snapshots) formatted_message+=\"\u003cstrong\u003eüì∏ End snapshots at ${repository}\u003c/strong\u003e\" ;; esac # Escapar caracters especials adequadament formatted_message=$(echo \"$formatted_message\" | sed -E 's/\"/\\\\\"/g') # Construcci√≥ manual del JSON verificant que tot estigui en una sola linia json_payload=$(printf '{\"msgtype\":\"m.text\",\"format\":\"org.matrix.custom.html\",\"formatted_body\":\"%s\"}' \"$formatted_message\") # Enviem la notificaci√≥ fent servir CURL curl -X PUT \\ -H \"Authorization: Bearer ${MATRIX_TOKEN}\" \\ -H \"Content-Type: application/json\" \\ -d \"$json_payload\" \\ \"${MATRIX_SERVER}/_matrix/client/v3/rooms/${MATRIX_ROOM}/send/m.room.message/$(date '+%s%3N')\" } Consejo Esta segunda parte del script, es la que si se encarga de llevar a cabo las copias de seguridad en mi equipo local. #!/usr/bin/env bash # -*- coding: utf-8 -*- # Carrega les variables d'entorn que estan en el fitxer backup.env # En cas d'error donar un missatge ENV_FILE=\"$HOME/.local/bin/backup.env\" if [ -f \"$ENV_FILE\" ]; then set -a source \"$ENV_FILE\" set +a else echo \"Error: No se encuentra el archivo $ENV_FILE\" exit 1 fi # Amb els valors del fitxer backup.env, les pasem a variables per fer-les servir m√©s endavant # Configuraci√≥n de Restic export RESTIC_PASSWORD=${RESTIC_PASSWORD} export AWS_ACCESS_KEY_ID=${SERVER_AWS_ACCESS_KEY_ID} export AWS_SECRET_ACCESS_KEY=${SERVER_AWS_SECRET_ACCESS_KEY} # Aqui tenim les ubicacions dels repositoris # Com veus tinc la del servidor local # I m√©s endavant anira la del VPS # Configuraci√≥n de repositorios REPOS=( \"s3:${SERVER_MINIO_URL}/minio_repositori\" ) # Directoris dels que volem copies de seguretat DIRECTORIOS=( \"/home/user/.config\" \"/home/user/.fonts\" \"/home/user/.icons\" \"/home/user/.local/bin\" \"/home/user/.ssh\" \"/home/user/.themes\" \"/home/user/.signature\" \"/home/user/.bashrc\" \"/home/user/Mail\" \"/home/user/Projects\" \"/home/user/Varios/Novela\" ) # Aqui informem de els fitxers amb les extensions excloses EXCLUSIONES=( \"--exclude=*.tmp\" \"--exclude=*.mkv\" \"--exclude=*.mp4\" \"--exclude=*.mp3\" \"--exclude=*.avi\" \"--exclude=*.log\" \"--exclude=*.AppImage\" ) # # Ara si que ve la festa # # Es realitzar les copies de seguretat a cada repositori # Una vegada finalitzat, s'enviar notificaci√≥ for REPO in \"${REPOS[@]}\"; do create_output=$(restic -r \"$REPO\" backup \\ --tag ${TAG_1","date":"27-05-2025","objectID":"/2025-05-22-restic-copias-locales-2/:0:0","tags":["unRAID","Docker"],"title":"Restic + Backrest + MiniO - 2","uri":"/2025-05-22-restic-copias-locales-2/"},{"categories":["VPS"],"content":"Como ya explique en este articulo, ante la imposibilidad de usar Matrix me pase a Gotify aunque me negue a dejar de lado a Matrix y segui investigando, el porque no funcionaba correctamente y asi llegado el momento, poderlo usar o sino, tener una alternativa Gotify. Aqui si que tengo que dar las gracias a Lorenzo de atareao, por toda la ayuda que me ofrecio para resolver el problema que tenia üëè. Lo primero fue facilitarme el docker-compose.yml que el estaba usando para Matrix, os lo pongo continuaci√≥n por si os sirve de ayuda, pero modificado para mis necesidades: conduit: image: matrixconduit/matrix-conduit:latest container_name: matrixConduit restart: unless-stopped volumes: - ${HOME}/config/matrix/db:/var/lib/matrix-conduit/ environment: RUST_BACKTRACE: full CONDUIT_LOG: warn CONDUIT_SERVER_NAME: matrix.servidor.org CONDUIT_DATABASE_PATH: /var/lib/matrix-conduit/ CONDUIT_DATABASE_BACKEND: rocksdb CONDUIT_PORT: 6167 CONDUIT_MAX_REQUEST_SIZE: 20_000_000 # in bytes, ~20 MB CONDUIT_ALLOW_REGISTRATION: false CONDUIT_ALLOW_FEDERATION: false CONDUIT_ALLOW_CHECK_FOR_UPDATES: true CONDUIT_ENABLE_LIGHTNING_BOLT: true CONDUIT_TRUSTED_SERVERS: '[\"matrix.org\" ]' CONDUIT_ADDRESS: 0.0.0.0 CONDUIT_CONFIG: \"\" # Ignore this networks: - proxy labels: - traefik.enable=true - traefik.http.services.conduit.loadbalancer.server.port=6167 - traefik.http.routers.conduit.entrypoints=websecure - traefik.http.routers.conduit.rule=Host(`${MATRIX_SERVER}`) - traefik.http.routers.conduit-secure.tls=true - traefik.http.routers.conduit-secure.tls.certresolver=letsencrypt - traefik.http.routers.conduit.middlewares=cors-headers@docker - traefik.http.middlewares.cors-headers.headers.accessControlAllowOriginList=* - traefik.http.middlewares.cors-headers.headers.accessControlAllowHeaders=Origin, X-Requested-With, Content-Type, Accept, Authorization - traefik.http.middlewares.cors-headers.headers.accessControlAllowMethods=GET, POST, PUT, DELETE, OPTIONS Con este simple docker es lo unico que se necesita para instalar Matrix, no como lo tenia yo antes que eso si que era complicado, ahora si que ya teniamos todas las herramientas para hacer funcionar a Matrix, o eso creia yo. Una vez que ya tenia el docker, lo unico que me quedaba era probarlo, porque esta nueva manera de instalaci√≥n, era mucho m√°s sencilla que la que yo tenia antes. Pues aqui vamos a ver que resultado obtenemos: usuari@debian:~$ docker compose up -d conduit Despu√©s de la instalaci√≥n, todo funcionaba correctamente, pero seguia con el problema de que las notificaciones no me llegaban al movil. Aqui busque ayuda de todo el mundo, para saber el porque seguia sin funcionarme las notificaciones, tambien probe Synapse, pero con el mismo resultado, tambien llame a todas las puertas y todas me las encontraba cerradas o miraban la mirilla, pero no me abrianla puerta ;), hasta que al final pedi ayuda a atareao que muy amablemente se ofrecio a ver si conseguiamos llevar a buen puerto este problema que tenia, porque el, con esta misma configuraci√≥n, no tenia problemas. Os pongo un resumen de todo fue todo, porque sino seria muy largo todo y os dareis cuenta de lo que una peque√±a cosa, los problemas que puede llegar a dar: atareao: Cuantos usuarios tienes en Matrix? yo: Uno solo, que es el adm que soy yo atareao: Crea otro usuario y manda los mensajes con el otro usuario Aqui fue cuando mi cerebro explosiono en mil trozitos y pidiendo a @Atareao que acabe con mi sufrimiento ü•π yo: @atareao Tienes cerca alguna cuerda larga y un barranco? yo: Para que me ates y me lances por ese barranco yo: He hecho lo que has comentado yo: He creado un usuario que es el administrador de los canales y luego me he creado mi usuario. yo: Entonces el adm me ha invitado a los canales y con el script que te he pasado estoy enviando mensajes a la sala y me aparecen las notificaciones yo: Por eso, yo me ato de pies y manos y tu solo tienes que empujarme hacia el barranco atareao: Ya‚Ä¶ Tiene l√≥gica que si te env√≠as a ti mismo un mensaje n","date":"25-05-2025","objectID":"/2025-05-22-gotify-matrix/:0:0","tags":["VPS","Docker","Matrix","Gotify"],"title":"Matrix - 4. De vuelta al inicio, de Gotify a Matrix","uri":"/2025-05-22-gotify-matrix/"},{"categories":["unRAID"],"content":"Lo primero y antes de nada, tengo que dar las gracias a Carlos M. de El Blog de L√°zaro y a Lorenzo de Atareao, por todo el conocimiento que me han aportando, porque si eso, yo no podria haber hecho lo que voy a explicar en este articulo. Muchas gracias üëè. Ahora vamos a explicar como gracias a estas 2 increibles personas, he creado mi perfecto (para mi), sistema de copias de seguridad. Nota Tengo que decir que me falta la parte de externalizar las copias, pero es muy parecido a lo que tengo ahora, asi que no debe de haber muchos problemas. Lo primero y m√°s basico, es explicar lo que quiero hacer: Mediante restic, hacer las copias de seguridad de mi equipo personal y llevarlas al servidor local con unRaid. Atareao explica que lo correcto es hacer una copia de seguridad en local, otra al servidor local y una al VPS externo. Yo entiendo que las copias en local, si te falla el HDD / SDD del equipo no sirven de nada, que mejor hacer solo copia de seguridad en servidor local (que ya tengo implementado) y otra en VPS externo (que me falta por implementar). Mantener la regla de 7 copias diarias, 4 semanales, 6 mensuales. Me parece un poco excesivo, pero nunca se sabe, m√°s vale prevenir que curar. Asi que me puse a ello. Pero lo primero era tener un HDD para guardar las copias de seguridad, y eso, ahora mismo, con mi nuevo servidor es muy sencillo realizar esta ampliaci√≥n, solamente he aprovechado un HDD de 1Tb que tenia por aqui tirado, lo he conectado a unRaid y a funcionar. De nuevo, tengo que dar las gracias a @Mr. H, por el increible dise√±o que ha hecho. Una vez que ya tenia mi disco para las copias de seguridad, venia el momento de instalar restic en mi equipo personal y en Debian GNU/Linux, con un simple APT lo tienes instalado: usuari@debian:~$ sudo apt install restic Ya esta instalado. Ahora pasamos a las cosas m√°s complicadas, la instalaci√≥n de backrest y de MiniO. Pero complicado si no estas en unRaid, sino es tan facil como ir a la secci√≥n Apps, buscar backrest e instalar. No voy a explicar como se hace la instalaci√≥n en unRaid, primero, porque es muy sencilla y porque solamente tienes que configurar que te aparece, y si no hay suficiente con esto, tienes esta otra, porque L√°zaro, ha hecho un articulo donde lo explica mucho mejor, asi que, porque inventar la rueda si ya esta inventada. Backrest MiniO Una vez, tenemos backrest, solamente nos falta la instalaci√≥n de MiniO y como antes, mejor leer el articulo de Lorenzo que tambien lo explica muy bien. Nota Lo que hay que tener en cuenta a la hora de instalar MiniO es la nota que a√±ade el creador de este docker, para cuando se usa en unRaid Advertencia Attention: Unfortunately due to changes in Minio, the unRAID file system is no longer supported. The only way to get Minio to work on unRAID now is by mapping a single disk directly or setting up a V-Disk. En mi caso, no he tenido ningun problema, porque solamente tengo un HDD para las copias de seguridad, pero siempre hay que tenerlo en cuenta. ","date":"22-05-2025","objectID":"/2025-05-21-restic-copias-locales-1/:0:0","tags":["unRAID","Docker"],"title":"Restic + Backrest + MiniO - 1","uri":"/2025-05-21-restic-copias-locales-1/"},{"categories":["unRAID"],"content":"A tener en cuenta en la configuraci√≥n de nuestro repositorio en backrest A la hora de realizar la instalaci√≥n de backrest, tenemos que tener en cuenta, que la Ip local tiene que ser la de nuestro servidor, es el que recibe las copias de seguridad de restic de nuestro equipo local. Asi mismo, en mi caso, no tengo configurado ningun plan de gesti√≥n de copias, porque eso se encarga el script de bash que tengo en mi equipo local haciendo las copias de seguridad. Despu√©s de este peque√±o apunte, voy a explicar algunas cosas sobre el uso y funcionamiento de restic que nos pueden venir bien para m√°s adelante. ","date":"22-05-2025","objectID":"/2025-05-21-restic-copias-locales-1/:0:1","tags":["unRAID","Docker"],"title":"Restic + Backrest + MiniO - 1","uri":"/2025-05-21-restic-copias-locales-1/"},{"categories":["unRAID"],"content":"1. Saber el estado de las copias: usuari@debian:~$ restic -r /path/to/backup snapshots 2. Para crear copias de seguridad de varios directorios usuari@debian:~$ restic -r /path/to/backup backup /dir_1 /dir_2 etc.... 3. para restaurar copia de seguridad usuari@debian:~$ restic -r /path/to/backup restore latest --target /dir_recuperar 4. Borrar repositorios para solo mantener X repositorios Consejo En este caso, como ejemplo, hemos puesto 6. usuari@debian:~$ restic -r /path/to/backup forget --keep-last 6 prune ","date":"22-05-2025","objectID":"/2025-05-21-restic-copias-locales-1/:0:2","tags":["unRAID","Docker"],"title":"Restic + Backrest + MiniO - 1","uri":"/2025-05-21-restic-copias-locales-1/"},{"categories":["unRAID"],"content":"5. Borrar backups de m√°s de 30 dias usuari@debian:~$ restic -r /path/to/backup forget --keep-within 30d Ahora vendria la parte m√°s interesante, el como hacer uso de estas 3 aplicaciones para manejar nuestras copias de seguridad, pero esto lo explicare en el siguiente articulo, porque sino, este puede salir muy largo y volverme muy pesado. Referencia El Blog de L√°zaro - Restic 677 - No pierdas tus datos. Backups infalibles 680 - Backups en Android con Restic Como hacer copias de seguridad cifradas con Restic de forma autom√°tica ","date":"22-05-2025","objectID":"/2025-05-21-restic-copias-locales-1/:0:3","tags":["unRAID","Docker"],"title":"Restic + Backrest + MiniO - 1","uri":"/2025-05-21-restic-copias-locales-1/"},{"categories":["VPS"],"content":"Como bien sabeis, porque lo explique en este articulo y en este otro, estaba usando Matrix como servidor de comunicaci√≥n entre mis servidores y un servidor. Pero mientras m√°s lo usaba, m√°s desesperaci√≥n me producia, porque, puede parecer una tonteria, pero en el movil, no recibia las notificaciones de los mensajes que me llegaban al cliente de Matrix, que en este caso era FluffyChat. Lo habia instalado tanto de F-Droid como de la PlayStore y en los 2 casos, con el mismo resultado, no me llegaban las notificaciones. Tambien habia probado Element con el mismo resultado. Instale Synapse tambi√©n en el VPS para ver si el problema estaba en Conduit, pero ni asi lograba que me llegaran las notificaciones. Investigue por todos sitios, gitHub de Conduit, matrix de Conduit y siempre con los mismos resultados, o no me respondian, o no entendian el motivo del porque no funcionaba. Al final ya no sabia que hacer, hasta que Carlos M. publico un nuevo articulo de como instalar Gotify en unRaid, en mi caso no seria en unRaid, porque sino, tengo que abrir el servidor al mundo entero y es una cosa que quiero evitar, pero como tengo el VPS, pues decidi instalarlo ahi. Tengo que decir que yo ya jugaba con un poco de ventaja con respecto a Gotify, porque hace un par de a√±os, antes de usar Telegram como servidor de notificaciones de mis servicios y de unRaid, lo habia utilizado, pero no me acabada de convencer, porque eso de tener 2 aplicaciones abiertas en el movil, telegram y a la vez gotify para recibir las notificaciones, pues me parecia un derroche de bateria, asi que al final lo acabe poniendo todo el telegram porque era la que m√°s usaba. Asi que de vuelta al ruedo, a realizar la instalaci√≥n de Gotify, a traves de su correspondiente docker-compose: gotify: image: gotify/server:latest container_name: gotify env_file: - gotify.env volumes: - ${HOME}/config/gotify:/app/data networks: - proxy labels: - traefik.enable=true - traefik.http.services.gotify.loadbalancer.server.port=80 - traefik.http.routers.gotify.entrypoints=websecure - traefik.http.routers.gotify.rule=Host(`${GOTIFY_SERVER}`) Lo unico que hay que tener en cuenta es el fichero gotify.env: TZ=Europe/Andorra Que es donde se configura la zona horaria, pero el resto, es como cualquier otro docker-compose, ahora solamente queda hacer un docker commpose up -d gotify y listo, y como adem√°s lo tengo configurado para que use traefik siguiendo los magnificos articulos que pone a disposici√≥n del publico atareo, pues es todo mucho m√°s facil. Lo que si que tengo que agradecer a Lazaro, es que en su articulo, explica muy bien todo el tema de las aplicaciones, que seguramente fue una de las razones del porque me echo para atras Gotify cuando lo use la primera vez, junto con que puedes poner los iconos de cada aplicaci√≥n, pues ya lo tenia todo en marcha. Solo me faltaba instalar la aplicaci√≥n en el movil y tenia todas las notificaciones de mis serviciones a mi disposici√≥n y encima diferenciadas por aplicaciones (salas) para que todo estuviera m√°s claro y facil de entender: Backups En mi caso, las copias de seguridad las hago a traves de restic, otro articulo que tengo que hacer (y tambien gracias a atareao por dar a conocer el sistema de copias que el usa), y que junto a un script de Gotify podia estar informado de cuando y como se habian echo las copias de seguridad. flexGet unRaid Gesti√≥n de Podcast Y m√°s cosas que quiera a√±adir gracias a los plugins que tiene Aqui tengo que hacer un inciso, los que yo encontre son un poco üôÅ y no se les puede sacar mucho provecho. El script en cuesti√≥n es el siguiente: # SCRIPT PER ENVIAR LES NOTIFICACIONS curl -s -S --data \\ '{\"message\": \"'\"${DIR_NAME}.xml\"'\", \"title\": \"'\"${TITLE_RSS}\"'\", \\ \"priority\":'\"${GOTIFY_PRIORITY}\"', \"extras\": {\"client::display\": \\ {\"contentType\": \"text/markdown\"}}}' \\ -H 'Content-Type: application/json' \"$GOTIFY_SERVER\" Con esto, ya tengo de nuevo en marcha mi sistema de notificaciones para substituir telegram por algo m√°s libre y asi te","date":"20-05-2025","objectID":"/2025-05-19-matrix-gotify/:0:0","tags":["VPS","Docker","Matrix","Gotify"],"title":"Matrix - 3. De Matrix a Gotify","uri":"/2025-05-19-matrix-gotify/"},{"categories":["Hardware"],"content":"Este nuevo articulo no sabia si llamarlo Modificaciones en el servidor - 3 o La imaginaci√≥n humana no tiene limites, porque una vez que hayais leido este articulo pensareis lo mismo que yo. Como recordareis, en este articulo os comentaba que despu√©s de los ultimos cambios, mi servidor habia quedado de la siguiente manera: Intel Xeon e2286M 32Gb de RAM 4 HDD‚Äôs 1 HDD de 18Tb 1 HDD de 16Tb 1 HDD de 12Tb 1 HDD de 1Tb Este lo uso para copias de seguridad. Lo m√°s importante es saber el porque de este cambio. Al principio todo iba correctamente, aunque habia momentos en que notaba que los discos duros me hacian el tonto, como si se desconectasen o se reiniciasen pero como me lo hacia pocas veces, pues no le hacia mucho caso, porque como pasaba poco, pues nada. La cosa cambio, cuando le a√±adi un nuevo HDD Seagate Exos X20 SATA (gracias a HomeLabs y sus conjuntas üòà), quedando el servidor con la siguiente configuraci√≥n: 5 HDD‚Äôs 2 HDD de 18Tb 1 HDD Toshiba 1 HDD Seagate Exos 1 HDD de 16Tb 1 HDD de 12Tb 1 HDD de 1Tb Aqui se hicieron m√°s seguidos y peligrosos los problemas que habia visto con anterioridad. Ya eran m√°s importantes porque estos pasaban cada 2 por 3, los HDD‚Äôs se reiniciaban sin motivo aparente y sobre todo cuando se hacian copias de muchos archivos a la vez o de archivos muy pesados y para que veais lo peligroso que habia, que a veces el array de unRaid se desmontaba quedando todos los discos duros desactivados con el consiguiente peligro para la integridad de la informaci√≥n. Asi que tuve que desconectador algunos HDD. Al final, el servidor quedo de la siguiente manera: 3 HDD‚Äôs 2 HDD de 18Tb 1 HDD Toshiba 1 HDD Seagate Exos 1 HDD de 12Tb Nota Como veis, peor de lo que estaba al principio, hablando de espaci√≥ de almacenamiento y con los mismos problemas o peores. Lanze la pregunta a mi canal favorito de Telegram, HomeLabs y la respuesta que me dieron, es que todo tenia pinta de falta de potencia para manejar los 3 que tenia en ese momento. No entendia, porque habia una falta de potencia, si antes habia podido usar 3 HDD‚Äôs sin ningun problema, usando el mismo transformador que tenia, el de 135w, mediante la siguiente modificaci√≥n donde se puede alimentar, siempre que tengas el transformador de 135w, un par de HDD‚Äôs. El problema no era que por los 3 HDD‚Äôs, sino porque 2 eran de alta capacidad (18T) junto con el Xeon del Tiny y la fuente ya no podida dar todo la demanada que se le pedia. La soluci√≥n que me dieron y que redundaria tanto en mi benefici√≥ como en la salud de los HDD‚Äôs, porque para los HDD‚Äôs no es nada aconsejable que se esten reiniciando constantemente. Mire las diferentes posibles soluciones que tenia a mi alcance, y todas tenian como resultado final, a√±adir una fuente de alimentaci√≥n externa unicamente para los HDD‚Äôs. Tambien me comentaron, que si tomaba este camino, podria, con la misma fuente, alimentar el Tiny y asi solamente tendria un unico cable, el espaci√≥ del que dispongo es muy limitado. Mientras pensaba en si hacer la modificaci√≥n que me habian comentado, me contacto como un angel salvador üëº, @Mr H, al que siempre le estare agradecido por el increible trabajo de dise√±o que ha realizado, y tampoco nos podemos olvidar de J.Lu, los 2 de HomeLabs. @Mr H me comento que estaba haciendo un nuevo dise√±o para poder acoplar un blackplane de 8 HDD‚Äôs a un Tiny ü§Ø. Ya conocia a @Mr H porque tenia una antigua versi√≥n de este mismo concepto, que tambi√©n habia dise√±ado el, pero solo para 6, pero con un dise√±o m√°s rudimentario y simple (segun @Mr H), no tan refinado como este nuevo (segun sus propias palabras). Aqui podeis ver una primera versi√≥n del dise√±o en el que estaba trabajando: TiNAS (image) TiNAS (image) TiNAS (image) Nota Tengo que agradecer a @Mr H por permitirme publicar el dise√±o del TiNAS Que os parece? No es increible ü§©. Tambien me comento que serian necesarios algunos componentes m√°s y que eran muy faciles de conseguir en Aliexpress: Probador de arranque de fuente de alimentaci√≥n Cable SATA 3,0 de 0,5 m/1m","date":"20-04-2025","objectID":"/2025-04-20-modificaciones-servidor-3/:0:0","tags":["Hardware","unRAID"],"title":"Modificaciones en el servidor - 3","uri":"/2025-04-20-modificaciones-servidor-3/"},{"categories":["VPS"],"content":"Como bien explique en el anterior articulo, explicaba la instalaci√≥n y configuraci√≥n, nada facil, de mi servidor de matrix ahora os vengo a traer el siguiente articulo, donde explico el uso que le he dado y los problemeas que me he encontrado asi como los planes de futuro. Despu√©s de la instalaci√≥n de matrix ahora tenia que configurar los servicios para que pudiera utilizar este nuevo servicio que he instalado y aqui es donde me he encontrado algunos problemas, porque no todos los servicios que tengo actualmente incluyendo a unRaid no estan del todo preparados para su uso. Ya lo ireis viendo si seguiis leyendo. El primer servicio que queria que utilizar matrix es flexget, y asi en vez de usar telegram usaria matrix. Segun la documentaci√≥n de flexget, este servicio estaba soportado, aunque tengo que decir, que la documentaci√≥n, siento usar estas palabras, es un poco penosa, no se como pueden poner esa informaci√≥n. Podrian explicar que tipo de mensajes soporta esta aplicaci√≥n, de que manera se tienen que enviar, etc‚Ä¶ cosas que te pueden servir de ayuda para tu despu√©s utilizarlo de la manera que quiereas. Pero lo unico que te indican es lo siguiente: notify: entries: via: - matrix: server: \"https://matrix.org\" token: senders token room_id: room identifier Nada m√°s. Eso si, te explican que es cada cosa (server, token y room_id), pero ya esta. Lo siento, pero para mi esto no es una documentaci√≥n, m√°s bien son los apuntes de alguien. Siento decir que esto solo es el principio, porque cuando me puse a hacer las pruebas, no habia manera de hacerlo funcionar con la instalaci√≥n de Conduit que yo tenia. No funcionaba ni para atras. Cambiando script, haciendo pruebas con todo lo que me encontrada por internet, haciendo preguntas a Copilot, que teoricamente tiene acceso a todo lo de GitHub y flexget esta hay. Cambiando de Conduit a Synapse, pero ni con esas habia manera de enviar un simple mensaje a mi servidor de matrix. La unica respuesta que obtenia de flexget era lo siguiente: root@08aa614bcf06:/config# Error while sending notification to `matrix`: 404 Client Error: Not Found for url: https://matrix.myServer.org/_matrix/client/r0/rooms/roomID/send/m.room.message?access_token=TOKEN Al final despu√©s de muchas preguntas al Slack de flexget, consegui que me respondieran, y lo que me dijeron de que el problema, por el mensaje que me estaba dando flexget, era de que este estaba utilizando la antigua versi√≥n del envio de mensajes r0, en vez de la m√°s actual que ya implemtan todos los servidores de matrix asi como todos los clientes üò±. Es una cosa que pude comprobar yo mismo, porque encontre el archivo que utiliza flexget para manejar las notificaciones, y se podia ver claramente como los envios se hacen mediante una versi√≥n anterior a la que se usa actualmente en matrix. Pues empezamos bien. La primera en la frente. Tambien queria usar matrix para que mi servidor de unRaid me enviara todas las notificaciones, y aqui va la segunda en la frente, unRaid no esta preparado, de momento, para hacer uso de matrix. Que bien empezamos. Con lo que habia sufrido para instalar matrix y voy y me encuentro que las 2 primeras cosas que quiero usar matrix no estan soportadas. Asi, que iba hacer ahora. Desinstalar matrix y volver a telegram. Nota Como decia Geoge S. Patton Nunca est√°s vencido hasta que lo admites. Asi que me puse a investigar por la opci√≥n m√°s importante y necesaria, hacer que unRaid pudiera enviar las notificaciones a matrix. Despu√©s de mucho investigar, encontre esta pregunta en el foro de unRaid, que al principio no acababa de entender, pero me explicaron, que hay un servicio en docker, que se llama PushBits que hace de puente entre matrix y cualquier otro servicio, porque simula que estas enviando los mensajes a un servidor de Gotify y actualmente hay muchos m√°s que pueden enviar notificaciones a Gotify que a matrix, y uno de estos es unRaid que a parte poder enviar las notificaciones a un servidor Gotify tambien permite el envio de notif","date":"28-03-2025","objectID":"/2025-03-27-pushbits/:0:0","tags":["VPS","Docker","Matrix"],"title":"Matrix - 2. PushBits, la pasarela que faltaba","uri":"/2025-03-27-pushbits/"},{"categories":["VPS"],"content":"A partir de unos articulos de Lorenzo y de uGeek (podeis encontrar m√°s informaci√≥n en la referencia), me pico la sobre como seria tener mi propio servidor de mensajeria y poderlo utilizar para enviar las notificaciones de mis servicios y asi no depender tanto de Telegram. De hay viene este nuevo articulo, donde explicare todo el proceso de instalaci√≥n y uso de mi nuevo servidor Matrix en mi VPS y os aviso que no ha sido nada sencillo. Nota Pero antes, tengo que tirarle un poco de las orejas a Lorenzo, porque la informaci√≥n que tiene puesto en su pagina web o en su repositorio de GitHub es muy floja con respecto a la instalaci√≥n y configuraci√≥n de todo lo que se necesita para su correcto uso, y eso me ha lastrado mucho a la hora de realizar toda la instalaci√≥n y configuraci√≥n. Porque cuando tienes algo por donde empezar, todo se hace m√°s facil y no como esta vez que ha sido como tirarte a la piscina sin saber nadar y sin flotador. Que si, he aprendido mucho, pero no es lo m√°s recomendable. Que conste que no es ninguna recriminaci√≥n hacia Lorenzo, porque seguro que tendra algun motivo para no haberlo subido a su repositorio, pero es que ha sido como un dolor de muelas todo el proceso. üò≠ Despu√©s del tiron de orejas, viene lo bueno, la explicaci√≥n de todo lo necesario para tener un servidor de Matrix en marcha y a pleno rendimiento, aunque aun le faltan algunas cosas que explicare en proximos articulos. Lo primero es decidir que servidor de Matrix utilizar. Como he dicho, uGeek y Lorenzo 2 muy diferentes entre ellos, te recomiendo que leas los articulos que hablan de ello porque son muy interesantes, y estos servidores son: uGeek: Synapse Lorenzo: Conduit En principio, el que recomienda Matrix es que se use Synapse, pero es un poco pesado de usar para las cosas, que en mi caso quiero hacer, que son basicamente: Un solo usuario üòÅ Solo enviara notificaciones de los servicios que tengo activos tanto en mi servidor domestico como de mi VPS. El volumen de notificaciones que tendra que enviar es muy bajo. En este caso, para este tipo de uso, segun lo que he podido leer, y atareao pone mucho enfasis en este punto, el mejor es conduit por los pocos recursos que necesita asi como los que consume. Asi que en primera instancia me fui a por la instalaci√≥n de Conduit como servidor de Matrix y como he dicho, Lorenzo no lo ha puesto nada facil, porque no habia subido a su repositorio, como siempre hace, el docker-compose para la instalaci√≥n, y ha sido una tarea ardua y nada sencilla. Eso si, lo cortes no quita lo valiente, y tengo que decir que Lorenzo si que puso el docker-compose en este articulo, para instalar el servidor de Matrix y el cliente Cinny, pero no de la manera que nos tiene acostumbrados. Consejo Opini√≥n Persona: Con respecto a los articulos y m√°s concretamente los videos de Lorenzo, antes si explicaba todo el proceso de instalaci√≥n, en plan rapido y explicaba un poco por encima lo que hace cada cosa, pero ya era algo por donde empezar, ahora en los nuevos videos esto no lo hace y se hace un poco m√°s dificil ver y entender todo el conjunto. Que si, de esta manera aprendes m√°s, pero el inicio es m√°s cuesta arriba. Pues como iba diciendo, tenia un docker-compose.yml por el que empezar a trastear y en mi caso quedo de la siguiente manera: cinny: image: ajbura/cinny:latest init: true container_name: matrixCinny networks: - internal volumes: # Es el GitHub de Cinny podeu trobar un config.json per comen√ßar - ${HOME}/config/matrix/cinny/config.json:/app/config.json labels: - traefik.enable=true - traefik.http.services.cinny.loadbalancer.server.port=80 - traefik.http.routers.cinny-secure.entrypoints=websecure - traefik.http.routers.cinny-secure.rule=Host(`${CINNY_SERVER}`) - traefik.http.routers.cinny-secure.tls=true # En aquest cas, vaig trobar a falta informaci√≥ respecte al que fa exactament aquests 2 middlewares. # M√©s o menys ara tinc que clar fan, pero... - traefik.http.routers.cinny-secure.middlewares=traefik-real-ip@file,http2https","date":"25-03-2025","objectID":"/2025-03-25-instal-config-matrix/:0:0","tags":["VPS","Docker","Matrix"],"title":"Matrix - 1. Instalaci√≥n y configuraci√≥n","uri":"/2025-03-25-instal-config-matrix/"},{"categories":["Debian GNU/Linux"],"content":"Este es un articulo, que como puedes ver, es un articulo muy parecido a los que he ha escrito Lorenzo, de Atareao, porque es algo, que si te pones a pensar es una de las aplicaciones que m√°s se utilizan en GNU/Linux pero a la que no se le da mucha importacia. Nos estamos refiriendo a la terminal. Esa aplicaci√≥n, en mi caso, no era una cosa a la que le diera mucha importancia. Siempre usaba la que venia por defecto en el Desktop que instalaba en ese momento, konsole en el caso de KDE, xfce4-terminal en el caso de XFCE, o sino en el caso de usar los Windows Tiling Manager que el mejor ejemplo, se podria decir que es i3-WM, tambien usaba xfce4-terminal. Pero al usar los que venian por defecto, siempre, en mi caso, me encontraba un poco limitado porque si quieres trabajar con diferentes paneles o escritorios, tienes que usar diferentes pesta√±as y tienes que ir saltando de pesta√±a en pesta√±a y eso era un poco rollo. Pero todo cambio, a partir de un video del PeladoNerd donde explicaba el uso de TMUX. Un famoso multiplexor donde podias tener varios terminales en la misma ventana. Esto era una mejora en mi manera de trabajar con respecto a lo que tenia antes. Pero aun habia un peque√±o problema que seguia existiendo, que aunque habia logrado una mejora muy sustancial con respecto a lo que tenia antes, tenia que seguir utilizando 2 aplicaciones: La terminal que habia instalado. Tmux para disponer de estas mejoras. Aqui os pongo la configuraci√≥n del fichero tmux.conf que estaba usando en ese momento. Nunca se sabe si os puede ser de utilidad: ### Configuraci√≥ per defecte set -g assume-paste-time 0 # Iniciem les pestanyes de TMUX per 1 en comptes de 0 set -g base-index 1 setw -g main-pane-width 126 #setw -g aggressive-resize off set -g status on set -g history-limit 10000 #set -g pane-border-format \"#P: #{pane_current_command}\" set -g mouse on ### Canviem la keybind per defecte unbind C-b set -g prefix C-a bind C-a send-prefix # custom bindings bind-key H resize-pane -L 5 bind-key L resize-pane -R 5 bind-key j select-pane -t :.- bind-key x swap-pane -t :.0 \\; select-pane -t :.0 bind-key k kill-pane \\; select-layout main-vertical bind-key v split-window -v \\; select-layout main-vertical \\; swap-pane -t :.0 \\; select-pane -t :.0 # EXECUTEM SCRIPT bind-key r run-shell \"~/.tmux/scripts/resize-adaptable.sh -l main-vertical -p 60\" ### Configuracio de diferents accions programades # Es recarrega la configuraci√≥ de tmux bind-key R source-file ~/.tmux.conf \\; display-message \"Config reloaded\" # Es pasa a opcio \"paste-buffer\" #bind-key p paste-buffer # Es pasa a opci√≥ \"copy-mode\" #bind-key c copy-mode ### Configuraci√≥ del Status Bar set-window-option -g window-status-format \"\" set-window-option -g window-status-current-format \"\" ### Configuraci√≥ del color del Status Bar set-option -g status-bg colour235 #base02 set-option -g status-fg yellow #yellow ### Es visualitzar la adre√ßa IP set -g status-left-length 178 # Configuraci√≥ per a la visualitzaci√≥ de la adre√ßa IP DEFAULT_GW=\"$(ip route | grep 'default' | awk '{print $3}')\" set -g status-left \"#[fg=green][#P] #[fg=yellow]#(ip address | grep 'enp3s0' | grep 'inet ' | awk '{print \\\"inet \\\"$2}')#[fg=red]#(ip address | grep 'wlp8s0' | grep 'inet ' | awk '{print \\\"inet \\\"$2}') #[fg=white]208.67.222.222 (#(ping -c1 208.67.222.222 | grep time | cut -f4 -d'=')) #[fg=white]#(ip route | grep 'default' | awk '{print \\\"gateway \\\"$3}') (#(ping -c1 $DEFAULT_GW | grep time | cut -f4 -d'='))\" set -g status-right-length 60 set -g status-right \"#[fg=yellow]%d %b %Y #[fg=green]%H:%M\" Si os fijais, hay un script (que os pongo a continuaci√≥n) que lo que hacia es redimensionar el tama√±o del panel al de la pantalla, porque no habia forma de que esto se hiciera automaticamente: lflag= pflag= tflag= while getopts l:p:t: name; do case $name in l) lflag=1 layout_name=$OPTARG;; p) pflag=1 percentage=\"$OPTARG\";; t) tflag=1 target=\"$OPTARG\";; ?) printf \"Usage: %s: [-l layout-name] [-p percentage] [-t target-window]\\n\" $0 exit 2","date":"13-01-2025","objectID":"/2025-01-13-cambiando-a-wezterm/:0:0","tags":["Debian GNU/Linux"],"title":"Historia del cambio de terminal","uri":"/2025-01-13-cambiando-a-wezterm/"},{"categories":["Blog"],"content":"Como a buen principio de a√±o y que me gustaria conversar en los siguientes a√±os, es poner un listado de las cosas que me gustaria conseguir este a√±o con referencia a mi servidor, docker, etc‚Ä¶ O sea, todo lo que tiene que ver con el mundo de la tecnologia y la informatica. La lista que me gustaria poder conseguir a finales de este a√±o, seria la siguiente: Conseguir de alguna manera poder escuchar los podcast en mi portatil sin tener que utilizar aplicaciones tan desactualizadas como gPodder. Porque he estado buscando otras aplicaciones que tenian buena pinta, pero o que no tienen paquete para Debian GNU/Linux o imagen AppImage. Se que esta la posibilidad de usar snap, pero tener que instalar aplicaciones externas para usar un paquete, que teoricamente lo tiene todo pues no es muy logico. Mejorar, siempre que sea posible, mi servidor unRaid. No se como lo podria mejorar m√°s, porque tal como esta ahora mismo lo veo perfecto, pero hay algunas cosas, sobretodo con la caja, para m√°s informaci√≥n podeis leer este articulo porque la sujecci√≥n al tiny, no me parece muy fiable. Tambien, he pensado en poner m√°s HDD pero para eso, necesitaria a√±adir una fuente externa para poderlos alimentar estos HDD. Rezar üòâ para que el portatil no reviente, aunque no es un tema que me preocupe mucho, porque tengo en la reserva un tiny. Mejorar mi VPS en todo lo que se pueda y sacarle m√°s partido. Aunque ya esta bien tal como esta, pero siempre se puede exprimir todo un poco m√°s. Tengo en mente, que es una cosa que siempre me ha rondado por la cabeza, es comprar mi propio dominio personal y por ende, tener mi propia pagina web en el VPS. Aunque luego digo que no es necesario, porque tal como lo tengo ahora gitHub, tengo m√°s que suficiente para todo lo que yo hago. Pero ahi estamos, con esa idea siempre rondando por la cabeza. Como habreis visto es este otro articulo, ahora mismo, la tengo ubicada como un proyecto m√°s de gitHub, anteriormente la habia tenido en gitLab. Pero lo he abandonado porque el funcionamiento que tiene no me gusta mucho y despu√©s de descubrir este nuevo sitio Codeberg, estoy pensando es esta nueva web, ubicarla aqui, porque asi aprendemos cosas nuevas. Aqui tenemos la lista que en principio son los puntos fuertes que me gustaria ver cumplido, pero nunca se sabe, porque estas listas son variables y donde digo que me gustaria hacer una cosa, luego no se cumple pero se a√±ade un nuevo tema que me inspara m√°s o ideas que voy viendo escuchando o leyendo los articulos de los podcasters que sigo actualmente: Atareao Carlos M. uGeek A parte de que este mundo de la tecnologia y la informatica, es como una caja de bombones, nunca sabes lo que te va a tocar. Sobretodo, a ver cuantas de estos puntos de esta lista, se ven cumplidas a finales de este nuevo a√±o ü§û. Referencia Codeberg Atareao Carlos M. uGeek ","date":"11-01-2025","objectID":"/2025-01-11-propositos-2025/:0:0","tags":["Blog"],"title":"Propositos 2025","uri":"/2025-01-11-propositos-2025/"},{"categories":["unRAID"],"content":"Como primer articulo de este nuevo a√±o, os pongo el articulo final que me faltaba sobre mi opini√≥n personal - final con respecto a unRaid, pero he estado un poco liado y por eso me he retrasado un poco, pero ahora vamos al articulo final con respecto a lo que yo pienso. Recordad, que veniamos de estos 2 articulos sobre unRaid: Opini√≥n Personal sobre unRaid - 1 Opini√≥n Personal sobre unRaid - 2 Donde hablaba de lo bueno y de lo malo que yo le he encontrado y si no me han matado los fanboys de unRaid, voy a dar mi opini√≥n final sobre √©l. Lo unico bueno que yo le veo es toda la gesti√≥n de los HDD que hace el sistema operativo. En pocas palabras, MergeFS que creo que es la manera que usa unRaid para la gesti√≥n de los HDD es una maravilla. Tambien esta toda la gesti√≥n y toda la informaci√≥n que puedes extraer del sistema ( hardware, HDD, network, temperatura, etc‚Ä¶ ) pero ya esta. Y claro, en mi caso, me gustaria obtener, no se m√°s cosas de este sistema que te lo venden como el m√†s mejor de todos los Sistemas Operativos para tener tu propio NAS en casa. Informaci√≥n Pero os digo una cosa, si yo puediera replicar esta funcionalidad en cualquier servidor que yo pudiera tener, dejaria de lado unRaid y lo haria, pero entiendo que configurar correctamente MergeFS, no debe ser tan facil como parece. Repito, que es lo unico positivo que le veo a todo el sistema. A parte, de que en algunos momentos, todo el sistema me decepciona un poco, que puede ser porque me falte investigar m√°s todas las funcionalidades / plugins que hay disponibles para instalar, pero eso tambien es un problema que yo le veo. Hay tantas cosas, tantos plugins, tanto de todo que puedes perderte en este mundo y salir de el sintiendo que has perdido el tiempo. Porque si, hay muchas cosas que te pueden facilitar la vida, pero que tienes que conocerlas y no hay ningun sitio donde explique todas las posibilidades. Muchos me direis que esta la pagina de plugins de unRaid pero de tantas cosas que hay, te pierdes. Es lo mismo que se dice de Debian GNU/Linux. Que es una de las distribuciones con mayor numero de paquetes. Que por un lado es beneficioso, pero por otro lado de tanto que hay te puedes perder en tantos paquetes y no puedes sacar todo el potencial que da. Pues opino lo mismo de unRaid, tiene tantas cosas que, de tantas que tienes no puedes aprovecharlas. Otra cosa, que no me parece que sea correcto, es que usen el SO Slackware como base para unRaid. Habiendo de mejores, es mi opini√≥n personal, no entiendo, porque usan este, me lo tendrian que explicar. Seguramente tendran algun motivo, pero no se me ocurre cual podria ser. Y aqui si que no voy a meterme de que si Debian, Ubuntu, Gento, Arch, etc, pero algun motivo tiene que haber para esta elecci√≥n. Para finalizar y que es lo que me parece la peor manera de trabajar que se puede usar, es que todo el SO este instalado en un USB. Que alguien me explique el motivo de esto. Seguramente me diran de que el SO no esta instalado realmente en el USB, sino que cuando se inicia el sistema, se carga el SO del USB a la memoria ram del servidor para asi ganar en velocidad. Ni las Raspberrys funcionan ya de esta manera. Al principio, y eso que tengo todos los modelos a excepci√≥n de la RPI5, si que funcionaban de esta manera, pero habia un monton de problemas porque no estaban pensadas para ese funcionamiento y la gente se las ingenio para dejar unicamente en la SD el sistema de inicio (que no eran m√°s que 3 ficheros) y el resto en el HDD y con eso se ganaba seguridad de que no estropeabas la SD a menos que estuvieras reiniciando el sistema cada 2 x 3. Ahora me vienen los de unRaid y me venden la moto de que este es el mejor sistema de funcionamiento. Como que los USB no se diferencian mucho de las tarjetas SD. Vale no rebentaran cuando hayas echo 1.000 escrituras, sino que rebentaran cuando hayas echo 10.000 y entonces todo a tomar viento. Tanto cuesta, y m√°s ahora que una disco SSD o un nvme estan tirados de precio. Puedes tener 300 H","date":"03-01-2025","objectID":"/2024-07-17-opini%C3%B3n-unraid-final/:0:0","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid - Final","uri":"/2024-07-17-opini%C3%B3n-unraid-final/"},{"categories":["Blog"],"content":"Que no cunda el panico ante el titulo de este articulo. No voy a hacer ningun cambio en este web ni voy a borrarlo todo e irme de hermita√±o a una cueva ü§£ Solamente es para informar, que como tenia wordpress una pagina web donde iba subiendo los libros que he ido leyendo durante estos a√±os, pues ‚Ä¶ De la misma manera que me paso antes, cuando di el salto a GitHub para tener un poco m√°s de control sobre la web, m√°s que wordpress seguro que lo tengo, pues he hecho lo mismo pero esta vez en GitLab. A parte de toda la creaci√≥n de los articulos, donde sigo usando Jekyll para la generaci√≥n del sitio estatico, tambien me ha servido para aprender como es el funcionamiento de GitLab. Eso si, tengo que decir que es muy diferente a GitHub en todo, o en casi todo. Lo veo todo m√°s lioso y m√°s confuso, me resulto m√°s facil GitHub, pero eso si tengo que decir que los articulos de Carlos M. me sirvieron de punta de lanza para resolver todas las dudas que me iban surgiendo con respecto a funcionamiento y creaci√≥n de un sitio en GitLab. De nuevo gracias Lazaro por tus articulos. Tambien, tengo que decir que me apoye en Copilot (y tengo que decir que me ayudo m√°s que ChatGPT), para crear un script que me facilitara el proceso de subir los archivos a mi repositorio, porque siempre lo he encontrado tedioso y complicado. El script que estoy usando actualmente para subir los archivos resultantes de mi sitio a GitLab: #!/bin/bash # Up2GitLab 0.2 # Actualitzar facil i rapidament el teu repositori de GitLab # (CC) 2024 Victor Santos # https://vctrsnts.github.io # Bajo licencia GNU/GPL # Mode de fer servir: executal de la seg√ºent manera: # sh up2GitLab.sh # Actualitzacio del public key amb GitLab perque sempre tenia problemes amb la key eval \"$(ssh-agent -s)\" ssh-add /root/.ssh/idKeyGitLab # Validaci√≥ de que estem 'conectats' a gitlab ssh -T git@gitlab.com sleep 10 # A traves de Docker, actualitzem el fitxer RSS # docker exec jekyll_book bundle exec jekyll build # cp ../Gemfile . docker exec jekyll_book bundle exec jekyll build sleep 10 cp ../Gemfile . # Solicita el mensaje del commit read -p \"Introduce el mensaje del commit: \" commit_message rm -rf .fuse* # Aseg√∫rate de estar en el directorio del repositorio repo_dir=\"directori on esta el _site de jekyll\" cd \"$repo_dir\" || { echo \"Directorio del repositorio no encontrado\"; exit 1; } # Establecer el repositorio remoto (opcional, si no est√° ya configurado) remote_repo=\"el teu repositori de GitLab\" git remote add origin \"$remote_repo\" 2\u003e/dev/null # Configurar la reconciliaci√≥n de ramas divergentes git config --global pull.rebase false # A√±ade todos los cambios al √≠ndice if ! git add .; then echo \"Error al a√±adir cambios\" exit 1 fi # Realiza el commit amb el seg√ºent missatge if ! git commit -m \"$commit_message\"; then echo \"Error al realitzar el commit. Verifica que hi hagi canvis per pujar.\" exit 1 fi # Realiza el push a la rama master if ! git push origin main --force; then echo \"Error al realitzar el push a la rama master\" exit 1 fi # Registre dactivitats log_file=\"$repo_dir/push_log.txt\" echo \"$(date): Commit realitzat amb el missatge '$commit_message' i push a la rama master\" \u003e\u003e \"$log_file\" echo \"Canvis pujats amb exit a la rama master.\" Algunos os chocara el porque a√±ado la key momentos antes de hacer el push, esto lo hago, porque como tengo a parte del repositorio de GitLab tambien tengo el repositorio de GitHub y a veces el sistema se volvia loco, no he encontrado explicaci√≥n a esto, prefiero hacerlo de esta manera y asi me evito problemas y mezclo los ficheros entre los diferentes sitios. No tendria que pasar, pero nunca se sabe. Los caminos del se√±or son inescrutables üòá. Asi mismo, tambien tengo un sleep 10 porque de esa manera evito que a la hora de actualitzar mi repositorio me suba un ficher .fuse* a GitLab, pero no funciona del todo bien. Esto es debido, a que antes de actualizar el repositorio, ejecuto docker exec jekyll_book bundle exec jekyll build para regenerar los siguientes ficheros: feed","date":"23-12-2024","objectID":"/2024-12-23-nueva-web/:0:0","tags":["Blog"],"title":"Nuevo sitio web","uri":"/2024-12-23-nueva-web/"},{"categories":["Debian GNU/Linux"],"content":"Siguiendo la iniciativa de Carlos M., pues tambien pondre mi granito de arena a esta buena idea, porque asi, la gente puede descubrir nuevas aplicaciones que nunca habrias pensado que existieran, y de esta manera, pues‚Ä¶ Es lo que me pasa a mi, que gracias a estos listados, descubro nuevas cosas que me son utiles y que por mi cuenta, nunca habria pensado en ello. Pero en mi caso, si que se puede decir que son las aplicaciones del 2024, porque un poco m√°s y escribo este articulo en el 2025 üòÅ Pues aqui esta mi lista: üìÆ Servidor de correo: Riseup y GMail üì® Cliente de correo: Claws Mail (en escritorio) y K9-Mail (Pixel) üì∏ Camara de fotos: Camara del Pixel üñºÔ∏è Gestor de fotos: Immich (autoalojado) y que descubri hace poco gracias a Carlos M. üóÉÔ∏è Copias de seguridad: Backrest y restic (autoalojado) y que descubri gracias a Carlos M. üîé Navegador: Librewolf üí¨ Chat: Telegram y WhatsApp üìù Editor de texto: Geany üéûÔ∏è Ver despu√©s: MPlayer o Libreelec (HTC) ‚òÅÔ∏è Almacenamiento en la nube: el espacio que me da mi servidor (unRaid) üéß Musica: Navidrome (autoalojado), Sonixd (en escritorio) y Tempo (Pixel) üìª Podcast: AnntenaPod üîê Gestor de contrase√±as: Bitwarden üìì Gesti√≥n del blog: Geany (Jekyll) Pues este es mi primer articulo de este estilo. A ver si el a√±o que viene tambien le doy continuaci√≥n a este tipo de articulos, que considero que son buenos, porque gracias a ellos, la gente puede descubrir nuevas aplicaciones. Referencia Mis aplicaciones por defecto 2024 Mis aplicaciones por defecto en 2023 Marcos de fotos digitales con Immich Kiosk Backrest, una interfaz Web para Restic Backup ","date":"11-12-2024","objectID":"/2024-12-11-mis-aplicaciones-2024/:0:0","tags":["Debian GNU/Linux"],"title":"Mis aplicaciones por defecto 2024","uri":"/2024-12-11-mis-aplicaciones-2024/"},{"categories":["Python"],"content":"Este nuevo articulo, se puede decir que es la fusi√≥n de este articulo y este otro donde explicaba como dar publicidad o informar en las diferentes redes sociales que estoy, Mastodon, Tumblr y ahora BlueSky de los articulos nuevos que voy a√±adiendo asi como de los antiguos, porque nunca se sabe si algun articulo anterior puede servir de ayuda a alguna persona. Pero despu√©s del anuncio que hizo @Yoyo308 de que se habia apuntado en la nueva red social llamada BlueSky que quiere llegar a ser como la antigua Twitter o la nueva X. Eso si, espero que no se convierta en lo mismo que es ahora X. Lo hice, solamente para reservar mi nombre de usuario. Eso si, tambien os digo, que la unica que uso actualmente es Mastodon. Esto lo digo con conocimiento de causa, porque hace un mes intente volver a X y solo dure una semana, todo era üí©. Para que os hagais una idea, una porqueriza esta m√°s limpio que X. Por el mismo motivo tambien me di de alta en tumblr, prefiero tener el nombre que yo quiero y asi luego no arrepentirme. Ya me paso con X y no quiero que me pase lo mismo. Despues de haberos pegado la chapa con esta explicaci√≥n, vayamos a por lo importante, porque tengo la sensaci√≥n de que este articulo sera un poco largo, el script que ahora mismo estoy utilizando para informar de antiguos articulos que tengo en mi web para su consulta, pero en este caso, para las 3 redes sociales y a la vez. Se puede decir que es la uni√≥n del script de mastodon que nos brindo Carlos M. pero ampliado, para que funcione tambien en BlueSky y Tumblr y con mis granitos de sal junto con el condimento de Copilot, que tengo que decir, que para aclarar dudas y dar ideas nuevas para programar va mejor que ChatGpt, me ha salido un script en Python muy majo. El script en cuesti√≥n es el siguiente: #!/usr/bin/env python # -*- coding: utf-8 -*- # # Aquest script, llegeix el FEED RSS del teu blog i publicat un article de forma aleatoria ( Mastodon, Tumblr, BlueSky ) # # Tens que tindra instalats els seg√ºents paquets de python: # - os # - feedparser # - random # - requests # - atproto # - mastodon # - pytumblr # - python-dotenv # # Modificat per: Victor Santos # Web: https://vctrsnts.github.io # import os import random import requests import feedparser from atproto import Client as BskyClient, models as BskyModels from mastodon import Mastodon import pytumblr from dotenv import load_dotenv def load_environment_variables(): # CARREGA LES VARIABLE D'ENTORN DES DE EL FITXER GENERAL load_dotenv() return { 'bsky_user': os.getenv('BSKY_USER', False), 'bsky_pass': os.getenv('BSKY_PASS', \"\"), 'mastodon_token': os.getenv('MASTODON_TOKEN'), 'mastodon_url': os.getenv('MASTODON_URL'), 'consumer_key': os.getenv('CONSUMER_KEY'), 'consumer_secret': os.getenv('CONSUMER_SECRET'), 'oauth_token': os.getenv('OAUTH_TOKEN'), 'oauth_secret': os.getenv('OAUTH_SECRET'), 'feed_url': os.getenv('FEED_URL'), 'image_url': os.getenv('IMAGE_URL'), 'blog_name': os.getenv('BLOG_NAME'), 'postBsky': os.getenv('POST_TO_BSKY', 'false').lower() == 'true', 'postMastodon': os.getenv('POST_TO_MASTODON', 'false').lower() == 'true', 'postTumblr': os.getenv('POST_TO_TUMBLR', 'false').lower() == 'true' } def fetch_feed_entries(feed_url): # LLEGEIX EL FEED I ENS RETORNAR ELS ITEMS DEL FEED feed = feedparser.parse(feed_url) return feed.entries, feed.feed.title def select_random_item(entries): # ES SELECCIONAR UN ARTICLE ALEATORI return random.choice(entries) def fetch_image_data(image_url): # OBTENIM DADES DE LA IMATGE DE LA URL response = requests.get(image_url) response.raise_for_status() return response.content def post_to_bluesky(user, password, feed_url, image_url): client = BskyClient() client.login(user, password) entries, feed_title = fetch_feed_entries(feed_url) item = select_random_item(entries) titulo = item.title uri = item.link img_data = fetch_image_data(image_url) thumb = client.upload_blob(img_data) embed = BskyModels.AppBskyEmbedExternal.Main( external=BskyModels.AppBskyEmbedExternal.External( title=feed_","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:0","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"main() Funci√≥n de inici√≥ y la que se encarga de: Cargar las variables del fichero general load_environment_variables() Verifica si postBsky, postMastodon, postTumblr es true, porque si es false, la funci√≥n de postear un mensaje en la red social correspondiente (Mastodon, Tumblr o BlueSky), no se ejecutaria. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:1","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"create_tumblr_post(client, blog_name, feed_url) Funci√≥n que se encarga de enviar un post a Tumblr, necesita: Client, la conexi√≥n con Tumblr. blog_name, nombre de tu blog en esta red social, esto es asi, porque puedes tener m√°s de uno. feed_url, archivo RSS de nuestra web. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:2","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"authenticate_tumblr(client_vars) Funci√≥n que por decirlo de alguna manera, se encarga de hacer la conexi√≥n con Tumblr. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:3","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"post_to_mastodon(token, url, feed_url) Funci√≥n que se encarga de postear los mensajes a Mastodon, necesita: token, validaci√≥n con Mastodon. url, instancia que utilizamos. feed_url, archivo RSS de nuestra web. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:4","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"fetch_random_article(feed_url) Funci√≥n que se encarga de seleccionar aleatoriamente un articulo para postear en las redes que tengo configuradas en este momento (Mastodon y Tumblr), no se usa para BlueSky porque esta funciona de una manera diferente. El fin es el mismo, pero üòÖ feed_url, archivo RSS de nuestra web. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:5","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"post_to_bluesky(user, password, feed_url, image_url) Funci√≥n que se encarga de posterar los mensajes a BlueSky, necesita: user, password, usuario y password de validaci√≥n. feed_url, archivo RSS de nuestra web. image_url, imagen que queremos que acompa√±e a nuestro post. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:6","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"fetch_image_data(image_url) Funci√≥n que se encarga de obtener la informaci√≥n de la imagen que quieres que acompa√±e al post de BlueSky. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:7","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"select_random_item(entries) Funci√≥n que se encarga de seleccionar aleatoriamente un articulo pero para BlueSky. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:8","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"fetch_feed_entries(feed_url) Funci√≥n que se encarga de cargar todos los items / articulos del fichero RSS. ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:9","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"load_environment_variables() Funci√≥n que se encarga de cargar todas las variables necesarias para el correcto funcionamiento del script, que en este caso son las siguientes: BSKY_USER, BSKY_PASS usuario y password para BlueSky MASTODON_TOKEN, MASTODON_URL token y direcci√≥n del servidor para Mastodon CONSUMER_KEY, CONSUMER_SECRET, OAUTH_TOKEN, OAUTH_SECRET, las validaciones de credenciales para Tumblr. FEED_URL, direcci√≥n del feed de nuestra pagina web. IMAGE_URL, direcci√≥n de la imagen que queremos que se visualize en BlueSky BLOG_NAME, nombre del blog que usamos en Tumblr. POST_TO_BSKY, POST_TO_MASTODON, POST_TO_TUMBLR, en que redes sociales queremos postear. Tiene que ser true para que se activen. Solo nos falta, antes de nada probarlo. Que en mi caso, fue en un entorno virtual de pruebas que tiene Python, no sabia que eso existia, y se hace de la siguiente manera: usuari@debian:~$ python -m venv .venv usuari@debian:~$ source .venv/bin/activate Ahora si que podemos hacer todas las pruebas que queramos si necesidad de estropear o ensuciar nuestro sistema, porque una vez que hemos acabado, se desactiva y todo queda igual de limpio que antes de empezar las pruebas. Eso si, para hacer funcionar el script, tenemos que tener instalados los siguientes paquetes o modulos de Python: usuari@debian:~$ pip3.9 install feedparser twython Mastodon.py PyTumblr python-dotenv atproto requests Por ultimo, ahora si, nos queda a√±adir este script en nuestro servidor, que en mi caso es unRaid para que cada noche se ejecute (vendito modulo user_scripts) y ya lo tendriamos todo listo y funcionando. Referencia Script de Python para publicar un Feed de forma aleatoria en Twitter y Mastodom ChatGpt Copilot ","date":"10-12-2024","objectID":"/2024-12-10-publicar-redes-sociales/:0:10","tags":["Python","unRAID"],"title":"Publicando nuevos articulos en RRSS","uri":"/2024-12-10-publicar-redes-sociales/"},{"categories":["Python"],"content":"Este articulo, podria decirse que es una continuaci√≥n de este articulo pero en este caso, es para Tumblr. La idea es la misma, pero para otra red social. Eso si, m√°s peque√±a y desconocida o al menos para mi. Nunca habia oido de ella, pero nunca se sabe y asi ya estoy en ella, aunque sea solamente para publicar los articulos que voy a√±adiendo a mi web / blog. Partimos de la base que antes de empezar tenemos que tener instalado: usuari@debian:~$ pip install --user pytumblr Tambien tenemos que tener feedparser que se usa para el tratamiento de los XML que si tienes este mismo script pero para Mastodon, seguramente ya lo tienes. Sino te tocara instalarlo. El siguiente paso, es dar de alta tu aplicaci√≥n en el API de Tumblr. Esto es un poco confuso, porque es dificil de encontrar, pero son los siguientes: Darse de alta Autentificar la aplicaci√≥ Tener en cuenta una cosa, primero os aconsejo que os creeis la cuenta en Tumblr y que luego accedais a estos links, sino os pedira usuario y password. En el momento de dar de alta la aplicaci√≥n se obtiene: Consumer_key Consumer_secret Luego, cuando se autentifica la aplicaci√≥n se obtiene: Oauth_token Oauth_token_secret Para poder publicar en esta red. Despu√©s solamente tienes que tener el script en Python para publicar. En este caso, pondre el que yo estoy utilizando ahora mismo, aunque estoy estudiando hacerle unos cambios para a√±adir m√°s informaci√≥n. Pero con esto ya teneis un principio. #!/usr/bin/env python # -*- coding: utf-8 -*- # script que lee el feed rss de un blog y publica un articulo de forma aleatoria en twitter y mastodon # Tienes que tener instaladas las librerias feedparser, Twython, Mastodon # Autor: Victor Santos y un poco de ChatGPT # https://vctrsnts.github.io # Llama a los modulos Python import feedparser import pytumblr import random import xml.etree.ElementTree as ET consumer_key = 'xxxxxxxxxxxxxxx' consumer_secret = 'xxxxxxxxxxxxxxx' oauth_token = 'xxxxxxxxxxxxxxx' oauth_secret = 'xxxxxxxxxxxxxxx' # Authenticate and create a client client = pytumblr.TumblrRestClient( consumer_key, consumer_secret, oauth_token, oauth_secret ) # Per extreure les categories del Feed def extract_categories_from_specific_entry(feed_url, entry_index=0): # Parse the feed using feedparser feed = feedparser.parse(feed_url) # If feed.entries is empty, we attempt to return categories from the first entry (index 0) if not feed.entries: return get_categories_from_entry(feed, 0) # Return categories from index 0, if possible # If the feed has entries, extract from the specified index if len(feed.entries) \u003e entry_index: entry = feed.entries[entry_index] # Extract categories (tags) from the entry and add '\"' around each category categories = [category.term for category in entry.get('tags', [])] return \",\".join(categories) else: print(f\"Error: Feed has less than {entry_index+1} entries, returning categories from index 0.\") return get_categories_from_entry(feed, 0) # Return categories from index 0 # Helper function to get categories from the first entry (index 0) def get_categories_from_entry(feed, index): if len(feed.entries) \u003e index: entry = feed.entries[index] # Extract categories (tags) from the entry and add '\"' around each category categories = [category.term for category in entry.get('tags', [])] return \",\".join(categories) return \"\" # Return empty string if no tags found # Seleccionamos el Feed feed = 'tu direcci√≥n web hacia el feed.xml' # Parseamos el Feed d = feedparser.parse(feed) # Extrae la longitud del Feed y aleatoreamente selecciona un articulo feedlen = len(d['entries']) num = random.randint(0, feedlen) # Inicializa la API de Twitter, escribe el nuevo estado y salimos d['entries'][0] es el √∫ltimo articulo publicado link = d['entries'][num]['link'] title = d['entries'][num]['title'] status_text = d['entries'][num]['summary_detail']['value'] description = (\"\u003cstrong\u003eRecordando articulos publicados:\u003c/strong\u003e\" + \"\u003cbr\u003e\" + status_text) tags = extract_categories_from_specific_entry(feed, num) # ","date":"12-11-2024","objectID":"/2024-11-12-publicar-feed-tumblr/:0:0","tags":["Python","unRAID"],"title":"Publicar feed en Tumblr","uri":"/2024-11-12-publicar-feed-tumblr/"},{"categories":["VPS"],"content":"Como he tenido malas experencias a la hora de usar servicios para mantener las imagenes actualizadas, he cambiado el servici√≥ que tenia actualmente whatsup por cup. En estos 3 articulos donde explico todo el proceso: Usando watchtower Cambiando watchtower por diun Donde digo dije, digo Diego Pero no me hacia mucha gracia, asi que cambie a Whatsup, pero me volvia un poco loco y buscaba algo m√°s facil y simple, que simplemente me informara de lo que hay, sin tantas complicaciones como me daba Whatsup. Hasta que encontre este articulo en el blog de lazaro donde daba una alternativa a Whatsup. Este nuevo servicio es cup, donde el funcionamiento es muy parecido a Whatsup pero m√°s simple. Asi que me lei el articulo y me resulto muy interesante asi que lo he instalado en mi servidor y me ha gustado mucho y lo he dejado instalado porque me parece muy interesante. Aunque tiene algunos errores, ten en cuenta, que este servicio esta en construcci√≥n, asi que a lo mejor cuando uses tu, el error que tengo yo (no puedo cambiar el tema de la web), puede que este ya solucionado, pero‚Ä¶ La instalaci√≥n es muy simple. Yo en mi caso lo he instalado a traves de docker-compose de la siguiente manera: cup: image: ghcr.io/sergi0g/cup:latest container_name: cup # Optional restart: unless-stopped networks: - internal command: -c /config/cup.json serve volumes: - /var/run/docker.sock:/var/run/docker.sock - ${HOME}/config/cup/cup.json:/config/cup.json labels: - traefik.enable=true - traefik.http.services.cup.loadbalancer.server.port=${PORT} - traefik.http.routers.cup.entrypoints=websecure - traefik.http.routers.cup-secure.middlewares=myauth@file - traefik.http.routers.cup.rule=Host(`${CUP_SERVER}`) Como podeis ver, en mi caso, uso traefik por eso tengo las respectivas etiquetas. Pero funciona de la misma manera sin estas etiquetas, pero si es asi, tienes que a√±adir el puerto que quieres usar: cup: ports: - 8000:8000 Con esto tendras una pagina web, a la que accederas desde el puerto que tu indiques y veras los servicions que estan disponibles junto con los que tienen disponible la actualizaci√≥n. A parte de tener este servicio, se que podria usar diun, volver a whatsup o watchtower, tambien me he echo un script en bash para actualizar los servicios m√°s facilmente, lo hago yo manualmente, pero me resulta m√°s comodo de esta manera, pero para simplificar las instrucciones necesarias. El script tiene lo siguiente: #!/bin/bash for param in \"$@\"; do docker compose pull $param \u0026\u0026 docker compose up -d $param \u0026\u0026 docker image prune done Se usa de la siguiente manera: usuari@debian:~$ sh update_docker.sh docker_1 docker_2 ... Con esto ya he finalizado este articulo rapido y facil. Que ha veces son los m√°s dificiles de hacer. Referencia Pasar par√°metros Bash script desde la Shell Comprueba las actualizaciones de tus im√°genes docker con cup ","date":"28-10-2024","objectID":"/2024-10-28-script-actualizar-docker/:0:0","tags":["VPS","Docker"],"title":"Servicio para actualizar imagenes docker","uri":"/2024-10-28-script-actualizar-docker/"},{"categories":["Blog"],"content":"Este va a ser un articulo como muchos otros, donde la gente explica que podcast sigue o escucha, pero antes de eso, lo primero es felicitar a Jose de Frente al Cliente por el premio, merecidisimo, que le otrogaron en las JPOD 2024. Lo que me extra√±a es que no fuera a buscarlo. Sera por esa mala costumbre que tienen los camareros de trabajar los fines de semana üòú. Muchas felicidades Jose Ahora pasemos a lo que interesa, os pondre a continuaci√≥n los podcast que sigo y al genero a que pertenecen, tal como los tengo yo clasificados, en algunos podre una peque√±a rese√±a sobre lo que opinio. Informaci√≥n Es mi opini√≥n personal. Sino te gusta leer opiniones de la gente que van en contra de tus ideas, te recomiendo que dejes de leer. ","date":"21-10-2024","objectID":"/2024-10-21-podcast-escucho/:0:0","tags":["Blog","Podcast"],"title":"Los podcast que escucho","uri":"/2024-10-21-podcast-escucho/"},{"categories":["Blog"],"content":"Historia ","date":"21-10-2024","objectID":"/2024-10-21-podcast-escucho/:0:1","tags":["Blog","Podcast"],"title":"Los podcast que escucho","uri":"/2024-10-21-podcast-escucho/"},{"categories":["Blog"],"content":"- En Guardia - Catalunya Radio Maximo exponente del podcast sobre temas de la historia de Catalunya y del mundo. Puedes escuchar desde la Bullanga de Barcelona en 1835 hasta la historia de la piedra de Girona. Algo debe tener este programa que lleva 23 a√±os en antena. Tan mal no lo deben hacer, creo yo. No me canso de escuchar sus episodios y no os miento si digo, que algunos de los capitulos que han hecho, los he escuchado m√°s de una vez. Como dice ese famoso entrenador de futbol, no hace falta decir nada m√°s. - Memorias de un tambor Podcast de historia pero solamente de Espa√±a. No se como descubri este podcast, pero como habla de historia, pues a la saca. Eso si, tengo que matizar que algunos temas de los que trata estoy totalmente en contra de la opini√≥n que se da en el podcast. Es muy facil opinar o explicar la historia pero solo desde un punto de vista, y hasta aqui puedo leer. Porque como dice el refran, la historia la escriben los vencedores. Pero hay que tener un cosa en cuenta, lo valiente no quita lo bailado. Si te gusta la historia, con este podcast disfrutaras. ","date":"21-10-2024","objectID":"/2024-10-21-podcast-escucho/:0:2","tags":["Blog","Podcast"],"title":"Los podcast que escucho","uri":"/2024-10-21-podcast-escucho/"},{"categories":["Blog"],"content":"Informatica - Atareao con Linux Que se puede decir de este podcast. Tendrias que tenerlo en la primera posici√≥n de podcast si estas en el mundo de la informatica. No se le puede decir que es un genio, pero poco le falta. Pero si que se le puede llamar el MacGyver de la informatica. Dale una hoja de papel y un lapiz y es capaz de hacerte un docker para controlar las luces de tu arbol de navidad üéÑ. Se podrian decir m√°s cosas, pero seguramente seria repetir lo que todo el mundo ya ha dicho. Eso si, si hay que ponerle un pero, es que quiere hacer tantas cosas que a veces no llega a todas. - Desahogo Geek Un podcast hecho por una persona como tu o como yo pero con un gran amor por todo lo relacionado con tecnologia y la informatica. Es capaz de hablarte tanto de bitcoins como de servidores. Estuvo durante un tiempo desconectado del mundo del podcasting, supongo que tendria que hacer un reset de todo. Y ahora ha vuelto, pero con las ideas m√°s claras, eso es lo que entendi de su ultimo podcast, que todo seria m√°s natural y menos artificial üòÄ. Si tuviese que decir una cosa, seria que se te ha echado de menos durante todo este tiempo. - Podcast Linux Gran exponente del podcasting en Espanya y en especial de GNU/Linux que cualquier persona de este mundillo tendria que escuchar. Una lastima que nos dejara por cuestiones ajenas al podcasting, pero la vida es la vida y las prioridades cambian. Asi es la vida. Te aconsejo escuchar todos los podcast, porque aunque algunos tengan unos a√±os, aun siguen vigentes. Puedes descubrir entre sus podcast, desde su incursi√≥n al mundo de los Xeon chinos hasta de los portatiles reciclados. Es a el, al que tengo que darles las gracias por haberme echo descubrir los Thinkpads. - uGeek Un nuevo podcast que tendrian que estar en tu lista de los 10 magnificos. Muy buenas explicaciones de todo tipo de temas relacionados con la informatica. Me ha servido de inspiraci√≥n para muchos de mis proyectos que sin sus podcasts y su pagina web, no hubiera podido seguir. Actualmente esta un poco desaparecido, espero que no sea nada grave. uGeek, se te echa de menos. - Sayonara Tecno Un podcast que descubri escuchando a Atareao, cuanto le debo a nuestro querido Lorenzo, de 10 minutos como maximo, pero muy interesantes, porque habla de la tecnologia pero de una manera amena y que hace que sea muy interesante. Porque hay que reconocerlo, a veces la tecnologia y informatica pueden ser muy pesadas. - Salmorejo Geek - Sube Parriba Un podcast, la mejor definici√≥n de este podcast, es lo que dice el mismo sobre su podcast: El podcast que nunca deber√≠as haber escuchado. Cosas que me pasan por la cabeza sin ning√∫n tipo de intenci√≥n. Sube parriba y baja pabao. Un Podcast de @yoyo308. Increible y muy agradable podcast que hace Yoyo, nuestro famoso jornalero que puede darte una disertaci√≥n tanto de Ubuntu, GNU/Linux, Mac o de la mejor manera de sulfatar los olivos. Nunca se sabe con que te va a salir. Mi enhorabuena a esta estrella de los bits. Gracias por todo el trabajo que haces. ","date":"21-10-2024","objectID":"/2024-10-21-podcast-escucho/:0:3","tags":["Blog","Podcast"],"title":"Los podcast que escucho","uri":"/2024-10-21-podcast-escucho/"},{"categories":["Blog"],"content":"General - Charlando con‚Ä¶ Interesante podcast de nuestro querido PapaFriki donde hace interesantes entrevistas a todo tipo de personas. Desde abogados, funcionarios, enfermeras y todas las personas que a veces nunca pensariamos que tienes cosas interesantes que decir, pero que luego cuando las oyes, dices, pues mira esto no lo sabia y es muy interesante. Sigue asi PapaFriki. - Frente al cliente Que m√°s se puede decir de este podcast que no haya dicho en el inicio de este articulo. Merecido premio que ha conseguido nuestro camarero favorito y que nos ense√±a las entra√±as de lo que sucede en el otro lado de la barra de un bar o restaurante. A parte de que a veces, nos sorprende con temas que no esperarias escuchar en un podcast de este estilo, esto va por el podcast que hicistes con referencia a los robots y a la IA. Sigue asi, campeon y enhorabuena por el premio recibido üèÜ - Papafriki Podcast donde realmente se cumple lo que promete el creador, las batallitas del d√≠a a d√≠a de un Pap√° Friki con su familia y el mundo de la tecnologia que le rodea, que no es poco. Todos sus programas son interesantes de escuchar, pero tengo que darle un tiron de orejas con respecto a un capitulo, que siento ser pesado, pero no se puede hacer un podcast sobre ese tema, sin conocer o escuchar a la otra parte. A excepci√≥n de este tiron de orejas, podcast muy interesante y muy recomendable. - Espa√±a Criminal Podcast de tematica criminal que descubri escuchando Charlando con‚Ä¶ donde trata temas de crimenes, pero a nivel de juicio y explicando con palabras muy facilos todo los sucesos tal como se describieron en el juicio. Es un tema que esta muy de moda ultimamente, pero que Francisco lo hace muy ameno y facil. - Pa ti la perra gorda Interesante podcast por la tematica que tratan. Nuestros protagonistas que muestras sus diferentes puntos de vista sobre que o quien es mejor. Quien es mejor, el inspector gadget o Sailormon o entre Pamela Anderson y Gracita Morales üòÅ - Estas Online - Joanna Rubio Este podcast lo descubri escuchando a Pa ti la Perra y es como una radio-novela, tan famosas antiguamente, pero que en este caso, la creadora del mismo, le da una vuelta de tuerca al concepto, porque Joanna recrea la telenovela pero a traves de wasaps. Todavia no he podido echarle el guante al primer capitulo, pero es lo que pasa cuando tienes tantas cosas por escuchar, que el tiempo se te echa encima. Referencia","date":"21-10-2024","objectID":"/2024-10-21-podcast-escucho/:0:4","tags":["Blog","Podcast"],"title":"Los podcast que escucho","uri":"/2024-10-21-podcast-escucho/"},{"categories":["Hardware"],"content":"Como ya comente en el anterior articulo donde explicaba que habia puesto un Xeon en mi servidor y todo lo referente a la temperatura. Pero claro, eso me gustaria verlo reflejado en unRAID, porque hasta ahora, solamente habia podido visualizar la temperatura de la CPU, de la placa base era imposible cuando teoricamente los Tiny son equipos con componentes muy normales y comunes. Pues en este caso, de comunes lo tienen todo menos los sensores de control de la temperatura. Adem√°s unRAID no ayudaba mucho con ello. Seguramente muchos direis, y por que no instalas el plugin Dynamix System Temperature y problema solucionado. Ya lo tengo instalado y aun as√≠, lo unico que podia visualizar era la temperatura de la CPU: Configurando Temperatura Eso que teoricamente sensors funcionaba correctamente. Eso creia yo. Asi que despu√©s de instalar el Xeon me propuse visualizar todas las temperaturas posibles para asi controlar mejor el servidor, porque no es lo mismo tener un i5-6500T que un Xeon y lo primero de todo era saber que sensor se tenian que usar para poder visualizar la informaci√≥n de ellos. y resulto que me toco el peor de todos, el que es m√°s complicado de hacer funcionar. Ni m√°s ni menos que el nct6683. En todos los sitios que encontraba informaci√≥n, porque me resulto muy dificil, decian que no era nada facil hacerlo funcionar en GNU/Linux, pero yo segui buscando hasta que encontre la siguiente web, donde explicaban que se tenia que hacer para hacer funcionar los sensores del nct6683. Lo que habia que hacer es ejecutar lo siguiente: root@unRaid: modprobe coretemp root@unRaid: modprobe -r nct6683 root@unRaid: modprobe nct6683 force=1 Lo probe, y mira por donde que dio resultado. Podia ver todos los sensores disponibles en la placa, incluido la velocidad del ventilador. Configurando Temperatura Asi que me dije, pues mira, no ha sido tan dificil como parecia. Ingenuo de mi. UnRAID no hace nada para facilitar las cosas, sino todo lo contrario, las complica y cada vez, me estoy dando cuenta de ello. Lo que pasa es que si reinicias unRAID todo se pierde y ya no detecta nada. Asi que tenia que buscar una manera de que esta configuraci√≥n fuera permanente. Busque informaci√≥n sobre que hacer en estos casos en unRAID y un hilo decia, que si pones un fichero bash en /boot/config el sistema lo ejecuta cuando se inicia. Pero no pasaba asi y si queria que los sensores volvieran a funcionar, tenia que volver a ejecutar las 3 instrucciones de nuevo. En otro hilo, que si lo pones en /boot/custom/scripts tambien funcionaba, pero en mi caso, ninguno de los 2 casos era el correcto. No veia la manera de como solucionar la cosa, hasta que recorde, que tengo un script que se ejecuta cada vez que se inician los arrays, que me instala las aplicaciones necesarias para hacer publicaciones en Mastodon, y pense, porque no, si ejecuto el bash cada vez que se inicia el array, tendria que funcionar sin ningun problema. No tenia nada que perder, y lo probe. Y resulto perfecto. Ya podia visualizar correctamente la temperatura de la CPU, de la placa base y la velocidad del ventilador. Que m√°s se podia pedir. Pero eso si, tener que recurrir a scripts para hacer esto, me parece un poco üò° Asi se puede ver como queda actualmente: Configurando Temperatura Un pasito m√°s que he dado para tener mi servidor como a mi me gusta. Ahora estoy pensando en conseguir que pueda enviar mis copias de seguridad de mi movil al servidor. He oido que hay un docker que se llama Syncthing que hace algo parecido, pero tengo que estudiarlo m√°s. Vosotros que servicios de docker teneis y que penseis que son indispensables de tener en un servidor??? Referencia Resolve the issue of the ASRock Z370M-Pro4 motherboard not being able to obtain fan speed in Unraid El complemento de detecci√≥n de temperatura no puede detectar la velocidad del ventilador de la placa base, web en chino Script to enable SATA Controllers without kernel modification How can I get modules to load on reboot automatically? ","date":"20-10-2024","objectID":"/2024-10-20-controlado-temperatura-servidor/:0:0","tags":["Hardware","unRAID"],"title":"Controlando la temperatura del servidor","uri":"/2024-10-20-controlado-temperatura-servidor/"},{"categories":["Hardware"],"content":"Se ha venido una nueva modificaci√≥n en el servidor, y una m√°s, pero esta vez, ha sido m√°s a nivel de hardware que de software. Como sabreis, si no os habeis dado cuenta leyendo algunos de mis articulos, estoy subscrito al canal de telegram de HomeLabs.club, donde siempre tienen alguna nueva cosa para liarte la manta a la cabeza. Una de estas cosas, fue un sorteo que hicieron entre los miembros VIP del canal y como nunca tengo muchas esperanzas en este tipo de sorteos, pues me apunte. Nunca se sabe lo que puede pasar. Lo que paso fue increible, habian muchas cosas por sortear, televisores, Tiny‚Äôs, telefonos, hubs, etc‚Ä¶ Y yo junto con unos pocos fui uno de los agraciados con que me tocase un Tiny, en concreto un M710q y seguramente muchos direis, uff que poca cosa, pero si os digo lo que llevaba en sus extra√±as ya no direis lo mismo. Este M710q, llevaba un Intel¬Æ Xeon¬Æ E-2286M, con las siguientes caracteristicas (resumen): Cantidad de n√∫cleos: 8 Total de subprocesos: 16 Frecuencia turbo m√°xima: 5.00 GHz Frecuencia b√°sica del procesador: 2.40 GHz Cach√©: 16 MB Intel¬Æ Smart Cache Tama√±o de memoria m√°ximo (depende del tipo de memoria): 128 GB Un Xeon junto con 32Gb de RAM y una entrada de ethernet conectada a la WIFI (que no se que voy hacer con eso). Para que os hagais una idea, el Tiny lleva el maximo de lo que su socket puede llevar. No me lo podia creer cuando me dijeron que habia ganado esto y eso, como ya de dicho con anterioridad, soy esceptico en estos sorteos porque nunca me ha tocada nada, pero bueno, un dia es un dia. Despu√©s de la noticia, tenia que ponerme a pensar que iba hacer eso ese equipo. En principio no necesitaba ningun equipo m√°s porque voy servido. Asi que me vino a la cabeza, y si le pongo el Xeon al servidor. Seguramente os echareis las manos a la cabeza de que eso no es posible. No es la primera vez que lo hago, porque tengo en reserva otro Tiny con otro Xeon que sera mi futuro PC cuando el portatil que tengo ahora mismo muera, y por lo que veo, no tardara mucho, porque ultimamente me hace mucho el tonto. Asi que de vuelta al ruedo de los mods. Eso si, me volvi a ver este video donde explica detalladamente todos los pasos que se tienen que hacer para modificar la BIOS de un Tiny para que accepte un Xeon. El proceso es facil, pero hay que ir con cuidado, porque lo primero es leer la BIOS del Tiny, luego modificarla y luego volverla a poner en el Tiny. Ya os digo que tengo experiencia, pero es una cosa que me da mucho respeto, porque nunca se sabe lo que puede pasar ü§Ø. El proceso en si, dura como 30 minutos, pero que 30 minutos, siempre piensas que se va a estropear todo y que ya no volvera a funcionar. Pero todo funciono correctamente üòÅ y ya tenia en mi servidor el Xeon quedando con la siguiente configuraci√≥n: Intel Xeon e2286M 32Gb de RAM 4 HDD‚Äôs 1 de 18Tb 1 de 16Tb 1 de 12Tb 1 HDD de 1Tb Este lo uso para copias de seguridad En pocas palabras un servidor que nunca me voy a acabar. Lo unico que puede pasar es que revienten los HDD, pero el resto tengo para toda una vida. Todo estaba ya estaba listo para conectar y hacerlo funcionar. Y el resultado fue todo un exito, todo funcionando correctamente y sin ningun problema a excepci√≥n de la temperatura del Xeon y del ventilador que cuando se le da un poco de ca√±a se nota que esta hay presente. Como no puede ser de otra manera, HomeLabs lo habia previsto y tenia una especie de peque√±o manual, para hacer downgrade al Xeon y asi reducir tanto el rango de trabajo del mismo como la temperatura que con todo ello conlleva que se reduce el ruido del ventilador. Pero aun asi, todavia, cuando le pedias ca√±a al Xeon hacia acto de presencia, pues me aconsejaron que lo mejor en estos casos, es quitar el Turbo Bost de la CPU. Y eso que hice. Le desactive esa opci√≥n y ahora todo funciona con una mejor temperatura. Mucha gente me dira que para eso no tengas un Xeon pero hay que tener en cuenta que el sistema de refrigeraci√≥n no es el correcto, lleva el ventilador, de cobre para ","date":"19-10-2024","objectID":"/2024-10-19-modificando-servidor-2/:0:0","tags":["Hardware","unRAID"],"title":"Modificaciones en el servidor - 2","uri":"/2024-10-19-modificando-servidor-2/"},{"categories":["Hardware"],"content":"Durante estas vacaciones he modificado un poco el aspecto de mi servidor con la finalidad de que todo estuviera un poco m√°s ordenado y m√°s homogeneo, porque por una banda, tenia mi servidor por un lado y por otro, en un caddy metalico de discos comprado en Aliexpress, los HDD al que le habia puesto este ventilador para bajar la temperatura de los mismos. Esto viene como consecuencia de que durante buena parte del verano, habian estado a unos agradables, 45¬∫ - 50¬∫ y que yo sepa, estas temperaturas no son muy buenas para un HDD, aunque sean HDD‚Äôs para servidores, que ya de por si, tendrian que estar preparados para el calor, pero es una cosa que no queria comprobar. Asi que me puse con las modificaciones‚Ä¶ Y estas modificaciones, como no puede ser de otra manera, se las tengo que agradecer a @harebonse del canal de HomeLabs.Club por crear una caja o m√°s concretamente Lenovo ThinkCentre NAS/drive case y que a la vez, se le puede a√±adir hasta 6 HDD‚Äôs que no son pocos. De nuevo, gracias por todo el trabajo‚Ä¶ Y como una imagen vale m√°s que mil palabras, aqui pongo una imagen de como es el dise√±o de esta caja: Dise√±o TiNAS 1¬™ versi√≥n Antes de empezar con la modificaci√≥n real del servidor, necesitaba tener todos los materiales necesarios para hacer el cambio, que en este caso es: Ventiladors ARCTIV P14 Tornillo de cabeza avellanada 6-32 de 8mm. Esto los he puesto, para que los HDD tengan una mejor sujecci√≥n, aunque con unos de 6mm tambien funcionaban, pero prefiero un poco m√°s de seguridad üòÇ Cable USB con adaptador para ventilador. Y lo m√°s importante, la caja Una vez que tenia todo el material, me puse con el montaje de la misma. Lo que si que hay que tener en cuenta, es que como puede aceptar hasta 6 HDD‚Äôs, la caja esta dise√±ada para que puedas acoplar una fuente de alimentaci√≥n de 12v para los HDD. En mi caso, yo obtenia la alimentaci√≥n directamente de la placa del Tiny y como uso un transformador de 135w con lo que al usar solamente 4 HDD‚Äôs no es necesario a√±adir la fuente adicional. Tambien hay que tener en cuenta, que se le puede a√±adir una placa controladora p822 para los HDD‚Äôs, porque la caja tiene los agujeros especificos para dicha placa. Para finalizar, os pongo un par de fotos de como queda todo el montaje en mi servidor: Dise√±o TiNAS 1¬™ versi√≥n Aqui hay que tener en cuenta, que la posici√≥n de la tapa delantera esta al reves (equivocaci√≥n mia, pero que en mi caso es positiva), el ventilador tendria que estar m√°s arriba, para asi llevar el aire, a parte de a los HDD‚Äôs tambien a la controladora, pero como este no es mi caso, esta asi, para que el mayo flujo de aire vaya hacia los discos. Dise√±o TiNAS 1¬™ versi√≥n Como podeis ver, mis vacaciones han sido interesantes. Pocas modificaciones en mi servidor pero de gran calado. Referencia Ventilador Arctic P14 Slim ","date":"18-09-2024","objectID":"/2024-09-18-modificando-servidor-1/:0:0","tags":["Hardware","unRAID"],"title":"Modificaciones en el servidor - 1","uri":"/2024-09-18-modificando-servidor-1/"},{"categories":["VPS"],"content":"Tal como indique en este articulo, lo unico que me faltaba por a√±adir a traefik para tener mi VPS lo m√°s seguro posible era crowdsec y por fin, ya lo tengo instalado. Antes de lanzarte a la piscina directamente, te aconsejo que les eches un vistazo a este articulo de atareao donde habla de crowdsec y tambien a este video, que me ha servido como guia en todo el proceso. Si sigues leyendo este articulo, es que ya has revisado los articulos y el video que te he aconsejado antes, asi que ya podemos empezar. Para empezar, partimos de la configuraci√≥n inicial que tengo en traefik y que podeis ver en los diferentes articulos, podemos empezar con la instalaci√≥n de crowdsec. Lo primero y antes de nada, hice una peque√±a modificaci√≥n a la configuraci√≥n de traefik para asi tener mejor identificado el volumen que esta utilizando. Ahora mismo, el docker-compose donde tengo traefik lo tengo de la siguiente manera: traefik: volumes: - traefik_log:/var/log/traefik volumes: traefik_log: name: traefik_log De esta manera, tal como comento, tengo mejor identificado el volumen de traefik. Despu√©s de esto ya podemos pasar a la instalaci√≥n de crowdsec. Tengo que informar antes de empezar, que la instalaci√≥n se divide en varias fases y que hay que ir, con un poco de cuidado, porque sino‚Ä¶ La primera de ellas es la creaci√≥n de los directorios y archivos que nos haran falta para el correcto funcionamiento de crowdsec y bouncer-traefik. Lo primero es crear el directorio crowdsec. Yo lo tengo en el mismo directorio donde tengo la configuraci√≥n de traefik quedando de la siguiente manera: |-- config |---- traefik |---- crowdsec |------ acquis |-------- ssh.yaml |------ acquis.yml |------ mywhitelist.yml Donde tendremos: ","date":"26-07-2024","objectID":"/2024-07-26-usando-traefik-4/:0:0","tags":["VPS","Docker"],"title":"Usando Traefik - 4","uri":"/2024-07-26-usando-traefik-4/"},{"categories":["VPS"],"content":"acquis/ssh.yaml Que es el encargado de controlar las conexiones ssh a nuestro servidor y asi, hacemos que crowdsec tambien las controle (ya explicaremos como). filenames: - /logs/auth.log - /logs/syslog labels: type: syslog ","date":"26-07-2024","objectID":"/2024-07-26-usando-traefik-4/:0:1","tags":["VPS","Docker"],"title":"Usando Traefik - 4","uri":"/2024-07-26-usando-traefik-4/"},{"categories":["VPS"],"content":"acquis.yml Los ficheros log de traefik, tanto el access.log como el traefik.log. filenames: - /var/log/traefik/* labels: type: traefik Por ultimo ","date":"26-07-2024","objectID":"/2024-07-26-usando-traefik-4/:0:2","tags":["VPS","Docker"],"title":"Usando Traefik - 4","uri":"/2024-07-26-usando-traefik-4/"},{"categories":["VPS"],"content":"mywhitelist.yml name: crowdsecurity/whitelists description: \"Whitelist events from my ip addresses\" whitelist: reason: \"my ip ranges\" ip: - \"XXX.XXX.XXX.XXX\" Que es el fichero donde indicaremos a crowdsec las IP que son de confianza. Yo he puesto, la ip desde la que siempre me conecto al VPS para que asi no la tenga encuenta, aunque m√°s adelante haremos una prueba para ver el funcionamiento de crowdsec con respecto a esta IP. Nota Antes de nada, informar que en el fichero de docker-compose.yml donde tengo traefik tambien tengo la configuraci√≥n de crowdsec, porque me ha resultado m√°s facil, si lo haces con diferentes ficheros yml hay que tener un par de cosas en cuenta que ya os informare llegado el momento. Una vez que tenemos esto claro, empezamos a√±adiendo a nuestro fichero de docker-compose.yml lo necesario para crowdsec: # # CROWDSEC - SEGURETAT PER A TRAEFIK I EL SERVIDOR # crowdsec: image: crowdsecurity/crowdsec:v1.6.2 container_name: crowdsec restart: unless-stopped networks: - proxy init: true environment: GID: \"${GID-1000}\" COLLECTIONS: \"crowdsecurity/linux crowdsecurity/traefik crowdsecurity/sshd\" volumes: - ${HOME}/config/crowdsec/acquis.yml:/etc/crowdsec/acquis.yaml - ${HOME}/config/crowdsec/mywhitelists.yml:/etc/crowdsec/parsers/s02-enrich/mywhitelists.yaml - ${HOME}/config/crowdsec/acquis/:/etc/crowdsec/acquis.d/ - crowdsec-db:/var/lib/crowdsec/data/ - crowdsec-config:/etc/crowdsec/ - traefik_log:/var/log/traefik/:ro - /var/log/auth.log:/logs/auth.log:ro - /var/log/syslog.log:/logs/syslog.log:ro depends_on: - traefik En la configuraci√≥n hay que tener en cuenta un par de cosas: depedens_on: Aqui le indicamos a crowdsec que no puede iniciarse sino esta antes traefik en funcionamiento. Es como una medida de seguridad. COLLECTIONS: \"crowdsecurity/linux crowdsecurity/traefik crowdsecurity/sshd\" Yo lo entiendo, como las alertas o lo que tiene que tener en cuentra crowdsec para luego tomar las acciones necesarias. Hay muchas m√°s opciones que puedes ir a√±adiendo. Las puedes encontrar aqui. En mi caso he puesto: crowdsecurity/linux para los posibles bugs que pueda tener Linux crowdsecurity/traefik para los posibles bugs de traefik crowdsecurity/sshd para los posibles bugs de ssh networks tanto traefik, crowdsec y bounces-traefik, que lo explicare m√°s adelante, tienen que estar en la misma red para que se puedan comunicar entre ellos. Tambien tenemos que tener en cuenta los volumenes que vamos a usar en crowdsec, que en este caso son los que pongo a continuaci√≥n: volumes: crowdsec-db: name: crowdsec-db crowdsec-config: name: crowdsec-config traefik_log: name: traefik_log Nota Si os fijais, he puesto el mismo nombre de volumen para los logs que tengo en traefik a crowdsec porque comparten el mismo fichero de docker-compose.yml, pero aqui hay que tener una cosa en cuenta, en caso de que lo tengas en ficheros / stacks diferentes tienes que a√±adir, en el caso de los logs de crowdsec que afectan a traefik, la opci√≥n external: true porque indicas que los logs estan en otro docker-compose, si se puede decir asi, quedando de la siguiente manera: volumes: crowdsec-db: name: crowdsec-db crowdsec-config: name: crowdsec-config traefik_log: name: traefik_log external: true Una vez que tenemos esto, ya podemos activar la primera fase de crowdsec: usuari@debian:~$docker compose up -d crowdsec Despues de esto, podemos revisar los logs de crowdsec para ver si de momento vamos por buen camino y tambien podemos verificar si traefik aun esta vivo. usuari@debian:~$docker logs -f crowdsec Nota Si has llegado hasta aqui, el unico fallo que puedes tener es que los logs de traefik no esten accesibles a crowdsec, para eso fijate bien en como montas los volumenes. Otra pruebas que puedes hacer es acceder a crowdsec y ver si tienes acceso directo a los ficheros de la siguiente manera: usuari@debian:~$docker exec -it crowdsec sh crowdsec:~ cd /var/log/ Si llegado a este punto, no ves el directorio de traefik es que el error lo tienes en los volumenes.","date":"26-07-2024","objectID":"/2024-07-26-usando-traefik-4/:0:3","tags":["VPS","Docker"],"title":"Usando Traefik - 4","uri":"/2024-07-26-usando-traefik-4/"},{"categories":["VPS"],"content":"dynamic.yml Le indicamos a traefik que tiene bouncer-traefik en funcionamiento y que puede hacer las consultas mediante la direcci√≥n http://bouncer-traefik:8080/api/v1/forwardAuth. http: middlewares: crowdsec-bouncer: forwardauth: address: http://bouncer-traefik:8080/api/v1/forwardAuth trustForwardHeader: true ","date":"26-07-2024","objectID":"/2024-07-26-usando-traefik-4/:0:4","tags":["VPS","Docker"],"title":"Usando Traefik - 4","uri":"/2024-07-26-usando-traefik-4/"},{"categories":["VPS"],"content":"traefik.yml En el fichero traefik.yml le indicamos en que consultas tiene que usar crowdsec y esto se hace de la siguiente manera: api: dashboard: true entryPoints: web: address: \":80\" http: middlewares: - crowdsec-bouncer@file websecure: address: \":443\" http: middlewares: - crowdsec-bouncer@file Le estamos indicando que tanto en consultas http como en https haga las consultas a crowdsec. Cuando ya tenemos traefik configurado, solamente nos quedara recrear el contenedor de traefik: usuari@debian:~$docker compose up -d traefik --force-recreate Si volvemos a revisar los logs de traefik y todo sigue funcionando correctamente es que lo hemos conseguido. Otra prueba que podemos hacer es acceder a los servicios que tenemos en el servidor que si todo funciona bien, tendremos acceso, sino, la hemos cagado üí© Nota Ahora pasamos a ver el funcionamiento de crowdsec en vivo, esto lo podemos hacer de la siguiente, pero os informo, queda a vuestra libre elecci√≥n. Esta prueba, consiste en bloquear nuestra ip de acceso al servidor. Esto se hace de la siguiente manera: usuari@debian:~$docker exec crowdsec cscli decisions add --ip nuestra_ip_de_acceso Una vez que hemos baneado nuestra propia ip, para asegurarnos de ello, pasamos a verificar que es asi mediante: usuari@debian:~$docker exec crowdsec cscli decisions list Donde veremos que, ciertamente, hemos baneado nuestra ip. Y para ver como funciona, nos conectamos a los servicios que tenemos alojados en el VPS / servidor y nos tiene que aparecer el mensaje de forbidden. Pero tranquilo, no te asustes para revertir este baneo tenemos que hacer la instruccion contraria: usuari@debian:~$docker exec crowdsec cscli decisions delete --ip nuestra_ip_de_acceso Si volvemos a ejecutar la orden: usuari@debian:~$docker exec crowdsec cscli decisions list Nos tiene que aparecer el mensaje de No active decisions. Ya puedes respirar ü•≥. Tambien, puedes ver un poco lo que esta haciendo crowdsec y traefik, para ello puedes usar las siguientes instrucciones: ### CONTROLAS LAS OPCIONES ACTIVADAS QUE TIENE CROWDSEC usuari@debian:~$docker exec crowdsec cscli metrics Con esto: ### CONTROLAS LOS BANEOS QUE SE HAN PRODUCIDO EN TU SERVIDOR usuari@debian:~$docker exec crowdsec cscli alerts list Con esto podemos dar por concluida la instalaci√≥n de crowdsec y bouncer-traefik juntamente con traefik en nuestro servidor / VPS. Espero que te sirva y que puedas aprender tanto como he aprendido yo. Referencia Documentaci√≥n - CrowdSec \u0026 Traefik Tutorial Video - CrowdSec \u0026 Traefik Tutorial 528 - M√°s herramientas para proteger tu Linux GitHub Atareao - Traefik GitHub Atareao - Crowdsec ","date":"26-07-2024","objectID":"/2024-07-26-usando-traefik-4/:0:5","tags":["VPS","Docker"],"title":"Usando Traefik - 4","uri":"/2024-07-26-usando-traefik-4/"},{"categories":["unRAID"],"content":"Tal como explique en este articulo comente que iba a dar mi opini√≥n con respecto a unRaid y aqui va el segundo de los 2 articulos que tenia planeado escribir dando mi opini√≥n con respecto a las cosas positivas y negativas, y hoy toca hablar de las cosas negativas que le he encontrado, y siento decir que son m√°s que las positivas que negativas. Aunque algunas, al final las he podido solucionar, pero la soluci√≥n que he utilizado, seguramente sea la correcta si voy a mirar la documentaci√≥n de unRaid, pero no me parece correcto que se tenga que hacer de esta manera. ","date":"23-06-2024","objectID":"/2024-06-23-opinion-unraid-2/:0:0","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid - 2","uri":"/2024-06-23-opinion-unraid-2/"},{"categories":["unRAID"],"content":"Puntos negativos Usando el SO mediante un USB Lo primero y m√°s importante como punto negativo, es que en pleno siglo XXI, se tenga que usar un SO mediante un USB, con lo que implica eso. Ni la RaspberryPi y ya es decir mucho, usa ese sistema ya. Si, lo puedes usar, pero a√±adieron la opci√≥n de instalar el SO en un HDD externo y no me creo, que unRaid, no sea capaz de replicar esta funcionalida. Seguramente, me direis, que es para no estropear el RAID o cualquier otra cosa, pero un USB. Y porque no en una SD ya puestos? Pero si ahora todo el mundo tiene un SSD por hay abandonado donde se podria instalar el SO y funcionaria 100 veces mejor que el USB y con lo que se reducirian los posibles errores de escritura que tiene a la larga un USB, porque como todo el mundo sabe, un USB, no es para estar escribiendo todo el rato. Seguramente me direis que eso no pasa con unRaid, que no esta escribiendo todo el rato en el USB, no se si es cierto o no, pero me hago la siguiente pregunta. Y los logs? donde se graban en la RAM? Y si es asi, que pasa cuando se reinicia el sistema, se pierden los logs? Digo los logs, como podria decir cualquier otra cosa. No es mejor poder instalar el SO en un HDD / SDD que este en unRaid y asi usarlo como disco de sistema. Porque teniendo 300 HDD conectados a unRaid y que no puedas disponer de ninguno como disco para el SO, me parece un poco fuerte. Y esto es lo primero en la frente, no se que m√°s sorpresas me deparara unRaid. Instalaci√≥n de aplicaciones Cuando me refiero a la instalaci√≥n de aplicaciones, no me estoy refiriendo a docker, que de eso ya hablare m√°s adelante o a los SO para virtualizar, que no voy a dar mi opini√≥n con respecto a esto, porque no lo estoy usando. Me estoy refiriendo ha aplicaciones que puedas necesitar. Y voy a poner un ejemplo para explicar a lo que me estoy refiriendo. En mi caso, tengo un script, que cada fin de semana sube un toot a mi cuenta de Mastodon gracias a Python que tienes que instalar, con esto no tengo ningun problema, porque a traves del plugin NerdTools se puede hacer facilmente y sin complicaciones. Pero el problema es que a parte de Python, tambi√©n necesitas otros programas, como podria ser Mastodon.py, Twython y feedparser y que tienes que instalar a traves de pip install y esto es lo que no acabo de entender. El motivo por el cual no hacen lo mismo que otras distribuciones que mediante, me voy a centrar en la distribuci√≥n que hace m√°s de 20 a√±os que uso, y esta no es otra que GNU/Debian, y esto se haria de la siguiente manera con apt install python3-twython o apt install python3-feedparser ya tienes estos programas instalados y no como en unRaid que lo tienes que hacer a traves de python pip install feedparser. Yo esto lo veo como una desventaja. Porque adem√°s, es que si te vas a la paqueteria de Slackware estos paquetes si que estan disponibles y eso por eso que no entiendo porque no se pueden instalar. Nota Aqui hago un inciso, porque he buscado estos paquetes en la distribuci√≥n de Slackware y no estan disponibles para su instalaci√≥n, entonces entiendo que se tiene que hacer a traves de pip install, pero aun asi me resulta extra√±o. Sera que estoy acostumbrado a GNU/Debian. Luego para acabarlo de rematar, una vez que los instalas y en el caso de que se reinicie el servidor, nos puede pasar a todos, estos se tienen que volver a instalar. No le encuentro ningun sentido, porque si es un paquete que tu has instalado, significa que es algo que tu quieres y necesitas, sino no lo instalarias. Esto me ha pasado al querer usar el paquete lame para recodificar un mp3 (que es un paquete que si que esta en la paqueteria de Slackware). Primero que no estaba disponible a traves de la paqueteria de unRaid asi que tuve que ir a la paqueteria de Slackware e instalarlo pero no me funcionaba y, vuelvo a repetir, cuando se reinicia el servidor, el paquete se pierde. Esto tiene una facil soluci√≥n, pero que sino lo sabes, pues‚Ä¶ (culpa mia por no leer la documentaci√≥n de unRaid, pero","date":"23-06-2024","objectID":"/2024-06-23-opinion-unraid-2/:0:1","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid - 2","uri":"/2024-06-23-opinion-unraid-2/"},{"categories":["unRAID"],"content":"Opini√≥n Final Se que podria poner en 4 lineas mi opini√≥n final con respecto a unRaid, pero prefiero hacerlo en un ultimo articulo, para explicar lo que pienso. Este articulo saldra, proximamente, si es que los fanboys de unRaid, no me han matado. üòÖ Referencia Slackware on unRaid NetBSD Como funciona esta web y su creaci√≥n Installing system packages on unRAID aka Slackware ","date":"23-06-2024","objectID":"/2024-06-23-opinion-unraid-2/:0:2","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid - 2","uri":"/2024-06-23-opinion-unraid-2/"},{"categories":["unRAID"],"content":"Tal como explique en este articulo comente que iba a dar mi opini√≥n con respecto a unRaid y aqui va el primero de los 2 articulos que tenia planeado escribir dando mi opini√≥n con respecto a las cosas positivas y negativas. y aqui la el primero de los 2 articulos. Vamos a hablar de las cosas positivas que le he encontrado. ","date":"13-06-2024","objectID":"/2024-06-13-opinion-unraid-1/:0:0","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid - 1","uri":"/2024-06-13-opinion-unraid-1/"},{"categories":["unRAID"],"content":"Puntos positivos Gesti√≥n de los discos duros Seguramente esto es el punto m√°s positivo que tiene unRaid y seguramente es el motivo por el cual, yo creo, que el 99,99% de la gente que lo usa, es por este motivo. Y dentro de este grupo me incluyo yo. Porque no he visto ninguna gesti√≥ de HDD tan eficiente como hace unRaid con referencia a los HDD‚Äôs. Y esta gesti√≥n es el lo que lo hace diferente del resto de SO de NAS. Por lo que he leido la gesti√≥n la hace a traves de mergeFS que en palabras mundanas es la uni√≥n de m√°s de un HDD como si fuera uno solo junto con toda la gesti√≥n de los archivos que conlleva este sistema. Asi mismo, tambien tiene la gesti√≥n del HDD de paridad. Yo lo resumo en como tener un sistema de RAID‚Äôs con los consiguientes discos espejo, pero sin ser un RAID. Lo unico que hay que tener en cuenta es la parte de la paridad del HDD de respaldo que has de tener, pero eso implica que, si todos tus HDD suman 32Tb de informaci√≥n o es el maximo a lo que podrias llegar, necesitas un HDD de esa capacidad, incorrecto, o m√°s para cubrir esa paridad. Que si quieres no es obligatorio tenerlo, yo en mi caso no lo tengo, porque para las 4 cosas que tengo no me merece la pena, pero nunca se sabe. Nota Tengo que hacer un inciso en este apartado que me ha corregido Carlos M. con respecto a esta afirmaci√≥n por parte mia. El ejemplo que me dice, es que si tienes 10 HDD de 4Tb cada uno, en total 40Tb, solo necesitaras un unico HDD de 4Tb para hacer el de paridad. Pero claro, esto si lo tienes configurado de esta manera o de alguna manera similar, pero en el caso, como tengo yo, que tengo 2 HDD, uno de 18Tb y otro de 16Tb, entiendo que tendre que tener un HDD de como minimo 18Tb. Que es aqui donde yo he cometido el error, pensando que tendrias que tener un HDD con la capacidad maxima (en mi caso, 32Tb). Fallo mio. üò∞ Asi mismo, tambien hay que tener en cuenta, que lo primero que se tiene que hacer una vez has puesto un nuevo HDD en el servidor, es hacer un PreClear de este mismo para comprobar la salud de HDD, pero hay que tener en cuenta una cosa que dependiendo de la capacidad del HDD puedes estar con el HDD conectado y haciendo las validacions correspondientes del PreClear durante unas 96 hores, esto es lo que me paso a mi y lo explique en este articulo. Que sino estas preparado pues de puede sorprender y asustar, pero si luego entiendes que lo hace para validar el HDD, pues no esta mal, porque si se tira, como fue mi caso, 96 hores y no le pasa nada al HDD, esta en buenas condiciones. Aunque nunca puedes dar un 100%, pero bueno, un 90% si. Para eso, prefiero tener un buen sistema de copias de seguridad para salvaguardar la informaci√≥n que a mi si que me interesa no perder. Repito, esta gesti√≥n de los HDD‚Äôs es lo que da tanto valor a unRaid. Seguramente tu mismo te podrias hacer esta misma gesti√≥n en tu propio servidor, pero tendrias que configurar lo que no esta escrito. O no, nunca me he puesto a investigar como se hace. Porque a lo mejor son 4 ficheros y tienes la misma funcionalidad de ahora mismo tiene unRaid. Gesti√≥n de la configuraci√≥n del servidor Otro de los puntos positivos que le he encontrado, es la facilidad en la configuraci√≥n de todo el sistema una vez se ha instalado, que de esto hablare en los puntos negativos, porque‚Ä¶ Como iba diciendo, la configuraci√≥n es muy sencilla he intuitiva lo que facilita la puesta en marcha del sistema. Aunque si quieres, puedes decir mucho m√°s tiempo para una configuraci√≥n m√°s refinada del sistema, modificando parametros, pero eso ya te llevaria m√°s tiempo y tendrias que estar muy seguro y conocer el hardware de tu servidor para hacer eso. Gesti√≥n de la informaci√≥n (graficas) que genera el servidor El ultimo punto positivo para mi, es la informaci√≥ (graficas, metricas) que te ofrece unRaid de tu sistema en la pantalla principal. Se que hay otras aplicaciones de las que podrias extraer m√°s informaci√≥n (netdata, grafana, etc‚Ä¶), pero para empezar y al nivel que mi me interesa tengo m√°s qu","date":"13-06-2024","objectID":"/2024-06-13-opinion-unraid-1/:0:1","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid - 1","uri":"/2024-06-13-opinion-unraid-1/"},{"categories":["unRAID"],"content":"Conclusi√≥n Y con esto, hemos acabado los puntos positivos para mi. Repito, para mi. Es mi opini√≥n personal. Seguramente vosotros tengais muchos m√°s o menos, pero estos son los mios üòé Eso si, tengo que decir que el punto positivo m√°s importante que tiene unRaid es toda la gesti√≥n que hacer de los HDD. Pero claro, no podemos decir que me gusta una cosa, por el solo hecho de que tenga una unica cosa positiva. Para mi modo de ver, lo positivo y lo negativo tiene que estar m√°s o menos equilibrado o tirando m√°s hacia el lado de lo positivo, pero en mi caso, esto no es asi, le encuentro m√°s cosas negativas que positivas y esto lo podreis ver en el siguiente articulo. Referencia Glances ","date":"13-06-2024","objectID":"/2024-06-13-opinion-unraid-1/:0:2","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid - 1","uri":"/2024-06-13-opinion-unraid-1/"},{"categories":["VPS"],"content":"Como recordais hice 2 articulos donde en el primero articulo explicaba como se podia usar traefik con otros servicios de docker y en el segundo articulo, explicaba como se le podia a√±adir una capa m√°s de seguridad a nuestro servicio de traefik que consistia en bloquear las peticiones de paises de nuestra lista negra. En este 3¬∫ articulo, explicare unas modificaciones que, como siempre me pasa, no acabe de entender al leer el articulo principal de atareao{:target=\"_blank} y que gracias, no se si por inspiraci√≥n divida de Lorenzo he acabado de entender. Estas modificaciones, si te fijas bien, en el articulo de Atareao y que esta al final, comenta que despu√©s de lo que se ha hecho, hay suficiente con estas lineas: - traefik.enable=true - traefik.http.services.jellyfin.loadbalancer.server.port=8096 - traefik.http.routers.jellyfin.entrypoints=websecure - traefik.http.routers.jellyfin.rule=Host(`${FQDN}`) Para que traefik tenga en cuenta el servicio que nosotros le estamos indicando y lo configure correctamente e incluso con un certificado de letsncrypt. En el caso de Lorenzo el lo explica para Jellyfin, pero en mi caso, lo explicare para rss-funnel, que es el servicio de ejemplo que utilice en el primer articulo. Tambien pondre las modificaciones necesarias que se tiene que hacer en los ficheros de configuraci√≥n de traefik. Como podeis recordar en la configuraci√≥n de rss-funnel del primer articulo, lo tenia configurado de la siguiente manera: rssFunnel: image: ghcr.io/shouya/rss-funnel:latest container_name: rssFunnel restart: unless-stopped networks: - proxy ports: - 33333:4080 volumes: - ${HOME}/config/rss-funnel/funnel.yaml:/funnel.yaml environment: RSS_FUNNEL_CONFIG: /funnel.yaml RSS_FUNNEL_BIND: 0.0.0.0:PORT labels: - traefik.enable=true - traefik.http.services.rssFunnel.loadbalancer.server.port=4080 - traefik.http.routers.rssFunnel.entrypoints=web - traefik.http.routers.rssFunnel.rule=Host(`${PODCAST_SERVER}`) - traefik.http.middlewares.rssFunnel-https-redirect.redirectscheme.scheme=websecure - traefik.http.routers.rssFunnel.middlewares=rssFunnel-https-redirect - traefik.http.routers.rssFunnel-secure.entrypoints=websecure - traefik.http.routers.rssFunnel-secure.rule=Host(`${PODCAST_SERVER}`) - traefik.http.routers.rssFunnel-secure.tls=true - traefik.http.routers.rssFunnel-secure.tls.certresolver=letsencrypt Pero siguiendo las pautas que ha dado atareao, tendria que quedar de la siguiente manera: rssFunnel: image: ghcr.io/shouya/rss-funnel:latest container_name: rssFunnel restart: unless-stopped networks: - proxy volumes: - ${HOME}/config/rss-funnel/funnel.yaml:/funnel.yaml environment: RSS_FUNNEL_CONFIG: /funnel.yaml RSS_FUNNEL_BIND: 0.0.0.0:PORT labels: - traefik.enable=true - traefik.http.services.rssFunnel.loadbalancer.server.port=4080 - traefik.http.routers.rssFunnel.entrypoints=websecure - traefik.http.routers.rssFunnel.rule=Host(`${PODCAST_SERVER}`) Como veis, he quitado toda la parte del puerto, la secci√≥n del certificado y la secci√≥n de la redirecci√≥n porque de todo esto, se encarga traefik, esto es como consecuencia de que en el fichero traefik.yml hemos puesto lo siguiente: api: dashboard: true entryPoints: web: address: \":80\" http: redirections: entryPoint: to: websecure scheme: https permanent: true websecure: address: \":443\" http: tls: certresolver: letsencrypt Que es el encargado de crear automaticamente los certificados de todos los dominios que ponemos con traefik. Y os puedo decir que funciona perfectamente. Lo he aplicado a los siguientes contenedores: SearxNG rss-Funnel Traefik Funciona de fabula. Como dice el dicho, nunca te iras a dormir sin conocer una nueva cosa. Despu√©s de esto lo ultimo que me falta es ponerme con crowdsec que, una vez m√°s, siempre habia pensado que era un plugin que se a√±adia a traefik y no, es un contenedor m√°s con su respectiva configuraci√≥n. Pero ahora estoy m√°s tranquilo, porque entiendo un poco m√°s como funciona el mundo de traefik y con ayuda de la excelente documentaci√≥n que t","date":"06-06-2024","objectID":"/2024-06-06-usando-traefik-3/:0:0","tags":["VPS","Docker"],"title":"Usando Traefik - 3","uri":"/2024-06-06-usando-traefik-3/"},{"categories":["unRAID"],"content":"Tal como explique en este articulo empece a usar unRaid y puedo decir que despu√©s 3 meses (algunos podeis pensar que es poco tiempo), ya me he hecho una opini√≥n sobre este SO y la voy a exponer. Repito es mi opini√≥n personal y se que este articulo puede levantar ampollas, pero como digo, es mi opini√≥n y a quien no le guste que s‚Äôhi posi fulles. Intentare poner una lista de los puntos positivos y negativos que, repito que es mi opini√≥n personal, hace que a mi parecer aun esta un poco verde para ser un Sistema Operativo para usar como NAS casero y que en mi caso me hace replantear el uso de unRaid en mi servidor. ","date":"05-06-2024","objectID":"/2024-06-05-opinion-unraid/:0:0","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid","uri":"/2024-06-05-opinion-unraid/"},{"categories":["unRAID"],"content":"Puntos positivos Gesti√≥ de discos duros Gesti√≥n de la configuraci√≥n del servidor Gesti√≥n de la informaci√≥n (graficas) que genera el servidor ","date":"05-06-2024","objectID":"/2024-06-05-opinion-unraid/:0:1","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid","uri":"/2024-06-05-opinion-unraid/"},{"categories":["unRAID"],"content":"Puntos negativos Usando el SO mediante un USB Instalaci√≥n de aplicaciones Gesti√≥n de docker Gesti√≥n del administrador de archivos Sistema Operativo que hay por debajo de unRaid Foro de ayuda Esto, en mi opini√≥n, son los puntos positivos y negativos que he encontrado. Seguramente muchos direis estoy haciendo una monta√±a de un grano de arena, pero acostumbrado como estaba a gestionar mi servidor con Debian GNU/Linux desde la consola a pasar a gestionar el servidor a traves de unRaid. Ya se que muchos tambien direis que, no haberte cambiado, pero en eso consiste el aprender, en probar cosas y en sacar tus propias concluisones para poder rebatir si lo que me habian dicho era cierto o falso. Tal como dije en este articulo fui yo el que di el salto de Debian a unRaid porque por lo que me explicaban y por lo que veia, daba la sensaci√≥n de que todo era m√°s facil de gestionar y de usar, pero en mi caso, no ha sido asi. Como digo, en futuras entradas, podreis leer lo bueno y lo malo, a lo mejor lo malo, no seria la palabra correcta, sino lo mejorable, en mi opini√≥n, que le he encontrado a unRaid. Referencia","date":"05-06-2024","objectID":"/2024-06-05-opinion-unraid/:0:2","tags":["unRAID"],"title":"Opini√≥n Personal sobre unRaid","uri":"/2024-06-05-opinion-unraid/"},{"categories":["unRAID"],"content":"Como ya comente en el anterior articulo donde hablaba de que estaba usando HomePage con una configuraci√≥n normal y muy simple, pero que a la vez era funcional, por no decir basica para cuando te inicias, pero me faltaba algo, en resumen, queria algo m√°s‚Ä¶ Entonces buscando informaci√≥n, acabe en el github, que es lo que tenia que haber echo desde el principio, descubri esta hilo donde la gente, compartia sus dashboards junto con los ficheros de configuraci√≥n. Y tengo que decir que habia cosas muy chulas y muy curradas y lo m√°s importante, cosas que no sabia que se podian hacer. Mirando lo que la gente subia, encontre uno, no fui el unico que pregunto, que era increible y muy funcional porque tenias al alcance toda la informaci√≥n que necesitabas. Asi que toda la gente, le pidio si podia pasar üòÅ los ficheros de configuraci√≥n que usaba y le tengo que estar muy agradecido porque subio los ficheros de configuraci√≥n que el usaba y que me sirvio para estudiar como lo tenia todo montado. Asi que lo adapte a mis necesidades quedando de la siguiente manera (en mi caso): ","date":"03-06-2024","objectID":"/2024-06-03-usando-homepage-2/:0:0","tags":["unRAID","Docker"],"title":"Usando HomePage. El Dashboard - 2","uri":"/2024-06-03-usando-homepage-2/"},{"categories":["unRAID"],"content":"Pesta√±a Home ScreenShot ","date":"03-06-2024","objectID":"/2024-06-03-usando-homepage-2/:0:1","tags":["unRAID","Docker"],"title":"Usando HomePage. El Dashboard - 2","uri":"/2024-06-03-usando-homepage-2/"},{"categories":["unRAID"],"content":"Pesta√±a Glances ScreenShot Como se puede ver, uso dos pesta√±as donde en la primera pesta√±a se puede visualizar: La informaci√≥n de todos los dockers que uso junto con los links a las webs que m√°s uso. Toda la informaci√≥n (graficas) de los 2 servidores, que tengo ahora mismo. En el settings.yaml es donde se configuran los tabs o mejor dicho, las pesta√±as. Esto se consigue a traves de la variable tab, que es donde indicamos a que pesta√±a pertenece cada secci√≥n. Para que quede m√°s claro, se puede decir que en la pesta√±a tab: Home tendremos lo siguiente: Virtualization Monitoring Media Network En cambio, en la pesta√±a tab: Glances tendremos lo siguiente: Graficas Servidor 1 Graficas Servidor 2 Ahora viene lo m√°s importante, los ficheros de configuraci√≥n que estoy usando: settings.yaml #### Customization headerStyle: clean cardBlur: md theme: dark color: zinc quicklaunch: searchDescriptions: true hideInternetSearch: false showSearchSuggestions: true hideVisitURL: false #### Group layouts layout: ### Homepage Virtualization: tab: Home icon: mdi-desktop-classic Monitoring: tab: Home icon: mdi-message-alert Media: tab: Home icon: mdi-video-vintage Network: tab: Home icon: mdi-lan ### Glances Servidor 1 (unRaid): tab: Glances useEqualHeights: true style: row columns: 3 initiallyCollapsed: false Servidor 2 (Contabo): tab: Glances useEqualHeights: true style: row columns: 3 initiallyCollapsed: false ### Bookmarks Blogs: icon: si-blogger Compres: icon: mdi-shopping-outline Comunicacio: icon: mdi-newspaper Videos: icon: mdi-movie-open-edit-outline VPS: icon: mdi-google-cloud Es en el archivo services.yaml donde definimos lo que contiene cada secci√≥n (Virtualization, Monitoring, etc..). services.yaml - Virtualization: - unRaid: icon: unraid href: [url] description: ping: [url] siteMonitor: [url] - Monitoring: - What's Up Docker?: icon: whats-up-docker-light.png href: [url] description: Notifications for New Container Version Releases ping: [url] siteMonitor: [url] widget: type: whatsupdocker url: [url] username: {{HOMEPAGE_VAR_WUDUSER}} password: {{HOMEPAGE_VAR_WUDPASS}} - Scrutiny: icon: https://repository-images.githubusercontent.com/289524449/fc01e480-e6ab-11ea-9e20-53257df6f326 href: [url] description: S.M.A.R.T. Monitoring Dashboard ping: [url] siteMonitor: [url] container: scrutiny widget: type: scrutiny url: [url] fields: [\"passed\", \"failed\" ] - Gotify: icon: gotify.png href: [url] description: Simple, HTTP-based Pub-sub Notification Service ping: [url] siteMonitor: [url] container: gotify widget: type: gotify url: [url] key: {{HOMEPAGE_VAR_GOTIFY}} - Media: - Jackett: icon: jackett.png href: [url] description: Servidor Indexers ping: [url] siteMonitor: [url] container: jackett widget: type: jackett url: [url] - Transmission: icon: transmission.png href: [url] description: Servidor Transmission ping: [url] siteMonitor: [url] container: transmission widget: type: transmission url: [url] - Jellyfin: icon: jellyfin.png href: [url] description: Servidor Multimedia ping: [url] widget: type: jellyfin url: [url] key: {{HOMEPAGE_VAR_JELLYFIN}} enableBlocks: true enableNowPlaying: false fields: [\"movies\", \"series\", \"episodes\" ] - Navidrome: icon: navidrome href: [url] description: Servidor Musica container: navidrome widget: type: navidrome url: [url] user: {{HOMEPAGE_VAR_NAVUSER}} token: {{HOMEPAGE_VAR_NAVTOKN}} salt: {{HOMEPAGE_VAR_NAVSALT}} - Calibre: icon: calibre.png href: [url] description: Software de gesti√≥ de llibres ping: [url] siteMonitor: [url] container: calibre - Calibre-Web: icon: calibre-web.png href: [url] description: Web per a la gesti√≥ de llibres (Calibre) i la seva BBDD ping: [url] siteMonitor: [url] container: calibre-web widget: type: calibreweb url: [url] username: {{HOMEPAGE_VAR_CALIBREUSER}} password: {{HOMEPAGE_VAR_CALIBREPASS}} - Network: - Traefik: icon: traefik.png href: [url] description: Open-source Reverse Proxy and Load Balancer ping: [url] siteMonitor: [url] widget: type: traefik url: [url] username: {{HOMEPA","date":"03-06-2024","objectID":"/2024-06-03-usando-homepage-2/:0:2","tags":["unRAID","Docker"],"title":"Usando HomePage. El Dashboard - 2","uri":"/2024-06-03-usando-homepage-2/"},{"categories":["Blog"],"content":"Como ya explique en el anterior articulo, comentaba que habia actualizado mi Blog / Pagina Web con un nuevo tema gracias a Jekyll y al final hice el cambio, con unos cuantos problemas pero lo hice. Y aqui podeis ver el resultado‚Ä¶ Pero aun asi, habia cosas que no acababan de funcionar y eran: El feed no se creaba correctamente porque las direcciones de los posts apuntaban a http://0.0.0.0:4000 Esta es la direcci√≥n por defecto del servidor de jekyll de desarrollo. En los articulos salia la opci√≥n de SHARE y aun desactivando las redes sociales, esta opci√≥n no desaparecia. La parte m√°s facil fue la de hacer desaparecer la opci√≥n SHARE de los post. Hice una modificaci√≥n al codigo para que a partir de una variable activase la opci√≥n de SHARE o no. La primera modificaci√≥n se tenia que hacer en el archivo _data/social.yml donde tenemos que a√±adir lo siguiente: # add this new option: # For share on general share_buttons: false Una vez realizada esta modificaci√≥n, la siguiente modificaci√≥n se tenia que hacer en _includes/social/share_buttons.liquid donde teniamos que a√±adir el siguiente codigo: {% if site.data.social.share_buttons %} ... {% endif %} Y con esto se conseguia que los iconos de SHARE no se visualizaran. Una vez realizada esta modificaci√≥n, hable con el creador del tema para plantearle esta modificaci√≥n y que se lo a√±adiera al tema. Despu√©s de un peque√±o problema de comunicaci√≥n, al final nos entendimos los dos con respecto a lo que le estaba proponiendo y le pareci√≥ una buena idea y que no habia ningun problema, que o yo hacia el PULL REQUEST, o sino tenia mucha prisa el se encargaria de hacer las modificaciones oportunas. Le dije que mejor lo hiciera el, porque hacer los PR en codigo ajeno al mio no me hace mucha gracias, no vaya ser que la lie. Adem√°s no tenia prisa. Y asi quedo la cosa, con esta modificaci√≥n a la espera, pero en mi caso, como ya la tenia, pues adelante. Pero pasado un dia, el desarrollador del tema, me respondiendo a mi petici√≥n, indicando que esto ya lo hacia por defecto. A mi me extra√±o mucho, porque yo lo habia probado y no habia pasado nada. El me puntualizo, que para activar esta funcionalidad, en el fichero _data/social.yml tenia que poner a false todas las redes sociales y con esto ya funcionaba lo que yo queria: # For the share button options at the bottom of the articles share: email: false facebook: false linkedin: false pinterest: false pocket: false reddit: false tumblr: false twitter: false wordpress: false Asi que lo probe y tenia razon. Lo que el decia funcionaba perfectamente. Ahi fue cuando le pregunte, si ese fichero no es el que controla los iconos que aparecen en el footer de la web, y su respuesta fue, que no, ese fichero es el que controla la opci√≥n SHARE. El que controla el footer es _data/icons.yml. Entonces dije, tierra tragame. Eso me pasa por no revisar concienzudamente el codigo para asi entender lo que esta haciendo, porque lo m√°s fuerte es que el codigo es muy facil de entender. Lo que hace estar fuera de este mundo durante un par de a√±os. Que todo avanza muy rapidamente. Asi que deshice las modificaciones que habia hecho y todo funciono correctamente. Pero ahora venia el problema m√°s grave, como solucionar el tema del feed.yml que no apuntaba correctamente a la direcci√≥n de los articulos cuando se subia a github.com. Me pase dias y dias intentando buscar la soluci√≥n al problema. Mucha gente decia que si ponias en el fichero _config.yml, en la opci√≥n feed la opci√≥n url de la siguiente manera: feed: url: https://tudominio.github.io Funcionaba sin ningun problema. Pero no era mi caso. Y era muy frustante no conseguir hacer funciona el feed correctamente. Asi que si no puedes con el, hazte uno propio y fue lo que hice, construir mi propio feed, para que a la hora de generar el sitio en github se creara automaticamente. El codigo que use era el siguiente: \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003crss version=\"2.0\" xmlns:atom=\"http://www.w3.org/2005/Atom\" xmlns:dc=\"http://purl.org/","date":"30-05-2024","objectID":"/2024-05-30-cambios-blog-2/:0:0","tags":["Blog"],"title":"Cambios en el blog - 2","uri":"/2024-05-30-cambios-blog-2/"},{"categories":["Blog"],"content":"Se que llevo un par de semanas sin escribir ningun articulo, pero he estado un poco liado dandole un poco chapa y pintura a este blog que se traduce en lo que estais viendo ahora. Como ya sabreis, lo explico en este articulo, esta web se hace gracias a Jekyll y eso me facilita mucho los cambios, aunque no soy muy aficionado a ellos. Tambien influye que ya me habia cansado del tema que estaba usando hasta el momento, me puse a buscar algo diferente diferente y m√°s actual y que adem√°s el proyecto estuviera vivo, no como el que antes usaba que hacia como unos 5 a√±os que no se hacia nada. Me puse a buscar por las diferentes paginas web que hay con temas de Jekyll e iba probando las que m√°s o menos me gustaban, pero sin llegar a encontrar ninguna que me convenciera, asi que como ultimo recurso, no me gusta nada, pero cuando no queda m√°s remedio, le hice la consulta a chatgpt para que me echara una mano para escoger un buen tema üòÇ A la IA le di un par de pautas que tenia que cumplir en nuevo tema, esas pautas eran las siguientes: El proyecto tenia que estar vivo. Facil configuraci√≥n de Mastodon. Esto viene porque todos los temas que iba revisando o no tenian implementada esta nueva red social o hacer las modificaciones necesarias eran muy complicadas. Que fuera facil de usar y de trabajar con el en caso de querer realizar alguna modificaci√≥n. Que trabajase con la fuente Font Awesome lo m√°s actualizada posible. Esto es debido a que todos los temas que me iba encontrando usaban la versi√≥n 4.7 que no incluye los iconos de Mastodon y para actualizar a una nueva versi√≥n, es muy dificil de hacer. ChatGpt me dio algunos temas que eran interesantes, pero no me acababan de convencer (para que luego digan que la IA puede sernos de ayuda, pues conmigo no funciono). Asi que segui buscando, hasta que un buen dia, no se si ya lo habia descartado, me volvi a encontrar este tema y me decidi a probarlo. Cada vez que lo usaba, lo iba viendo con otros ojos, porque contra m√°s lo usaba m√°s facil me resultaba. Adem√°s cumplia casi todos los requisitos de mi lista por no decir todos: El proyecto esta vivo. Facil de usar y de trabajar con el por si quieres hacer modificaciones en el codigo. Facil configuraci√≥n de la red de Mastodon. Uno de los pocos que la incluyen. Usa una de las ultimas versiones de Font Awesome. Un mejor desempe√±o con las Categorias y con los TAGS. Este mejor desempe√±o, me ha llevado a que he tenido que modificar todos los articulos pero creo que ha sido beneficioso, porque me he dado cuenta, que mientras estaba probando otros temas, todos iban en la misma direcci√≥n. Tambien esta la opci√≥n de visualizar el archivo de la web con todos los articulos y el a√±o de su creaci√≥n que es una cosa que siempre me ha hecho gracia tener, pero que no sabia como se podia implementar. Tendre que ponerme en serio con los temas de jekyll porque se pueden hacer muchas virguerias. Asi que me puse a trabajar con el. Poco a poco me iba haciendo con el y entendiendo mucho mejor su funcionamiento hasta ahora, que ya lo he integrado completamente en el blog. Eso si, le he hecho algunas modificaciones que creo que le hacian falta que son: En el tema original tienes la posibilidad de compartir si o si el articulo, pero en mi caso, esa opci√≥n no me interesaba asi que puse un flag para que se pueda desactivar esa funcionalidad. La he compartido con el creador del tema y le ha parecido interesante. Me ha pedido que haga un Pull Request o sino tengo mucha prisa, cuando el tenga tiempo a√±adira dicha modificaci√≥n. Con respecte al PR le he dicho, que mejor que lo haga el üòÇ, porque no me siento muy seguro, por no decir que nunca he hecho ninguno, con lo que implica. Miedo a que me cargue algo del codigo y no se realmente como se hace. Tambien le he a√±adido el tema de las licencias. En mi caso la Creative Commons como podeis ver al final de la web. Asi nos encontramos. Seguramente le hare un par m√°s de modificaciones, pero tengo que meditarlas mejor para ver si son utiles o","date":"24-05-2024","objectID":"/2024-05-24-cambios-blog-1/:0:0","tags":["Blog"],"title":"Cambios en el blog - 1","uri":"/2024-05-24-cambios-blog-1/"},{"categories":["VPS"],"content":"De nuevo, con otro articulo de Traefik, en este caso, como se instala / activa el plugin GeoBlock para asi, tal como indica su nombre, Traefik en base al pais de origen de la IP, lo bloquea o no. En este caso, igual que en el anterior articulo, partimos de la base de que tambien me encontre con problemas a la hora de poder usar este plugin, tanto en su instalaci√≥n, como en su configuraci√≥n. Pero como ya tenia la experiencia de instalar y activar toda la secci√≥n de la redirecci√≥n, esta vez, me resulto un poco m√°s facil, solo un poco, todo porque ya entendia, m√°s o menos como funcionaba traefik. Hay que tener en cuenta, que la informaci√≥n, o el hilo del que tirar lo encontre gracias a nuestro querido Lorenzo (atareao) y en especial de este articulo. Para activar este plugin, lo primero es acceder a nuestra web de configuraci√≥n de traefik e iremos a la secci√≥n de plugins y buscamos el que queremos instalar, que en este caso es GeoBlock. Aqui hay que tener una cosa en mente, si buscamos, nos apareceran 2 plugins pero con una peque√±a diferencia. La versi√≥n de cada uno: GeoBlock v0.2.2 GeoBlock v0.2.8 En nuestro caso, iremos a por la documentaci√≥n de la versi√≥n v0.2.8, pero utilizaremos una version anterior para que nuestro sistema sea m√°s estable (en mi caso, he usado la versi√≥n v0.2.5). Lo que si que podemos hacer, es cuando veamos que todo funciona correctamente, es pasar a una versi√≥n superior (v0.2.6 - 7). Ahora es cuando viene la parte m√°s importante, como instalar este plugin. Para ello, nos tenemos que ir al archivo de configuraci√≥n de traefik.yml: traefik.yml A√±adimos las lineas que instalan y activan este plugin: experimental: plugins: geoBlock: moduleName: \"github.com/PascalMinder/geoblock\" version: \"v0.2.5\" Con esto indicamos lo siguiente: Queremos que use el plugin que se encuentra en github.com/PascalMinder Esto es asi, porque tambien tenemos la posibilidad de instalar este plugin desde local. La versi√≥n que usaremos, que en este caso es la versi√≥n v0.2.5 Aqui lo importante es el nombre que le hemos dado en la configuraci√≥n de GeoBlock, porque m√°s adelante lo usaremos y si no ponemos el mismo, tendremos problemas. Una vez, ya tenemos hecho esto, pasamos a la configuraci√≥n del plugin en si, que se hace desde el archivo dynamic.yml: dynamic.yml Informaci√≥n Recordar que ya habiamos a√±adido la configuraci√≥n del usuario y password para los servicios que nos interesan, la configuraci√≥n de GeoBlock se a√±ade a continuaci√≥n: http: # EL NOMBRE DE LA SECCI√ìN DE CONFIGURACI√ìN DE GEOBLOCK myGeoBlock: plugin: # EL MISMO NOMBRE QUE TENEMOS EN EL ARCHIVO TRAEFIK.YML geoBlock: silentStartUp: false allowLocalRequests: true logLocalRequests: false logAllowedRequests: true logApiRequests: false api: \"https://get.geojs.io/v1/ip/country/{ip}\" cacheSize: 15 forceMonthlyUpdate: true allowUnknownCountries: false unknownCountryApiResponse: \"nil\" countries: - PAISES QUE TIENEN ACCESO A NUESTROS SERVICIOS Esta secci√≥n tiene muchas posibilidades para a√±adir, pero en mi caso, siguiendo las pautas de Lorenzo he usado las siguientes: Countries: Los paises que tienen acceso a este proxy. API: Con esta opci√≥n, es desde donde a partir de la IP que accede a nuestro proxy, saber de que pais es y bloquear en caso de que no sea de uno de los paises escogidos üòâ Estan son en grandres rasgos las m√°s importantes, las otras opciones podeis buscar para que sirven. Una vez, que ya tenemos GeoBlock configurado, en principio, ya esta todo listo para funcionar. Pero os recomiendo que detengais el docker de traefik y lo volvais a iniciar para asegurar de que coge la nueva configuraci√≥n. Consejo Antes de nada, voy a hacer un inciso porque, para ver si todo el sistema funciona correctamente, tenemos que acceder a los logs de traefik para ver que hace. En este caso, tenemos 2 opciones: Acceder directamente al contenedor de traefik y monitorizar los archivos de configuraci√≥n access.log, traefik.log. Usar un peque√±o script que, de nuevo tengo que darle las gracias a Lorenz","date":"13-05-2024","objectID":"/2024-05-13-usando-traefik-2/:0:0","tags":["VPS","Docker"],"title":"Usando Traefik - 2","uri":"/2024-05-13-usando-traefik-2/"},{"categories":["VPS"],"content":"Como os explique en este articulo, aprovechando que tenia nuevo VPS, queria sacarle el maximo partido y despu√©s de haber instalado traefik aun tenia m√°s ganas. Y aqui es donde os aviso, he estado 3 dias intentando hacerlo funcionar correctamente y hasta que al final, me vino una inspiraci√≥n y pude conseguir que funcionara correctamente. Lo m√°s importante es que como base, sigo los articulos que ha posteado atareao que podeis encontrar en su pagina web y la informaci√≥n que tiene en gitHub searxNG que explica con un ejemplo muy claro, aunque hay que remarcar que cuesta de seguirle el ritmo, como usar traefik pero ya junto con los contenedores de docker. En mi caso, os pondre la configuraci√≥n que he usado, que puede seros de mucha ayuda asi como el problema que tuve y que me volvio loco. Partiendo de la base, que el archivo docker-compose.yml y los archivos traefik.yml, dynamic.yml, users.txt y acme.json que estais utilizando son los mismo que puse en el anterior articulo donde hablaba de traefik, ahora, lo m√°s normal seria poder sacarle todo el potencial que tiene traefik y para eso, os voy a explicar como lo uso, para el servicio rssFunnel que tengo activo. Todo empieza en la configuraci√≥ del docker-compose de dicho servici√≥ y para ello, se tiene que hacer a√±adir las siguientes lineas: rssFunnel: image: ghcr.io/shouya/rss-funnel:latest container_name: rssFunnel restart: unless-stopped networks: - proxy ports: - 33333:4080 volumes: - ${HOME}/config/rss-funnel/funnel.yaml:/funnel.yaml environment: RSS_FUNNEL_CONFIG: /funnel.yaml RSS_FUNNEL_BIND: 0.0.0.0:PORT labels: - traefik.enable=true - traefik.http.services.rssFunnel.loadbalancer.server.port=4080 - traefik.http.routers.rssFunnel.entrypoints=web - traefik.http.routers.rssFunnel.rule=Host(`${PODCAST_SERVER}`) - traefik.http.middlewares.rssFunnel-https-redirect.redirectscheme.scheme=websecure - traefik.http.routers.rssFunnel.middlewares=rssFunnel-https-redirect - traefik.http.routers.rssFunnel-secure.entrypoints=websecure - traefik.http.routers.rssFunnel-secure.rule=Host(`${PODCAST_SERVER}`) - traefik.http.routers.rssFunnel-secure.tls=true - traefik.http.routers.rssFunnel-secure.tls.certresolver=letsencrypt Partimos de la base, de que este servici√≥ lo tenemos configurado para el puerto 33333 que lo redirigira hacia el puerto 4080 por defecto de rssFunnel. Lo que tambien tenemos que tener en cuenta, es que tenemos que configurar este servicio para que use la misma red que traefik, que en este caso es proxy. Despu√©s de esto vienen las 9 lineas magicas que hace que todo funcione correctamente y que me volvio loco durante 3 dias, y estas lineas son las siguientes: labels: # INDICAMOS A TRAEFIK QUE CONTROLE ESTE SERVICIO - traefik.enable=true # AQUI ES DONDE ESTA LA MADRE DEL CORDERO. LO MAS IMPORTANTE DE TODO Y QUE SI NO LO TENEMOS BIEN # NO VA A FUNCIONAR # INDICAMOS A TRAEFIK, QUE TODO LO QUE VENGA A ESTE SERVICIO LO REDIRIGA DIRECTAMENTE AL PUERTO POR DEFECTO 4080 # NO AL 33333 QUE TENEMOS CONFIGURADO NOSOTROS. - traefik.http.services.rssFunnel.loadbalancer.server.port=4080 # QUE TIPO DE ACCESO TENDRA (WEB - 80, WEBSECURE - 443) - traefik.http.routers.rssFunnel.entrypoints=web # NOMBRE DEL DOMINIO QUE LO TENEMOS DEFINIDO EN UN FICHERO .ENV - traefik.http.routers.rssFunnel.rule=Host(`${PODCAST_SERVER}`) # QUE ACCI√ìN TIENE QUE REALIZAR. EN ESTE CASO, TIENE QUE REDIRIGIR A WEBSECURE - traefik.http.middlewares.rssFunnel-https-redirect.redirectscheme.scheme=websecure - traefik.http.routers.rssFunnel.middlewares=rssFunnel-https-redirect - traefik.http.routers.rssFunnel-secure.entrypoints=websecure # NOMBRE DE DOMINIO EN EL CASO DE WEBSECURE - traefik.http.routers.rssFunnel-secure.rule=Host(`${PODCAST_SERVER}`) # ACTIVAMOS EL CERTIFCADO SSL - traefik.http.routers.rssFunnel-secure.tls=true # CREAMOS EL CERTIFICADO SSL - traefik.http.routers.rssFunnel-secure.tls.certresolver=letsencrypt En el fichero .env, en mi caso, lo tengo de la siguiente manera: # ADRECES PER A SERVIDOR TRAEFIK PODCA","date":"06-05-2024","objectID":"/2024-05-06-usando-traefik-1/:0:0","tags":["VPS","Docker"],"title":"Usando Traefik - 1","uri":"/2024-05-06-usando-traefik-1/"},{"categories":["Docker"],"content":"Ya habia escrito un articulo sobre la instalaci√≥n de docker, pero lo explicaba para hacer la instalaci√≥n en una Raspberry, pero ahora lo voy a explicar para su instalaci√≥n en un equipo normal y corriente. M√°s concretamente en Debian GNU/Linux y asi, lo tengo m√°s a mano y no tengo que volverme loco buscando esta informaci√≥n en internet, porque si sigo el de la Raspberry, al final no funciona correctamente. Antes nada tenemos que validar si tenemos las aplicaciones necesarias para poder, al menos, instalar docker: usuari@debian:~$sudo apt-get update usuari@debian:~$sudo apt-get install ca-certificates curl usuari@debian:~$sudo install -m 0755 -d /etc/apt/keyrings usuari@debian:~$sudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc usuari@debian:~$sudo chmod a+r /etc/apt/keyrings/docker.asc # AFEGIM EL REPOSITORI A LES FONTS usuari@debian:~$echo \\ \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian \\ $(. /etc/os-release \u0026\u0026 echo \"$VERSION_CODENAME\") stable\" | \\ sudo tee /etc/apt/sources.list.d/docker.list \u003e /dev/null # ACTUALITZEM EL SISTEMA usuari@debian:~$sudo apt-get update Procedemos, ahora si, a la instalaci√≥n de docker: usuari@debian:~$sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin Ahora solamente, yo siempre lo hago, seguramente no se tendria que hacer pero, es a√±adir mi usuario al grupo de docker: usuari@debian:~$sudo usermod -aG docker ${USER} Con esto, ya tenemos instalado docker en nuestro sistema. Referencia Install docker on Debian Raspberry Pi. Pasos para instalar Docker en Raspbian ","date":"20-04-2024","objectID":"/2024-04-20-instalacion-docker-anexo/:0:0","tags":["Docker","Debian GNU/Linux"],"title":"Instalaci√≥n de docker. Annexo","uri":"/2024-04-20-instalacion-docker-anexo/"},{"categories":["VPS"],"content":"Aprovenchando que tengo el nuevo VPS queria ponerle traefik y que adem√°s se puede hacer a traves de docker y asi poder aprovechar todas las posibilidades que nos da. Al final (cuando estoy escribiendo esto) lo tengo todo en funcionamiento, pero me ha costado horrores y aqui os explico mi odisea. Lo que primero que hice, fue empaparme muy bien de los videos de atareao donde explica el proceso que uso el para su instalaci√≥n. Os aconsejo que empeceis con estos 2: Video 1 Video 2 Tiene unos cuantos m√°s, pero lo mejor es ir directamente a la fuente, yo he puesto los que m√°s han hecho servicio. Lo primero de todo es crear el fichero de docker-compose.yml que en mi caso, es el siguiente: ","date":"19-04-2024","objectID":"/2024-04-19-traefik/:0:0","tags":["VPS","Docker"],"title":"Instalando y configurando Traefik","uri":"/2024-04-19-traefik/"},{"categories":["VPS"],"content":"docker-compose.yml traefik: image: traefik:v2.11.2 container_name: traefik init: true restart: unless-stopped security_opt: - no-new-privileges:true # ES LA RED QUE FARA SERVI TRAEFIK I QUE UTILIZAREM PER A LA RESTA DE SERVEIS # QUE VULGUEM CONECTAR AMB TRAEFIK networks: - proxy ports: - 80:80 - 443:443 environment: - TZ=Europe/Madrid volumes: - /var/run/docker.sock:/var/run/docker.sock:ro - ${HOME}/config/traefik/traefik.yml:/traefik.yml:ro - ${HOME}/config/traefik/dynamic.yml:/dynamic.yml:ro - ${HOME}/config/traefik/users.txt:/users.txt:ro - ${HOME}/config/traefik/acme.json:/acme.json - logs:/var/log/traefik labels: - traefik.enable=true - traefik.http.services.traefik.loadbalancer.server.port=80 - traefik.http.routers.traefik-secure.entrypoints=websecure - traefik.http.routers.traefik-secure.rule=Host(`${TRAEFIK_SERVER}`) - traefik.http.routers.traefik-secure.middlewares=myauth@file - traefik.http.routers.traefik-secure.service=api@internal - traefik.http.routers.traefik-secure.tls=true - traefik.http.routers.traefik-secure.tls.certresolver=letsencrypt volumes: logs: {} # XARXA PER A TRAEFIK networks: internal: {} proxy: external: true Advertencia Antes de lanzarnos a la piscina con la instalaci√≥n, tenemos que tener en cuenta 2 cosas, en mi caso estoy usando un fichero .env donde tengo las variables, los passwords y las URL que utilizo: ${HOME} que es el directorio HOME de mi usuario ${TRAEFIK_SERVER} que es la URL de acceso a este servicio. Una vez tenemos el fichero, lo siguiente y antes de ponerlo en marcha es mejor crear los 4 ficheros que necesita para su correcto funcionamiento que son los siguientes: ","date":"19-04-2024","objectID":"/2024-04-19-traefik/:0:1","tags":["VPS","Docker"],"title":"Instalando y configurando Traefik","uri":"/2024-04-19-traefik/"},{"categories":["VPS"],"content":"traefik.yml api: dashboard: true entryPoints: web: address: \":80\" http: redirections: entryPoint: to: websecure scheme: https permanent: true websecure: address: \":443\" http: tls: certresolver: letsencrypt serversTransport: maxIdleConnsPerHost: 1 providers: docker: endpoint: \"unix:///var/run/docker.sock\" exposedByDefault: false watch: true network: proxy file: filename: /dynamic.yml log: level: INFO filePath: \"/var/log/traefik/traefik.log\" accessLog: filePath: \"/var/log/traefik/access.log\" bufferingSize: 100 fields: defaultMode: keep names: ClientUsername: keep headers: defaultMode: keep names: Content-Type: keep X-Forwarded-For: keep filters: statusCodes: - \"300-302\" - \"400-409\" retryAttempts: true minDuration: \"10ms\" certificatesResolvers: letsencrypt: acme: email: elteu@email.com storage: acme.json httpChallenge: entryPoint: web # ESTIC FEN PROVES PER VEURE COM FUNCIONA # PERO DE MOMENT NO TINC SORT #experimental: # plugins: # GeoBlock: # moduleName: \"github.com/PascalMinder/geoblock\" # version: \"v0.2.5\" ","date":"19-04-2024","objectID":"/2024-04-19-traefik/:0:2","tags":["VPS","Docker"],"title":"Instalando y configurando Traefik","uri":"/2024-04-19-traefik/"},{"categories":["VPS"],"content":"dynamic.yml # FITXER ON ESTAN, EN AQUEST CAS LA CONFIGURACI√ì DE LA SEGURETAT PER ACCEDIR ALS LLOCS http: middlewares: myauth: basicAuth: usersfile: /users.txt Ahora en el caso de querer securizar (pedir usuario y password) para acceder a los servicios que tenemos detras de traefik, se puede hacer a traves del archivo: usuari@debian:~$ls -l users.txt Para a√±adir los usuarios que tienen acceso, se realiza con la siguiente orden: usuari@debian:~$sudo apt install apache2-utils usuari@debina:~$htpasswd -nb usuario contrase√±a \u003e\u003e users.txt Ahora el archivo que contendra los certificados: usuari@debian:~$ls -l acme.json Pero antes de nada, tenemos que crear la red proxy, porque sino, luego a la hora de hacer el docker compose no dara error. Esto se hace de la siguiente manera: usuari@debian:~$docker network create proxy Una vez que ya tenemos todo preparado solamente nos falta decir las palabras magicas usuari@debian:~$docker compose up -d traefik Como podeis observar, estoy haciendo uso de docker compose y no de docker-compose. Esto se debe, creo, que con las nuevas versiones, se ha unificado, lo que antes era un paquete solo docker-compose y lo han convertido en una opci√≥n m√°s de docker. Si todo va bien, ya lo tenemos en funcionamiento y adem√°s, con el certificado SSL para conectarnos al dashboard y si hemos activado la seguridad de acceso a traves de usuarios, antes del acceso, nos pedira el usuario y password. Con esto, ya tenemos la instalaci√≥n de traefik en marcha. Ahora viene lo m√°s dificil, que es configurar el resto de servicios para que hagan uso de traefik y poder usarlo. Nota Aqui tengo que informar que el fichero docker-compose.yml de traefik ha sufrido algunas modificaciones como consecuencia de lo que podeis leer en este [articulo], quedando de la siguiente manera: labels: - traefik.enable=true - traefik.http.services.traefik.loadbalancer.server.port=80 - traefik.http.routers.traefik-secure.entrypoints=websecure - traefik.http.routers.traefik-secure.rule=Host(`${TRAEFIK_SERVER}`) - traefik.http.routers.traefik-secure.middlewares=myauth@file - traefik.http.routers.traefik-secure.service=api@internal # - traefik.http.routers.traefik-secure.tls=true # - traefik.http.routers.traefik-secure.tls.certresolver=letsencrypt Referencia 532 - Exprimiendo tu proxy inverso Traefik Mil servicios con Traefik ","date":"19-04-2024","objectID":"/2024-04-19-traefik/:0:3","tags":["VPS","Docker"],"title":"Instalando y configurando Traefik","uri":"/2024-04-19-traefik/"},{"categories":["VPS"],"content":"Tal como escribi en este articulo donde explicaba que, seguramente por error mio, al detener la instancia, esta se perdio y luego fue imposible remontarla, porque no habia recursos disponibles. Entonces, recordando que tenia una instancia en Google Cloud, la volvi a activar y hasta hace un par de dias era lo que usaba. Pero claro, con todos los servicions que le habia puesto: Searxng duckdns y Caddy rss-funnel Sock5 Glances La maquina de Google se me quedaba peque√±a, sobre todo en memoria, quedaban libres unos 150Mb, se que muchos direis, que eso es una barbaridad, pero me gusta ir sobre-seguro y que el dia de ma√±ana cuando necesite un poco m√°s no tenga problemas. Si teneis razon, es para uso personal, pero ‚Ä¶ y m√°s cuando habia pensado traspasar una secci√≥n del contendor de flexget (la secci√≥n que se encarga de los podcast), que tengo ahora mismo en mi servidor personal a Google. Ante esto, me veia en la necesidad de disponer de un VPS un poco m√°s completo que el de Google. Gracias al articulo que escribi explicando que me habia sucedido con la instancia de Oracle, se puso en contacto conmigo, atareao para aconsejarme (se necesita mucha m√°s gente como el), que el tenia un par de VPS en contabo y que a parte de ser economico, nunca habia tenido ningun problema, asi que me puse a buscar informaci√≥n sobre ese VPS. Lo que encontre, al principio me asusto un poco, porque, eso si, habia mucha gente que decia que estaba muy contenta con ellos y muy economicos, pero que cuidado si tienes algun problema porque tardaran mucho en solucionartelo, si es que lo hacen. Aqui es donde pense para mi mismo, como cualquier otra empresa, cuando todo va bien, no tienes ninguna queja, pero como tengas un problema, te las veras y te las desearas para que te lo solucionen, sino, que se lo pregunten a las personas que tienen cualquier empresa de telecomunicaci√≥n si estan contentos con ellos. Pasara lo mismo, mucha gente diciendo que estan supercontentos, y otros estaran echando pestes sobre esas empresas, porque cada 2x3 tienen problemas. Asi que me puse de nuevo en contacto con atareao, gracias a mastodon, para comentar ese tema y el me comento, que nunca habia tenido ningun problema y que estaba muy contento con ellos, y que adem√°s, habia tenido un problema y se lo habian solucionado inmediantamente. Pues nada, me lance a la piscina y contrate con ellos el siguiente VPS: 4 vCPU Cores 6 GB RAM 100 GB NVMe or 400 GB SSD En mi caso seleccione los 400Gb SSD, porque prefiero tener 400Gb que 100Gb. Si a lo mejor con los 100Gb ire m√°s deprisa, pero cuanto m√°s. 1 Snapshot Aun tengo que investigar como sacarle provecho 32 TB Traffic M√°s que de sobras para lo que lo utilizo yo Como eran unos requisitos que estaban muy bien, pues nada, me di de alta y ya tengo un nuevo VPS para substituir a mis antiguos VPS (Oracle y Google). De momento, estoy con todo el tema de la configuraci√≥n de la maquina, acceso SSH, firewall, fail2ban, etc‚Ä¶ Despu√©s lo primero es realizar la instalaci√≥n (a traves de mi querido docker) de traefik para poder securizar aun m√°s la maquina. Espero conseguirlo gracias a los videos de atareo, los que m√°s me han ayudado, pero podeis encontrar muchos m√°s si vais a su pagina web, que cuando habla de traefik, los ojos le brillan :) Referencia Exprimiendo Traefink Mil servicios con Traefik ","date":"17-04-2024","objectID":"/2024-04-17-nuevo-vps/:0:0","tags":["VPS","Docker"],"title":"Hemos encontrado la soluci√≥n al desastre el siglo??","uri":"/2024-04-17-nuevo-vps/"},{"categories":["VPS"],"content":"No se si lo habreis notado vosotros, pero escuchar podcast sobre tecnologia, informatica y dockers puede ser perjudicial para la salud y por extensi√≥n para vuestros servidores, o es solo una cosa que me pasa a mi solo? Si os preguntareis a que viene esta afirmaci√≥n, podeis seguir leyendo y todo quedara aclarado. Uno de mis podcast favoritos, es el de uGeek, si leeis mis articulos, os dareis cuenta, porque muchas de las ideas y modificaciones que hago en mi servidor salen de escuchar sus podcast. Adem√°s, da a conocer smuchas aplicaciones que seguramente para el resto de los mortales son desconocidas, pero que cuando las conoces, pues no estan tan mal y te pueden servir de ayuda como ha sido con la que explicaba √©l en este podcast. Dicha aplicacion es rss-funnel, que se la puede definir como un concentrador de podcas y asi tener todos los feeds en uno solo y que puedes, primero tener en tu propio servidor y segundo, lo puedes controlar tu. Si solo escuchas un solo podcast, pues no te ayudara mucho, pero si sigues unos 10, como es mi caso, pero si eso no es nada, para mi ya son muchos üòâ pues no viene nada mal la aplicaci√≥n que nos aconseja uGeek, y lo mejor de todo, es que puedes disponer de ella en docker. Que m√°s se puede pedir. Asi que me lance a por su instalacion en el VPS que tenia (Google Cloud). La instalaci√≥n es muy facil, como todo en docker, aunque la configuraci√≥n es un poco rebuscada, pero nada del otro mundo: ","date":"13-04-2024","objectID":"/2024-04-13-uno-juntarlos-todos/:0:0","tags":["VPS","Docker"],"title":"RSS-Funnel. Uno para controlarlos a todos","uri":"/2024-04-13-uno-juntarlos-todos/"},{"categories":["VPS"],"content":"docker-compose.yml rssFunnel: image: ghcr.io/shouya/rss-funnel:latest container_name: rssFunnel ports: - 4080:4080 volumes: - ${HOME}/config/rss-funnel/funnel.yaml:/funnel.yaml environment: RSS_FUNNEL_CONFIG: /funnel.yaml RSS_FUNNEL_BIND: 0.0.0.0:4080 En mi caso, he cambiado el nombre del servicio y el nombre del contenedor, esto es porque lo voy a utilizar con traefik y asi es m√°s facil a la hora de a√±adir los labels que afectan a traefik. Una vez tienes el docker-compose.yml, solamente hacen falta las palabras magicas: usuari@debian:~$docker compose up -d rssFunnel \u0026\u0026 docker logs -f rssFunnel La segunda instrucci√≥n siempre la pongo, porque asi, puedo ver si el docker me da algun error. Que normalmente siempre me pasa, porque como nunca creo los ficheros que el contenedor necesita, pues. En este caso, el fichero que me faltaba era el funnel.yaml con toda la configuraci√≥n de los podcast a seguir. En mi caso, es la siguiente (que te puede servir de base a ti): ","date":"13-04-2024","objectID":"/2024-04-13-uno-juntarlos-todos/:0:1","tags":["VPS","Docker"],"title":"RSS-Funnel. Uno para controlarlos a todos","uri":"/2024-04-13-uno-juntarlos-todos/"},{"categories":["VPS"],"content":"funnel.yaml endpoints: - path: /rss_feed.xml source: format: rss title: Mi Feed de Podcasts que sigo. filters: - merge: source: - https://anchor.fm/s/5a5b39c/podcast/rss - https://anchor.fm/s/81022ad4/podcast/rss - https://anchor.fm/s/1218850/podcast/rss - https://feeds.redcircle.com/610e9ea8-edf0-407f-9e6c-72375a0e17db - https://anchor.fm/s/115eb3dc/podcast/rss - http://feeds.feedburner.com/papafriki # se que ya no existe, pero tiene algunos podcast que son geniales - https://podcastlinux.com/feed - https://anchor.fm/s/baa8920/podcast/rss - https://ugeek.github.io/podcast.xml # aqui indico los campos que no quiero que se carguen en el RSS para asi aligerar el peso del XML - js: | function modify_post(feed, post) { post.description = null; post.content = null; post.author = null; post.categories = []; post.comments = null; post.link = null; post.guid = null; post.source = null; post.extensions = {}; post.itunes_ext = null; post.namespaces = {}; post.dublin_core_ext = null; return post; } # lo que intento aqui, es que como maximo me cargue 100 episodios de cada podcast, pero que no funciona - modify_feed: feed.items = feed.items.slice(0, 100); En mi caso, a√±adi una opci√≥n para limitar los podcast que rss-funnel iba a a√±adir en el feed. Queria que fueran solamente 100, porque como a√±ada los 550 que tiene atareao, el feed ocuparia 10Mb. Habia a√±adido, segun la documentaci√≥n era la que se tiene que usar modify_feed: feed.items = feed.idtems.slice(0, 100); pero como podia comprobrar, no funcionaba correctamente. Asi que, siguiendo el consejo de uGeek fui a preguntar directamente a la fuente para saber, como se tenia que hacer, me respondio y me a√±adio una modificaci√≥n, que le agradezco mucho, la modificaci√≥n para el fichero funnel.yaml adem√°s de otras modificaciones: ","date":"13-04-2024","objectID":"/2024-04-13-uno-juntarlos-todos/:0:2","tags":["VPS","Docker"],"title":"RSS-Funnel. Uno para controlarlos a todos","uri":"/2024-04-13-uno-juntarlos-todos/"},{"categories":["VPS"],"content":"funnel.yaml (modificado) endpoints: - path: /rss_feed.xml source: format: rss title: Mi Feed de Podcasts que sigo. filters: - merge: source: - https://anchor.fm/s/5a5b39c/podcast/rss - https://anchor.fm/s/81022ad4/podcast/rss - https://anchor.fm/s/1218850/podcast/rss - https://feeds.redcircle.com/610e9ea8-edf0-407f-9e6c-72375a0e17db - https://anchor.fm/s/115eb3dc/podcast/rss - http://feeds.feedburner.com/papafriki - https://podcastlinux.com/feed - https://anchor.fm/s/baa8920/podcast/rss - https://ugeek.github.io/podcast.xml # MODIFICACI√ì PER A LIMITAR A 100 EPISODIS A CADA PODCAST filters: - modify_feed: feed.items = feed.items.slice(0, 100); # MODIFICACI√ì PER ELIMINA INFORMACIO NO NECESSARIA A VISUALITZAR AL FEED # AMB AIXO ACONSEGUIM UN FEED AMB POC PES # QUE SI FAS SERVIR DES DE UN MOVIL, SEMPRE VA BE - modify_post: | post.description = null; post.content = null; post.author = null; post.categories = []; post.comments = null; post.link = null; post.guid = null; post.source = null; post.extensions = {}; post.itunes_ext = null; post.namespaces = {}; post.dublin_core_ext = null; Con esta peque√±a modificaci√≥n, ya tengo el servicio en funcionamiento. Lo unico que me quedaba por hacer era decidir como acceder al feed. Si a traves de un proxy Cadddy o a traves de una VPN WireGuard. Al final me decidi por el proxy a traves de Caddy y de momento me funciona perfectamente. Y adem√°s, el fichero XML que me descarga es de menos de 1Mb. No se puede pedir nada m√°s. Estoy contento con este servicio, porque es inmejorable. Y como bien dice el titulo, y uno para controlarlos a todos, porque en un unico feed tengo todos los podcast que sigo actualmente. Y en el caso de que quiera a√±adir uno m√°s, solo lo tengo que a√±adir en el fichero YAML y a funcionar. Aun le falta alguna mejoras, pero creo que creador esta con ello y eso si, si tienes cualquier duda te ayuda siempre (fue mi caso). Referencia RSS-Funnel RSS-Funnel. Gestionando y optimizando mis feeds ","date":"13-04-2024","objectID":"/2024-04-13-uno-juntarlos-todos/:0:3","tags":["VPS","Docker"],"title":"RSS-Funnel. Uno para controlarlos a todos","uri":"/2024-04-13-uno-juntarlos-todos/"},{"categories":["VPS"],"content":"Si recordais este articulo Por fin VPS para hacer pruebas y luego leeis lo que me ha pasado, entedereis porque titulo este articulo como lo titulo. Porque no es para menos. Como dije en el articulo que os he comentado, desde hace un tiempo, consegui, al fin, una instancia gratuita de Oracle Cloud que me servia para hacer pruebas y tener algun docker activado (proxy, searxng, umani, etc‚Ä¶) y que siempre va bien que este en otro sitio, porque nunca se sabe y m√°s si a alguien se le ocurre la idea de bloquear Telegram en Espanya. Esta instancia aunque era de ARM pero estaba muy bien equipada: 24Gb de RAM 50Gb de HDD SO. Ubuntu Lo tenia todo, pero un buen dia, se me ocurrio la brillante idea, que tal como lo tenia montado en ese momento, todo en una sola maquina, era tirar los recursos en 4 contenedores que nunca iban a saturar al equipo. Entonces dije, porque no hacer 2 maquinas y tenemos m√°s posibilidades. Y fue lo que hice, pero antes de todo ello, apague la maquina que tenia activa y la borre, para asi poder crear otra nueva a mi gusto. Que estupidez hice en ese momento, si lo llego a saber‚Ä¶ Y cuando ya lo tenia todo preparado para crear una nueva instancia pero m√°s reducida, aqui vino el desastre, era imposible crear una nueva. No habia manera, ni dejando que pasara unas horas ni unos dias. Siempre obtenia el mismo mensaje, No hay recursos, lo que si que podia hacer, era crear una instancia en AMD64, pero claro con la limitaci√≥n de 1Gb de RAM. En ese momento, fue cuando saltaron todas mis alarmas. Con otra email que tengo, intente crear una nueva cuenta, pero esta vez en otro sitio, porque no hay posibilidad de cambiar de sitio las instancias gratuitas, pero me encontre en el mismo problema, no hay recursos. Asi que ahora mismo, me encuentro sin poder usar ninguna instancia de Oracle. Por ese motivo me he dado de baja (con lo que me costo conseguirlo), para ver si cuando haya pasado unos meses, puedo volver a intentar darme de alta de nuevo. Pero de momento, ahora estoy usando una instancia de Google Cloud, se que no es lo mismo, porque solo tengo a mi disposici√≥n: 1Gb de RAM 30Gb de HDD Pero bueno, menos es nada. Lo que si que estoy pensando, es en un futuro, alquilar un VPS un poco decente, y no tener que preocuparme de cualquier problema. Pero claro, lo que me gustaria seria un VPS que no fuera muy caro, porque no quiero nada por el estilo de Oracle (RAM, CPU, HDD), pero tampoco quiero tan limitado como tengo ahora mismo con Google. Pero a ver donde encuentro algo asi y que esa economico. Si alguien de los que me lee, puede aconsejarme algun VPS, le estare muy agradecido. Referencia","date":"10-04-2024","objectID":"/2024-04-10-desastre-siglo/:0:0","tags":["VPS"],"title":"El desastre del siglo","uri":"/2024-04-10-desastre-siglo/"},{"categories":["unRAID"],"content":"Este mes de marzo ha traido un cambio inesperado en mi servidor. Lo primero de todo, vi una oferta de un Lenovo m910x (el que dispone de una ranura para puerto PCI) en Wallapop que venia completo (tarjeta grafica, SSD, RAM, transformador de 135w), o sea, una perita en dulce. Asi que me lance de cabeza a el. Y junto con los 2 HDD que ya tenia en funcionamiento (18Tb y otro de 12Tb) en mi antiguo servidor m√°s otro que estaba en stand-by de 16Tb, y aprovechando el mod que se le puede hacer a los Tiny (sobre todo a los m910x), pense en aprovechar los 3 HDD y tener un peazo servidor que no se lo saltase un galgo. La unica duda que tenia, era como sacarle partido a todo el hard que tengo a mi disposici√≥n? Pero antes de pensar en sacarle provecho al hard, tenia que hacer una operaci√≥n quirurgica al nuevo servidor, para aprovechar las ventajas del m910x. Y esta modificaci√≥n, consiste en: Soldar 3 cables a la placa base, para sacar la alimentaci√≥n para los HDD. Los puntos que tienes que soldar, los puedes encontrar en esta image del mod donde indica donde se tienen que hacer las soldaduras. El problema es si no tienes mucha experiencia o ninguna, entonces la cosa se complica. Yo he tenido de recordar los 5 a√±os que me pase soldando cuando estaba haciendo el FP. de electronica industrial, asi que‚Ä¶ Encontrar todo el material necesario para poder conectar los cables SATA a la PCI del Tiny. En la web de homelabs.club los encontraras. He ampliado la RAM del Tiny a 32Gb He cambiado la CPU que venia por defecto, Intel i5 - 6500T por una un poco mejor Intel i5 - 6600T. Tengo en el almacen una Intel i5 - 7500T, pero no se si seria mucho hablando en terminos de consumo electrico. Una vez realizada la parte m√°s dificil, ahora solamente toca decidir que Sistema Operativo ponerle. En principio queria volver a poner Debian GNU/Linux tal como tenia antes en mi anterior servidor. Pero en el canal de telegram de HomeLabs.club todo el mundo comentaba las bondades de UnRAID y me decidi a probarlo a ver que tal era y si era tan bueno como decian. Antes de nada, tenia que conseguir una licencia. Lo bueno que tiene UnRAID, es que tiene una licencia de prueba de 30 dias. El Sistema Operativo tiene muy bien. Todo esta bien cuidado y bien ordenado, aunque al principio cuesta encontrar las cosas, pero eso es como todo. Pero por mi experiencia, antes de nada y para que no te lleves ningun susto o te encuentres perdido, te recomiendo que le des un vistado a los siguientes videos: Gu√≠a de Primeros Pasos en UnRAID (parte1) Gu√≠a de Primeros Pasos en UnRAID (parte2) Gu√≠a de Primeros Pasos en UnRAID (parte3) Gu√≠a de Primeros Pasos en UnRAID (parte4) Estos videos van muy bien, porque te pone en situaci√≥n y te ayudan en la primera instalaci√≥n y configuraci√≥n del sistema. Es muy sencillo, pero como siempre pasa, el principio cuesta todo. Nota Cuando llegues a la secci√≥n de configuraci√≥n del Array o vayas a instalar los HDD al sistema, y si antes ya has visto los videos, no es todo tan bonito como parece, piensa antes lo que vas a hacer, porque yo me lance al huerto con el PreClear de un HDD de 18Tb y tarde 90 horas, se dice pronto, en tenerlo disponible para a√±adirlo al sistema. Pero bueno, me sirvio como aprendizaje para saber lo que es aconsejable y lo que no. Otra cosa que tambien me aconsejaron, fue que me apuntara al canal de Discord de UnRAID_ES, porque ya pedir ayuda, consejo, etc‚Ä¶ siempre estan disponibles. Son mis angeles de la guardia. Con todo esto, ya podia a empezar a hacer las pruebas con el sistema, probando configuraciones, plugins, dockers, etc‚Ä¶ Y es hay, cuando en el canal de Discord, salta la noticia de que las licencias que hay en ese momento disponibles en UnRAID van a cambiar a subscripci√≥nes anuales. Todo el mundo, en el canal de Discord se volvio loco, y recomendaron, que lo mejor, era comprar ya, una licencia tal como estan ahora (de por vida) para asi, al menos quedar cubierto para lo que pueda suceder en un futuro, y viendo que el sistema me em","date":"07-03-2024","objectID":"/2024-03-07-cambiando-unraid/:0:0","tags":["unRAID"],"title":"Cambiando a UnRAID","uri":"/2024-03-07-cambiando-unraid/"},{"categories":["unRAID"],"content":"Desp√∫es de escuchar el podcast de uGeek donde hablaba de los dashboard y en especial del que el usaba, Homer, me decidi a probarlo a ver que tal funcionaba la cosa, porque la idea de tener todo lo que m√°s utilizo al alcance de la mano o la informaci√≥n m√°s importante de tu servidor siempre disponible, pues es interesante. Asi que me decidi a instalar y probar Homer. Al principio, no necesitaba nada m√°s, pero poco a poco, cuanto m√°s te adentras en el mundo de los dashboards, ves las infinitas posibilidades que tienes a tu alcance y que en el caso de Homer no me lo daba. Asi que, me decibi a buscar otros que pudieran ampliar la informaci√≥n que me podian mostrar y no encontraba el m√°s adecuado hasta que lei el articulo de Carlos M. donde hablaba de HomePage y de las multiples opciones que tenia. Y puedo decir que si, tiene muchas opciones de configuraci√≥n que te pueden ayudar a visualizar toda la informaci√≥n que puedas necesitar. Como adem√°s, Homer tambien tiene esta posibilidad, se podia usar a traves de docker que m√°s se podia pedir. Asi que me dispuse a crear el container de HomePage. En mi caso, todo lo tengo concentrado en un fichero yaml que contine todos los dockers que uso: homepage: image: ghcr.io/gethomepage/homepage:latest container_name: homepage restart: unless-stopped ports: - 2000:3000 environment: PUID: 1000 PGID: 1000 volumes: - ${STORAGE}/config/homepage:/app/config - /var/run/docker.sock:/var/run/docker.sock labels: - diun.enable=true Asi se quedo, con un par de opciones m√°s, transmission, navidrome, jellyfin y el uso de CPU, Memoria y HDD del servidor. Con esto ya lo tenia todo. Pero como dice el refran, siempre deseas lo que tienen los otros‚Ä¶ Y asi sucedio‚Ä¶ Aqui tengo que hacer un inciso, porque a parte de tener el dashboard de HomePage otra de las muchas cosas que siempre quiero controlar, es el estado de los 2 servidores que tengo ahora mismo (el servidor local y el servidor de Oracle) y esto lo podia controlar a traves del docker Glances que conoci despu√©s de leer el articulo que hizo Lorenzo donde hablaba de el. Una versi√≥n resumida de este articulo, es que Glances es una especi√≥ de htop pero vitaminado. Asi que tambien lo instale, porque con el podia obtener toda la informaci√≥ (accediendo a ella a traves de la web) de los 2 servidores. glances: image: nicolargo/glances:latest-full container_name: glances restart: unless-stopped pid: host privileged: true volumes: - /var/run/docker.sock:/var/run/docker.sock - /run/user/1000/podman/podman.sock:/run/user/1000/podman/podman.sock - ${STORAGE}/config/glances/glances.conf:/glances/conf/glances.conf environment: - TZ='Europe/Madrid' - \"GLANCES_OPT=-C /glances/conf/glances.conf -w\" ports: - 61208:61208 Sin saberlo tenia todo lo necesari√≥ para obtener mucha m√°s informaci√≥n de la que me estaba facilitando HomePage hasta el momento y que yo desconocia que se podia obtener, hasta que en el canal de Telegram de HomeLabs.club empezaron a hablar de ello y de las multiples posibilidades que habia, junto con una captura de pantalla de toda la informaci√≥n que se podia obtener. Y yo, tenia a mi disposici√≥n toda esa informaci√≥n, pero desconocia como obtenerla. Despu√©s de pedir ayuda o si me podian facilitar los archivos de configuraci√≥n que usaban, me podian servir como base para asi yo poder hacer mi configuraci√≥n. Hay que remarcar, que para configurar HomePage se necesitan de 5 archivos yaml donde: settings.yaml # # La configuraci√≥ basica del dashboard (color de fons, idioma, disposici√≥ de la informaci√≥, etc...) # title: HomePage language: ca color: slate headerStyle: boxed hideVersion: true useEqualHeights: true layout: servidoLocal: header: false style: columns columns: 3 Oracle: header: false style: columns columns: 3 Dockers: header: false style: row columns: 3 Media: header: false style: row columns: 2 services.yaml # # Es configuran els serveis que volem visualitzar per pantalla # - servidorLocal: - Network: widget: type: glances url: [url] metric: network:eth0 chart:","date":"12-02-2024","objectID":"/2024-02-12-usando-homepage-1/:0:0","tags":["unRAID","Docker"],"title":"Usando HomePage. El Dashboard","uri":"/2024-02-12-usando-homepage-1/"},{"categories":["Debian GNU/Linux"],"content":"Se que ha pasado 1 mes desde la ultima vez que publique algo, pero he estado un poco liado con todo, pero ahora vuelvo al ruedo y a ver, si me pongo las pilas con el Blog. Tal como se puede ver en estos 2 articulos que ya habia escrito: Raspberry Pi. Haciendo copias de seguridad Raspberry Pi. Externalizando copias de seguridad Donde explicaba, en el primer articulo, que mediante el docker de rsnapshot realizaba las copia de seguridad de los ficheros m√°s importantes de mi servidor y, en el segundo articulo, explicaba, que a traves, tambien al docker de megacmd pasaba estas copias de seguridad a Mega para tener una doble seguridad, una copia en el servidor y otra copia fuera de el. Todo funcionaba correctamente, pero la segunda parte no era de mi agrado, porque tenia un docker muy desactualizado y que no me daba mucha confianza. Pero todo cambio cuando escuche este podcast de Desahogo Geek donde explicaba la manera que el hacia sus copias de seguridad de sus servidores. Y me intereso, asi que me puse a ver como se podia hacer. La manera que lo hacia AlexPro se basaba en 2 funcionalidades, 3 en mi caso, que son las siguientes: Usar rsnapshot que ya lo estoy utilizando y me funciona correctamente. Usar rclone para montar como una unidad m√°s del sistema en el servidor del espacio que tengo en Mega (50Gb) que hasta ese momento, no estaba dandole mucho uso. Automatizar mediante un script en bash las copias de seguridad, que en mi caso, serian las que hago mediante rsnapshot. Con respecto a las 2 primeras, rsnapshot no lo voy a volver a explicar, porque podeis ir al articulo que tengo publicado donde lo explico detalladamente, con respecto a como se tiene que configurar rclone, en vez de explicarlo yo aqui, que seguramente no contemplaria todas las opciones posibles, recomiendo que mireis estos articulos que a escrito AlexPro que explica todas las opciones posibles y en el que yo me he basado para configurar mi rclone. Lo que si que voy a explicar, es el script en bash (modificando el que habian hecho anteriormente Diego Cordoba y que a su vez, fue modificado por Luis Urbina y que modifique a mis necesidades para hacer las copias de seguridad a Mega. El script es el siguiente: #!/bin/bash # Victor Santos Garcia / https://vctrsnts.github.io # Creado Diego Cordoba, modificat per Luis Urbina # # # DADES DEL SERVIDOR I NECESSARIES SERVER=\"nomEquip\" # PER VISUALITZAR ELS MISSATGES (TRUE ES VISUALIZEN, FALSE NO) DEBUG=\"true\" # ON ESTA EL FITXER DE CONFIGURACI√ì DE RCLONE (JO LAGAFO DEL DOCKER DE RCLONE) RCLONE_CONFIG=\"/config/rclone.conf\" # # DIES QUE MANTENIM LES COPIES # TMP_DIR=\"/tmp\" # DIES PER OBTINDRE ELS BACKUPS, AMB EL VALOR 0, SAGAFA LULTIM BACKUP DAYS_TO_BACKUP=0 # DIES QUE ES MANTENEN ELS BACKUPS A MEGA ABANS DESBORRAR DAYS_TO_DELETE=7 # # TEMPS DESPERA PER A QUE FINALITZI LA COPIA ENTRE EL SERVIDOR I MEGA # SI EL SERVIDOR ESTA A INTERNET, AMB 120 SEGONS (2 MINUTS) ES M√âS QUE SUFICIENT # STANDBY_SECONDS=120 # # ESPECIFIQUEM EL DIRECTORI ON ESTAN ELS BACKUPS DE RSNAPSHOT # I EL DIRECTORI DE MEGA # ORIGEN_DIR=\"/mnt/backup\" MEGA_DIR=\"/mnt/mediaefs\" # # OBTENIM LA DATA DEL SISTEMA DATE=\"$(date +%Y%m%d)\" # # ES COMEN√áA A REALITZAR EL BACKUP # if [ \"${DEBUG}\" = \"true\" ] then echo \"\" echo \"\\_ Inici del Backup a Mega\" fi # # BACKUP DE LES COPIES DE SEGURETAT # EN AQUESTA CAS, SEMPRE BUSQUEM EL DAILY.0 GENERAT PER RSNAPSHOT # for dir in $(find ${ORIGEN_DIR} -mindepth 1 -maxdepth 1 -type d -daystart -mtime ${DAYS_TO_BACKUP}) do cd $(dirname ${dir}) if [ \"${DEBUG}\" = \"true\" ] then echo \"\" echo \" \\__: Iniciem la creaci√≥ del fitxer comprimit\" fi if [ \"${DEBUG}\" = \"true\" ] then echo \" \\___: ${dir}\" fi # ES CREAR EL FITXER COMPRIMIT (TAR.GZ) DE LA COPIA DE RSNAPSHOT tar czf ${TMP_DIR}/$(basename ${dir})_${DATE}.tar.gz $(basename ${dir}) if [ \"${DEBUG}\" = \"true\" ] then echo \" \\__: Finalitzaci√≥ de la creaci√≥ del fitxer comprimit\" fi cd - \u003e /dev/null done # # ESBORROR LES COPIES DE SEGURETAT QUE TENEN M√âS DE 7 DIES DANTIGUITAT A MEGA # rclone --con","date":"06-02-2024","objectID":"/2024-02-06-copias-seguridad-annexo/:0:0","tags":["Debian GNU/Linux","Docker"],"title":"Copias de Seguridad. Annexo","uri":"/2024-02-06-copias-seguridad-annexo/"},{"categories":["VPS"],"content":"Como ha he dicho muchas veces, docker te abre un mundo de infinitas posibilidades y entre una de estas posibilidades es tener tu propio buscador web y esto se consegui gracias a SearxNG. Aunque esto no es del todo cierto, lo que ocurre, es que Searxng es un concentrador de buscadores que lo unifica todo en un unico buscador, para mostrate todos los resultados posibles de todos los buscadores que hay actualmente (DuckDuckgo, Google, Bing, etc‚Ä¶) para asi evitar que tengas que hacer la busqueda en todos ellos. Y como adem√°s lo puedes usar a traves de docker, pues mejor que mejor. La unica pega que tiene, es que si lo usas a nivel personal, los diferentes buscadores conoceran tu IP, porque siempre es la misma y nunca cambio, lo bueno, seria que lo abrieras a todo el mundo asi, seria dificil que los diferentes buscandores te relacionases con las posibles busquedas y todo seria m√°s anonimo, pero claro, tienes que abrirlo a toda la web, con el peligro que ello conlleva. En mi caso, como tengo el servidor de Oracle, lo tengo montado hay, para dentro de lo que cabe, asi les cueste un poco m√°s relacionar mis busquedas con mi IP, ayuda un poco, pero no es la panacea. Y repito, como lo puedes usar a traves de docker que m√°s se puede pedir. En mi caso, el docker-compose.yaml que estoy usando yo es el siguiente: searxng: image: searxng/searxng:latest container_name: searxng restart: unless-stopped networks: - searxng ports: - \"8111:8080\" volumes: - ${STORAGE}/config/searx:/etc/searxng:rw environment: - SEARXNG_BASE_URL=https://${SEARXNG_HOSTNAME:-localhost}/ cap_drop: - ALL cap_add: - CHOWN - SETGID - SETUID logging: driver: \"json-file\" options: max-size: \"1m\" max-file: \"1\" networks: searxng: ipam: driver: default Con esto, ya tienes en funcionamiento nuestro buscador Searxng, pero claro, en mi caso, lo tengo en el servidor de Oracle, si quiero acceder a el, o lo hago a traves de una VPN o lo abro al mundo a traves de un proxy invero, en mi caso [Caddy]({%link _posts/2022-12-25-rpi-caddy-proxy-manager.md) y asi poder acceder a el desde cualquier parte del mundo. Yo ahora mismo lo estoy usando tanto en mi ordenador personal, como en mi movil. Despu√©s de configurar Caddy para que nos de acceso al contenedor y accedamos a el por primera vez, tenemos que configurar el buscador (orden de prioridad de los buscadores, selecci√≥n de imagenes, etc‚Ä¶). Tienes mil opciones con las que jugar. En mi caso, fui a lo facil, modifique alguna cosas, active otras y ya me puse a usarlo. Y si que tengo que decir, que desde ese momento, no he vueltro a usar ningun otro buscador. Como digo uno para controlarlos a todos. Referencia SearxNG. Buscador privado ","date":"10-01-2024","objectID":"/2024-01-10-searxng-uno-todo/:0:0","tags":["VPS","Docker"],"title":"Searxng. Uno para controlarlos a todos","uri":"/2024-01-10-searxng-uno-todo/"},{"categories":["Blog"],"content":"Pues ya tenemos el 2024 encima. Ya os puedo decir, que este a√±o, a nivel de salud, no ha empezado tal como me hubiera gustado, pero espero que todo se solucione con el tiempo. Ahora falta saber que nos deparara tanto a nivel de soft como a nivel de hard. Con respecto al hard, este primer semestre me gustaria modificar el server que tengo ahora mismo. En vez de tener los HDD conectados a traves de un USB, me gustaria que se conectasen a traves de SATA. Esta modificaci√≥n se la quiero realizar a una Tiny M910q con un par de cables por aqui y un poco de silicona por haya üòâ En principio suena peor de lo que es, pero la idea la he conseguido del canal de Homelabs.club de telegram donde a quien m√°s loco. Ya tengo todo el material para hacer la modificaci√≥n, asi como unas cuantas dudas que tengo que aclarar y un soldador, que tengo, pero en estos momentos, no lo tengo disponible. Es lo que siempre pasa, cuando m√°s necesitas una cosa, no esta disponible. Me hubiera gustado tener un homeserver m√°s estandart utilizando una placa micro-atx que tengo de un antiguo HTC, pero es que todas las cajas que veo que me irian bien, se van de presupuesto o no tengo espaci√≥ donde ubicarlo. Asi que de momento, a conformarse con lo que tengo que no es poco. Lo unico el bricolage que hay que hacer, que como ya he dicho, espero que los compa√±eros de HomeLabs.club me echen una mano para aclarar las dudas que me puedan surgir. Y sobre el soft pues haciendo pruebas de diferentes dockers que tenia ganas de probar o que aconsejan algunos de los podcasters que escucho (uGeek, Atareao, Lazaro, etc‚Ä¶), como por ejemplo: Dockge: gestionar tu fichero compose.yaml a traves de la web Dozzle: visualizar los logs de docker a traves de la web Vaultwarden: Para tener guardadas todas las contrase√±as que utilizar. Una especie de caja fuerte. Los 2 primeros ya los he probado, pero no les veo mucha utilidad. Para mi, me resulta m√°s facil ir directamente a la terminal y hacerlo tu mismo, uGeek opina lo mismo. En mi caso, estoy acostumbrado a todo lo referente a docker a hacerlo en la terminal, asi que no le veo ninguna utilidad. Pero ahi esta. Con respecto a Vaultwarden me gustaria tenerlo, porque asi, tendria en mi servidor el docker y no (ahora uso bitwarden) dejar la responsabilidad a una empresa. Pero claro, si lo tienes tu, tienes que estar pendiente de la seguridad y que no tengas ninguna brecha de seguridad, porque sino, se puede liar una‚Ä¶ Pero es lo que no entiendo, la gente que tiene Vaultwarden / Bitwarden en su propio servidor, como lo tienen configurado. Si no es molestia y alguien me lee, me lo podria explicar? Como sabeis, podeis contactar conmigo a traves de Mastodon Pues asi se presenta este nuevo y solo llevamos 5 dias. Cuando lleve 160, no se como estare üòâ Referencia Dockge Dozzle Vaultwarden ","date":"05-01-2024","objectID":"/2024-01-05-que-nos-depara-2024/:0:0","tags":["Blog"],"title":"Que nos depara este a√±o 2024??","uri":"/2024-01-05-que-nos-depara-2024/"},{"categories":["VPS"],"content":"Hacia mucho tiempo (minimo 2 a√±os), que habia escuchado que Oracle te daba gratuitamente la posibilidad de tener un VPS para poderlo usar, eso si, con unas ciertas limitaciones: 1 vCPUs x86 - 1Gb Ram 4 vCPUs ARM - 24Gb Ram Asi que si anteriormente, en un RaspberryPi con 1Gb de Ram y una unica CPU podia tener amule, transmission las 24 horas del dia y el sistema iba sobrado, la elecci√≥n seria facil. La elecci√≥n era lo m√°s facil, lo dificil fue conseguir darse de alta. Y cuando digo dificil, me refiero a dificil. Tarde como unos 2 a√±os a conseguir darme de alta en el servicio. No se porque, pero me era imposible conseguir darme de alta, probe con todo tipo de emails (que tengo), tambien probe con emails ficticios (de los que duran 10 minutos), tambien probe con diferentes tipos de tarjetas de debito / credito, pero no habia ninguna manera de conseguir acceder al servicio, tambi√©n probe de preguntar al servici√≥ de ayuda que habia disponible, pero como todos los servicios de ayuda, era como darse cabezazos contra una pared. No servian para nada. Pero no se porque, antes de vacaciones, lo volvi a intentar y por fin lo consegui, no se como, pero funciono. Porque volvi a hacer lo mismo que habia echo las anteriores veces. A lo mejor fue porque el sistema estaba menos saturado, no se, pero me funciono. Asi fue como consegui mi VPS, limitado eso si, pero no necesitaba nada m√°s para hacer mis pruebas y usarlo como yo queria, pues me venia de perlas. Para que necesitar m√°s. Lo primero era crear la maquina virtual con las necesidades maximas (dentro del Free Tier): Arquitectura ARM (4 vCPUs) 24Gb de Ram SO. Ubuntu ARM (muy parecido a Raspbian Debian GNU/Linux, etc‚Ä¶) Ahora solamente faltaba crear la maquina y configurarla, pero de eso no voy a explicar nada, porque hay miles de videos por internet donde lo explican mejor de lo que yo lo podria explicar. Eso si, cuando tuve el sistema apunto y actualizado y minimamente securizado, le instale Docker siguiendo mi propia guia de instalaci√≥n y ya lo tengo todo preparado para hacer mis cosas :) Le instale los siguientes contenedores: Caddy Searxng Este ultimo lo estoy usando como mi buscador principal y pasa por delante de duckduckGo y a Google. Monitorix Lo tengo para tener una monitorizaci√≥n del servidor por los puntos mas importantes a tener en cuenta. DuckDns No voy a explicar como se instala, porque usando docker es superfacil. Adem√°s a traves de este video de mi argentino preferido esta mejor explicado. Eso si, ultimamente ha decaido mucho (en mi opinion) en la tematica de los videos y ya no es como antes. Jekyll Aqui es donde tengo otra pagina web (diferente a la que tengo en GitHub), pero que ya hablare en otro articulo. Si os dais cuenta, estoy poniendo muchos de mis articulos donde comento en como se instalan diferentes aplicaciones / programas / containers en una RaspberryPi, pero como todo es ARM y los sistemas operativos que uso, son derivados de Debian GNU/Linux, pues no hay ningun problema en la instalaci√≥n. A parte de lo instalado, tambi√©n tengo puesto este script que en pocas palabras (para m√°s informaci√≥n leer en completo articulo de uGeek) explica que si las maquinas virtuales estan sin utilizar Oracle las desactiva y las borra. El script lo que hace, es consumir recursos (lo que tu hayas marcado en el fichero de configuraci√≥n) para asi dar la sensaci√≥n, de que el servidor se esta usando y evitar cualquier problema de que te lo desactiven o borren. Esto es mi odisea para tener un VPS, seguramente muchos direis que se le puede sacar m√°s partido. Tengo ideas que me gustaria probar en el servidor, servidor de musica, de podcast, etc‚Ä¶, pero no se si es aconsejable porque a lo mejor podria tener problemas y me podrian cerrar el chiringuito. En el caso de que alguno de los que me lee lo tenga, que usos le dais al VPS de Oracle. Es para conseguir nuevas ideas. Referencia uGeek - NeverIdle Searxng El Blog de Lazaro - Monitorix PeladoNerd - DuckDns ","date":"24-09-2023","objectID":"/2023-09-24-vps-pruebas/:0:0","tags":["VPS","Docker"],"title":"Por fin. VPS para hacer pruebas","uri":"/2023-09-24-vps-pruebas/"},{"categories":["Hardware"],"content":"Como ya decia en el anterior articulo, donde hablaba sobre el nuevo cambio de servidor que habia hecho, el canal de HomeLabs.Club es una mala influencia, teneis que hacerme caso y ahora lo entendereis mejor. Muchas de las personas, despu√©s de comprar el m910x le hacen un mod, que consiste en sobreescribir la BIOS del Thinkcenter. Con esta modificaci√≥n de la BIOS, a parte de permitir m√°s memoria RAM, tambien te permite a√±adir CPU‚Äôs de otras generaciones, para obtener m√°s informaci√≥n puedes visualizar este video creado por uno de los miembros del canal. Una vez que has realizado la modificaci√≥n, entre las diferentes opciones que tienes a tu disposici√≥n, despu√©s de modificar la BIOS, es poder usar un Xeon en el Thinkcenter. Si lo has leido bien, un Xeon. La unica pega es que lo compras a vendedores de China (Aliexpress), o tambien conocidos como los Xeon chinos, (muchos seguramente vendran de Datacenters que los han cambiado por nuevas versiones) pero aun as√≠, es un Xeon. Y es lo que hice, realize la modificaci√≥n de la BIOS y compre este Xeon que tiene 6 nucleos y 12 hilos. O sea una barbaridad. Ya que estabamos puestos, tambien me compre una nueva tarjeta grafica: Nvidia P1000 Si una tarjeta grafica Nvidia Quadro P1000 y que junto a esta tapa, la versi√≥n que accepta un ventilador, tengo un Tiny que seguramente nunca me lo voy a acabar. Es resumen el Tiny que me espera en la recamara tiene las siguientes caracteristicas: Thinkcenter m910x Intel Xeon E-2176M Tener presente que el Xeon se calienta m√°s que una CPU normal y se aconseja poner metal liquido entre la CPU y el headpipe (necesariamente de cobre) porque el ventilador se pone en modo reactor cuando la CPU coge temperatura 32Gb de memoria RAM Tarjeta Grafica Quadro P1000 4 salidas disponibles Al poner este tipo de tarjetas, se anula la opci√≥n de poner un SSD y se tiene que ir por un nvme Thinkcenter M910x A y me olvido una cosa importante, es que para este tipo de modificaciones necesitas si o si un transformador de como minimo 90w, porque sino, puedes tener problemas. Referencia Mod Bios Intel Xeon E-2176M Xeon y Kits Chinos Xeon Chinos ","date":"11-09-2023","objectID":"/2023-09-11-substitutos-portatil/:0:0","tags":["Hardware","Thinkcenter"],"title":"Equipo en la recamara","uri":"/2023-09-11-substitutos-portatil/"},{"categories":["Blog"],"content":"Despu√©s de leer el articulo que habia publicado Carlos M. en su blog, pense, que porque no hacer lo mismo con el mio. Eso si, tengo que indicar antes, que su articulo, es mucho mejor que el mio, porque el funcionamiento de mi pagina web es muy parecido a la suya, pero con alguna diferencias. La primera y m√°s importante, es que yo no uso Emacs ni Org-Mode. Mi web es mucho m√°s simple, pero eso si, intentaremos seguir un poco la guia que puso Lazaro, para que sea facil seguir la mia. ","date":"02-08-2023","objectID":"/2023-08-10-como-funciona-esta-web/:0:0","tags":["Blog","Debian GNU/Linux"],"title":"Como funciona esta web y su creaci√≥n","uri":"/2023-08-10-como-funciona-esta-web/"},{"categories":["Blog"],"content":"Hardware Es un poco subjetivo, en mi caso decir Hardware, porque en mi caso, todo depende de 2 ordenadores. El primero es mi portatil de uso normal (personal) que es desde donde escribo los articulos gracias a markdown y esto lo hago a traves de Geany, si ahora es cuando todos me vais a echar en cara que habia dicho en este articulo que estaba usando nvim y que esta decisi√≥n, habia venido despu√©s de ver el video de Atareao donde explicaba que habia echo el cambio de vim a neovim para mejorar su productividad. Yo hice lo mismo, pero despu√©s de unos meses de usarlo, me he dado cuenta, que en mi caso, para el uso que le doy a neovim, que es solo para los articulos de mi blog, me resultaba todo m√°s lento y esto es porque aun me falta mucho por aprender de vim y de neovim y como no le voy a dar todo el uso que tendria que darle, pues la curva de aprendizaje seria muy lenta y sobretodo, tediosa porque como digo, no voy a sacarle todo el partido, por ese motivo, me he tirado a Geany que es lo m√°s parecido a notepad++ que era el que usaba cuando estaba programando y con el que estuve m√°s comodo. Pero no nos vayamos por las ramas y volvamos al hardware, como he dicho antes, para escribir los articulos uso mi portatil personal y que gracias a las ideas que saque del articulo de Lazaro, lo sincronizo con mi servidor que junto con el container, docker, de Jekyll veo el resultado de como quedara todo. Una vez, hechas todas las comprobaciones y validaciones, uso otro script, tambien en bash, que actualiza mi arbol del projecto de GitHub que es donde tengo alojada mi web. Como veis, uso 2 ordenadores, seguramente podria usar uso solo, pero de momento, estoy comodo con este funcionamiento. ","date":"02-08-2023","objectID":"/2023-08-10-como-funciona-esta-web/:0:1","tags":["Blog","Debian GNU/Linux"],"title":"Como funciona esta web y su creaci√≥n","uri":"/2023-08-10-como-funciona-esta-web/"},{"categories":["Blog"],"content":"Scripts Como he dicho antes, tengo 2 scripts para la sincronizaci√≥n de los articulos con el servidor y luego otro para sincronizar con el arbol de GitHub. El primero de estos scripts, el de sincronizar con el servidor funciona a traves rsync de la siguiente manera: #!/bin/bash rsync -azvhP --rsh='ssh -pPORT' --exclude='draff' DIRECTORI_ORIGEN USUARI@IP_SERVIDOR:/DIRECTORI_DESTI Usando este script, hay que tener en cuentas unas cosas (como yo lo tengo configurado): PORT: Es el puerto que uses para comunicarte con el servidor, en mi caso, no uso el por defecto de SSH exclude: el / los directorios que quieres excluir a la hora de sincronizar los directorios. DIRECTORI_ORIGEN: Es el directorio donde tenemos los ficheros origen USUARI@IP_SERVIDOR: El usuario y ip del servidor al que nos tenemos que conectar DIRECTORI_DESTI: Directorio de destino, es el que rsync actualizara los archivos que esten en el directorio de origen. El segundo script, tambien en bash, sirve para sincronizar el projecto que tengo en local con el projecto que tengo en GitHub. Lo primero que hay que tener en cuenta, es que para usarlo, lo que se tiene que hacer, tal como yo lo tengo, es que el servidor tenga las claves SSH dadas de alta en GitHub para que asi, no tengas que estar insertando todo el rato el usuario y el password. Si esto ya lo tienes, ahora solo falta el script: #!/bin/bash # UpToGit 0.1 # Actualiza facilmente tu repositorio Git # (CC) 2011 Alfonso Saavedra \"Son Link\" # http://sonlinkblog.blogspot.com # Bajo licencia GNU/GPL # Modo de uso: copia o mueve este script a /usr/bin o /usr/local/bin y desde el directorio donde se encuentre la copia de un repo git, ejec√∫talo de esta manera: # uptogit \u003cficheros\u003e # Comprobamos si el directorio en el que estamos es de un repositorio git if [ ! -d '.git' ]; then echo 'Esta carpeta no contiene un repositorio Git' exit -1 fi # Ahora comprobamos si se le paso algun parametro if [ $# == 0 ]; then echo \"UpToGit: ¬°Error! No se le a pasado ning√∫n par√°metro\" echo \"uptogit fichero1 fichero2 ... ficheroN\" exit -1 else # Recorremos los parametros para comprobar si son ficheros o directorios for file in $*; do if [ ! -e $file ]; then echo \"UpToGit: El archivo o directorio $file no existe\" exit -1 fi done # Si llegamos hasta aqu√≠, indicamos a Git los archivos a subir git add $* # Esto nos pedira el mensaje del commit echo \"Introduce el mensaje del commit:\" read TXT git commit -m \"$TXT\" # Y terminamos subiendo los archivos git push --force origin master fi Este script, tal como he dicho antes, actualiza nuestro repositorio de GitHub. Para su uso se ejecuta de la siguiente manera: usuari@debian:~$sh up2Git.sh arxiu1, arxiu2, etc... Donde: arxiu1, arxiu2, etc...: Son los archivos que quieres sincronizar. Si pones el . estas indicando que quieres sincronizar todo el directorio. Introduce el mensaje del commit: Nos esta pindiendo un mensaje para describir la acci√≥n que vamos a llevar a cabo (yo lo entiendo asi). Con esto, ya tenemos actualizado nuestro repositorio con GitHub. ","date":"02-08-2023","objectID":"/2023-08-10-como-funciona-esta-web/:0:2","tags":["Blog","Debian GNU/Linux"],"title":"Como funciona esta web y su creaci√≥n","uri":"/2023-08-10-como-funciona-esta-web/"},{"categories":["Blog"],"content":"Publicaci√≥n Para la publicaci√≥n, se puede decir, que ya se ha hecho con el segundo de los scripts que antes he puesto. Lo unico que falta, es otro script, esta vez hecho en python, de factoria tambien de Carlos M. que lo que hace es crear un toot en Mastodon con el ultimo articulo publicado en nuestro blog. En el articulo, puedes ver como se hace tanto para Twitter como para Mastodon, pero en mi caso yo solo uso Mastodon. El script es el siguiente: #!/usr/bin/env python # -*- coding: utf-8 -*- # script que lee el feed rss de un blog y publica el ultimo articulo creado en Mastodon # Tienes que tener instaladas las librerias feedparser, Twython, Mastodon # Autor: Carlos M. # https://elblogdelazaro.org # Llama los modulos Python import feedparser from twython import Twython from mastodon import Mastodon # Llamando a las llaves del Diccionario (Twitter) CONSUMER_KEY = \"xxxxxxxxx\" CONSUMER_SECRET = \"xxxxxxxxx\" ACCESS_KEY = \"xxxxxxxxx\" ACCESS_SECRET =\"xxxxxxxxx\" # Seleccionamos el Feed feed = 'ADRE√áA DEL FEED' # Parseamos el Feed d = feedparser.parse(feed) # Inicializa la API de Twitter, escribe el nuevo estado y salimos d['entries'][0] es el √∫ltimo articulo publicado status_text = d['entries'][0]['title'] + '\\n' + d['entries'][0]['link'] articulo = (\"Ultimo articulo publicado:\" +'\\n' + status_text) # Publica en mastodon # Token y url de la Instancia mastodon = Mastodon( access_token = 'TOKEN_MASTODON', api_base_url = 'https://URL_TU_MASTODON/' ) mastodon.status_post(articulo) Con esto, esta explicado todo el funcionamiento desde la creaci√≥n del articulo hasta la publicitaci√≥n de dicho articulo en Mastodon. Seguramente, el articulo de Lazaro le da mil vueltas al mio, pero‚Ä¶ Referencia Como publico este blog - el blob de lazaro Geany Actualiza facilmente tu repositorio de GitHub Script para publicar el ultimo articulo en Mastodon ","date":"02-08-2023","objectID":"/2023-08-10-como-funciona-esta-web/:0:3","tags":["Blog","Debian GNU/Linux"],"title":"Como funciona esta web y su creaci√≥n","uri":"/2023-08-10-como-funciona-esta-web/"},{"categories":["Hardware"],"content":"Tal como avise en este articulo o en este otro articulo, decia de que habia cambiado de servidor y que, a parte, tenia unos juguetes nuevos. Pero quereis un consejo, alejaros de los canales de telegram, en especial de este. Que conste que estoy dentro del canal y es un grupo muy querido por mi, porque aconsejan, te ayudan en todo lo que pueden, pero son como el diablo, te llevan por el mal camino. Luficer Porque cuando te meten el gusanito de las compras conjuntas, de los benecifios de los Thinkcenter de Lenovo (que son increbles) ya no quieres salir y, porque no, uno m√°s, si ocupan poco espaci√≥. Seguro que no se nota. Al principio, empeze con mi antiguo servidor y el nuevo mediacenter, pero luego volvi a caer y me compre, fueron ellos, la culpa de es ellos y solamente de ellos: Un Thinkcenter m910q Un Thinkcenter m910x Este Thinkcenter lleva una mejora con respecto a la versi√≥n m910q, se le puede poner una tarjeta pci que permiter a√±adir cualquier tarjeta (ethernet, grafica, etc‚Ä¶) con todas las posibilidades que ello te da. Ya me veis, a mi, con 2 ordenadores nuevos y a ver que hacemos con ellos. Lo que si tenia claro, era usar el m910q, tiene m√°s posibilidades de ampliaci√≥n y de mejoras, usarlo como servidor local junto (insisto, son como el diablo) con un HDD de 18TB comprado en una de las compras conjuntas que se hacen a veces junto con otro m√°s que venia utilizando de antes (12Tb). Y de nuevo a reinstalar todo el servidor. Esto no es una cosa que me preocupe mucho, porque como lo tengo todo en docker junto con sus correspondientes copias de seguridad, pues al dia siguiente de ponerme, ya tenia de nuevo, el servidor en funcionamiento al 100%. El antiguo servidor (Dell) lo tengo en la banqueta, por si en algun momento lo necesito. Seguramente, muchos os preguntareis que voy a hacer con el m910x que tambien me compre. Pues la idea que tengo con este es mucho m√°s heavy. Ni yo mismo me lo habia planteado, mejor leer este articulo y entendereis por donde voy. Pero no es ni la mitad de lo que quiero hacer en realidad y que esta todo preparado para su proximo despliegue. Pero eso lo explicare en otro articulo. Referencia HomeLabs ","date":"01-08-2023","objectID":"/2023-08-01-de-nuevo-cambiando-servidor/:0:0","tags":["Hardware","Thinkcenter"],"title":"De nuevo, cambiando de servidor local","uri":"/2023-08-01-de-nuevo-cambiando-servidor/"},{"categories":["Python"],"content":"No se vosotros, pero no os habeis fijado que estos ultimos meses ha habido un auge con respecto a los podcast? No se si es porque la calidad ha subido o porque hay m√°s, pero‚Ä¶ Yo siempre he escuchado un programa de radio de Catalunya Radio que trata sobre la historia en general y como soy un entusiasta de la historia, pues este programa no podia faltar, pero claro, me lo programan a unas horas, que es imposible seguirlo. Asi que decidi mirar si tenian la opcion de descargar los programas en formato podcast, y resulto que si era posible. Asi mismo, tambien empece a seguir a unos podcaster que hablan sobre tecnologia (uGeek, Atareao, PapaFriki, etc‚Ä¶) y me he aficionado a ellos, asi que tambien los puse en la lista de seguimiento. Pero claro, yo los puedo escuchar cuando puedo y este a√±o (2023) ha sido un poco dificil, porque he tenido un a√±o muy complicado. Entonces empece a investigar la manera de descargar los podcast automaticamente y si que existe, m√°s informaci√≥n en este articulo. Y que adem√°s, tambien se puede hacer lo mismo con los otros podcast, mientras tengan un fichero RSS, se puede descargar. Asi que lo m√°s importante, conseguir los podcast ya estaba echo. Pero claro, ahora faltaba la parte de poderlos escuchar. Nota Antes un peque√±o inciso sobre mi manera de tratar los ficheros de podcast. Al principio, los podcast los trataba como si fueran ficheros de musica normales y corrientes, pero siempre intentaba tenerlos separados de la musica, en un directorio los podcast y en otro la musica, pero a la hora de escuchar, siempre acababan juntandose en la aplicaci√≥n del movil que usaba (D-Sub, Tempo, etc‚Ä¶), asi que me puse a investigar y gracias a unos de los podcast, valga la redundancia, de uGeek, donde explicaba que el estaba intentando crear su propio feed de los podcast que seguia, para que asi, a traves del movil o cualquier otra aplicacion, poderlos escuchar cuando fuera posible. Esa idea me gusto mucho y me puse a investigar, porque los conocimientos que tengo yo de bash son muy pocos y llegar al nivel para hacer lo que estaba explicando uGeek seria muy complicado. Despues de mucho buscar y probar, encontre este proyecto en github, que a traves de un fichero python, se crea automaticament el fichero RSS del directorio que tu le indicabas junto con el titulo y descripci√≥n y despu√©s, este mismo fichero RSS, lo puedes exponer a internet, para que cualquier aplicacion lectora de RSS (sobre todo las aplicaciones de podcast que funcionan a traves de ellos) pudiera tener acceso a estos podcast. Aqui pongo un ejemplo de como uso yo este fichero: usuari@debian:~$python3 /home/usuari/genRSS/genRSS.py -e mp3 -d directorio_podcast -H http://ip_servidor:puerto -i https://imagen_de_la_caratula.jpg -t \"Titulo_del_Podcast\" -p \"Descripci√≥n del Podcast\" -C -r -o fichero.rss.rss Hay que tener un par de cosas a la hora de usar este fichero: Las caratulas de los podcast tiene que ser externa. No puedes tener la imagen en el servidor. Al menos en mi caso, yo no he conseguido que funcionen con imagenes de dentro del servidor. Yo tengo varias lineas (una por cada podcast que sigo) y asi me generar un RSS, y todo lo tengo en un fichero bash que cada dia se ejecuta para actualizar los RSS con los nuevos podcast que se han descargado. Ahora, solo faltaba elegir un buen podcaster, creo que se llaman asi, para poder escuchar mis podcast, y me decidi por AntennaPod donde se podia a√±adir los RSS creados por mi mismo y poderlos escuchar. Tengo que a√±adir, que para tener acceso a los ficheros RSS que habia creado en mi servidor, tenia que tener acceso a ellos y, en mi caso, esto lo hacia a traves de WEBDAV (como contenedor de docker), si quereis saber como se puede configurar, uGeek tiener un buen articulo donde explica como se hace y como hacerlo, especificamente en docker. Tengo que decir que funcionaba todo perfectamente, pero eso si, abierto al peligroso mundo de internet y m√°s, despu√©s de escuchar este episodio de uGeek que habla sobre la segur","date":"23-07-2023","objectID":"/2023-07-23-crear-rss-podcast/:0:0","tags":["Python","Debian GNU/Linux","Docker"],"title":"Crear RSS de los podcast que sigo","uri":"/2023-07-23-crear-rss-podcast/"},{"categories":["Debian GNU/Linux"],"content":"No se si os ha pasado muchas veces eso de perder el arranque de GNU/Linux GRUB, pero a mi, me esta pasando muchas veces ultimamente y no se si es porque tengo mala suerte o porque tengo mal configurado el inicio entre Linux y Windows, asi que al final, me he tenido que buscar la vida, para saber como se puede solucionar, porque sino, tengo que volver a reinstalarlo todo y ahora que el sistema lo tengo como yo quiero, pues ‚Ä¶ Las instrucciones las uso, desde Grub Rescue que es donde siempre acabo si algo me falla en el inicio del sistema y hago lo siguiente. Pero antes, mejor explicar como tengo mi sistema de archivos, para que se vea, el porque de algunas instrucciones: sda1 --\u003e partici√≥n EFI sda2 --\u003e partici√≥n del sistema Linux sda3 --\u003e particion HOME sda5 --\u003e partici√≥n Windows Pues eso, que a continuaci√≥n pongo las instrucciones que yo uso en mi caso, para poder recuperar el sistema (espero que os puedan servir de ayuda): # uso gpt2, porque es donde tengo la partici√≥n del sistema de Linux grub:\u003e set root=(hd0,gpt2) # ahora se indica donde se encuentra la imagen de Linux y donde la puede encontrar grub:\u003e linux /vmlinuz root=/dev/sda2 # ahora se indica donde se encuentra la imagen de initrd grub:\u003e initrd /initrd.img # ahora iniciamos el sistema grub:\u003e boot Una vez iniciado el sistema, solamente tenemos que acceder a la consola y volver a reconfigurar grub de la siguiente manera (en este caso lo hacemos suponiendo que tienes EFI): usuari@debian:~$sudo dpkg-reconfigure grub-efi-amd64 Cuando haces esto, hay que tener en cuenta, que como en mi caso, si tienes otro Sistema Operativo instalado, y quieres que GRUB te lo detecte, tienes que tener esta opci√≥n desactivada: usuari@debian:~$sudo vi /etc/default/grub GRUB_DISABLE_OS_PROBER=false Con esta opci√≥n obligas a grub a detectar otros SO y me ahorre, volver a reinstalar todo mi sistema. A veces puede pasar que no funcione. Me ha pasado alguna vez, no se el motivo de esto, pero entonces he ejecutado las siguientes instrucciones y he podido resolver el problema: usuari@debian:~sudo grub-install usuari@debian:~sudo update-grub Referencia How to Re-Install GRUB EFI ","date":"05-05-2023","objectID":"/2023-05-05-recuperando-grub/:0:0","tags":["Debian GNU/Linux"],"title":"Recuperando Grub","uri":"/2023-05-05-recuperando-grub/"},{"categories":["Debian GNU/Linux"],"content":"Mucha gente pensara que me he vuelto loco al poner este titulo a este articulo y m√°s siendo un blog de tecnologia, pero cuando llegueis al final lo entendereis. Todo empieza, si leeis este articulo donde comentaba que habia estaba hacienddo pruebas de funcionalidad con watchtower para mantener actualizado mis docker sin mi supervisi√≥n y que solo me avisara cuando se hubiera actualizado uno. Tambi√©n comentaba como que resultada un poco lioso su configuraci√≥n (fichero docker) y que volvia a diun para luego volver a watchtower para quedarme en el. Pues ahora resulta, por eso el titulo de este articulo, donde dije watchtower ahora digo diun. Y el motivo es muy simple. Tan simple que fue, porque despu√©s una actualizaci√≥n, algunos de los dockers/containers que uso dejaron de funcionar. Los contenedores tenian errores, que como se actualizaron sin mi supervisi√≥n, dejaron de funcionar. Y menos mal que lo descubri pronto, porque sino, no se lo que hubiera pasado. Se que estoy exagerando un poco, mi servidor no es la NASA, pero bueno, es mi servidor. Eso que ya estaba prevenido con ello, porque todos los articulos que lei sobre watchtower te avisan que hay que tener un control sobre las actualizaciones, porque pueden ocasionar un desastre y sino estas atento no te daras cuenta hasta que sea muy tarde. Descubri que la ultima actualizaci√≥n no habia ido correctamente, porque normalmente recibo mensajes de las acciones que hace el docker y ese dia no recibi ninguna alerta a traves de Telegram, y aqui es donde me puse a investigar, para descubrir porque no estaba recibiendo las alertas y todo era culpa de que el container no estaba funcionando correctamente, este tenia un error que hacia que se reiniciase todo el rato con todo lo que ello provoca. Y ya me veis anulando la actualizaci√≥n y volviendo a la versi√≥n anterior. Despu√©s de esta mala experiencia, aunque ya la sabia, porque el podcaster Atareao la habia comentado en su articulo donde el explicaba que estaba usando watchtower, pero yo pensaba, iluso de mi, que para los dockers tan simples que uso, no tendria que pasar nada. Pues no veas si no paso. Me puse a buscar a ver que decia la gente cual era la mejor opci√≥n para substituir a watchtower. Muchos decian que el mejor era diun y si adem√°s, los creadores de muchas de las imagenes de docker que uso son linuxservers te aconsejan no usar watchtower sino que usar diun, pues me fui a por ello. La instalaci√≥n es muy simple, como siempre en docker: diun: image: crazymax/diun:latest container_name: diun restart: unless-stopped hostname: nomDelTeuServidor volumes: - ${STORAGE}/config/diun:/data # FITXER ON ESTA LA CONFIGURACI√ì AMB TELEGRAM # I ELS MISSATGES D'ALERTA QUE ENVIA QUANT TE DOCKER PER ACTUALIZAR - ${STORAGE}/config/diun/diun.yml:/diun.yml:ro - /var/run/docker.sock:/var/run/docker.sock:ro environment: - \"TZ=Europe/Madrid\" - \"LOG_LEVEL=info\" - \"LOG_JSON=false\" El problema viene luego en la configuraci√≥n de las alertas, que en mi caso las recibo a traves de Telegram aunque tienes m√°s opciones donde recibirlas, no es complicado si sigues el manual que tienen para ello, tienes que configurar las alertas que vas a recibir (que esta todo en un fichero yaml): # LA BBDD DE DIUN db: path: diun.db # EL CRON DE DIUN watch: workers: 20 # schedule: \"*/1 * * * *\" schedule: \"@weekly\" firstCheckNotif: true # QUE QUIN SERVIDOR (ES POT DIR AIXI) OBTING ELS DOCKERS providers: docker: watchByDefault: false watchStopped: true # CONFIGURACIO DE TELEGRAM # I DEL MISSATGE QUE S'ENVIA notif: telegram: token: TOKEN_TELEGRAM chatIDs: - ID_DEL_CHAT_DE_TELEGRAM templateBody: | # AQUI TEORICAMENT HAURIA D'ENVIAR EL LOGO DE DIUN, PERO NO HO FA [Image]({{ _Meta_Logo }}) # AQUI ES ON TINC EL PROBLEMA I DE MOMENT NO HO POSSO PERQUE NO PORTI A PROBLEMES Con esto, solamente te falta hacer un: usuari@debian:~# docker-compose up -d diun Ya lo tenemos todo funcionando. Esto no es del todo cierto, porque aun falta por indicar/se√±alar que contenedores quieres que diun contro","date":"29-04-2023","objectID":"/2023-04-29-donde-dije-digo-digo-diego/:0:0","tags":["Debian GNU/Linux","Docker"],"title":"Donde digo dije, digo Diego","uri":"/2023-04-29-donde-dije-digo-digo-diego/"},{"categories":["Debian GNU/Linux"],"content":"Tal como habia indicado en este post, explica como empece usar watchtower pero con resultados muy extra√±os. En principio, parecia que funciona la primera despu√©s de indicarle que trabajara en el modo bridge con respecto a la red, o lo que es lo mismo, que se conecte a la red donde estan el resto de contenedores. Pero despu√©s de esa primera vez, no habia vuelto a funcionar de ninguna manera. Me puse a investigar a ver que era lo que estaba pasando, porque si revisaba el log de watchtower veia todo el rato que escaneados=0; actualizados=0; fallos=0 o sea, que no encontraba ning√∫n contenedor y eso que estaba en la misma red. Pregunte en el canal de atareao.es a ver si me podian dar alguna pista, pero no sabian de donde podia venir el problema. Al final, cansado, desisti de usarlo porque no conseguia mi proposito y estaba gastando recursos del servidor inutilmente. Asi mismo, vi, que en docker-hub te aconsejaban que mejor que watchtower era usar diun. Y me puse con ello. Despu√©s de la configuraci√≥n y lanzamiento parecia que me encontraba los contenedores y que buscaba (hay que matizar, que diun solamente te informa de los contenedores que tendrias que actualizar, no actualiza). Todo parecia que iba bien, y lo unico que me faltaba era la parte de la notificaci√≥n. Lo configure a traves de telegram, pero sin ningun resultado. Y eso que habia encontrado sitios donde te indicaban como hacerlo. En todos los sitios, te aconsejaban que lo mejor, era tener un fichero dentro del directorio de configuraci√≥n de diun con todas las opciones importates incluido el token y el chat_id de tu canal de telegram. Pero en mi caso, sin ning√∫n resultado. Ya no sabia que hacer, watchtower que no me funciona y ahora diun tampoco. O soy yo que tengo un problema o mi servidor tiene el problema. Y vuelta a empezar. Hasta que he encontrado una pagina web con una configuraci√≥n de watchtower que tenia buena pinta y la probe. Que podia salir mal: watchtower: image: containrrr/watchtower hostname: SERVER_NAME container_name: watchtower restart: unless-stopped volumes: - '/var/run/docker.sock:/var/run/docker.sock' environment: - TZ=Europe/Andorra - WATCHTOWER_LIFECYCLE_HOOKS=True - WATCHTOWER_NOTIFICATIONS=shoutrrr - WATCHTOWER_NOTIFICATION_URL=telegram://BOT_TOKEN@telegram/?channels=CHAT_ID - WATCHTOWER_DEBUG=true - WATCHTOWER_CLEANUP=true - WATCHTOWER_SCHEDULE=@daily Entonces me he llevado una sorpresa, porque todo empezo a funcionar correctamente. Me actualizo todos los contenedores que tenian el label de watchtower activado. Volvemos a estar como en el principio, parece que todo funciona correctamente, pero esta vez, tiene mejor pinta. Como siempre, seguiremos investigando a ver si esta vez es la definitiva. Referencia Watchtower and Telegram notifications Get Docker Images and Containers Updates Notifications ","date":"19-02-2023","objectID":"/2023-02-19-actualizacion-watchtower/:0:0","tags":["Debian GNU/Linux","Docker"],"title":"Cambiando watchtower por diun y vuelta a watchtower","uri":"/2023-02-19-actualizacion-watchtower/"},{"categories":["Docker"],"content":"Desde que di el salto de wordpress a Github, lo m√°s logico, si mi profesion, pasion hace referencia a la tecnologia y que tambien influyo que wordpress empezaba a tener muchos problemas con la creaci√≥n y gesti√≥n del blog. Todo empezo a mediados del 2021 cuando cada vez tenia m√°s problemas a la hora de crear articulos y subirlos a wordpress, aunque ahora le estoy dado otro uso, asi que me puse a investigar y la mayoria de personas a las que sigo, lo tienen alojado en Github o Gitlab. Investigue que diferencia habia entre los dos, pero no encontre ninguna a nivel de uso personal, asi que lance la moneda al aire y salio Github, me puse a ello. Despu√©s de investigar me cree mi repositorio. Al principio me costo mucho entender como funciona Github, para que os hagais una idea, me las tuve y desee para crear mi primer repositorio, era dar un pasito hacia adelante y dos hacia atras, si lo reconozco, no he leido la documentaci√≥n del funcionamiento y uso de Github, pero bueno, creo que asi he aprendido mucho m√°s. Porque he tenido que aprender a lo bestia y descubrir las cosas que te puede ofrecer Github poco a poco. Y no me ha parecido mal. Mis progresos han sido lentos, porque todo lo que hacia era la primera vez, e iba m√°s a prueba y error y volver a repetir hasta que entendia lo que pasaba. Despu√©s de tener mi repositorio personal, fue tener en mi repositorio todos los ficheros del tema que iba a usar e ir subiendo o creando los ficheros markdown y ponerlos en donde indicaba la documentaci√≥n del tema si entender bien que pasaba. Despu√©s entendi lo que hacia Github, que era compilar (si se le puede decir asi) los archivos markdown y generar automaticamente el fichero html, segui investigando a ver si eso se podia hacer en local y resulto que si que se podia hacer, pero claro, para hacer eso, necesitabas tener un servidor Jekyll para que se realizase la compilaci√≥n y solamente tener que subir los ficheros compilados y tener en mi poder, el codigo fuente del blog. Sigo pensando que no me equivoque, porque gracias a ello, aprendi como crear un docker (mi primer docker). Era un Docker que tiene un servidor jekyll para poder realizar las compilaciones de los markdown. Tambien tengo que decir que no funciona muy bien, pero bueno, como primera experiencia en crear un docker, no me fue mal, porque entiendi mejor como funcionan los docker. Cuando vi que la cosa no funcionaba correctamente, la idea era interesante, pero el resultado no era muy satisfactorio, me puse a buscar un docker ya creado y que fuera mejor que el mio. Y di con el. Su autor es bretfisher, tengo que informar que es un poco lioso de usar, porque tiene 2 contenedores: Jekyll Jekyll-serve El unico que te tiene que importar es es el contenedor que hacer de jekyll-serve. La configuraci√≥n que tengo para usar la imagen de docker es la siguiente: jekyll: image: bretfisher/jekyll-serve container_name: jekyll # port d'access a traves de la web ports: - 4000:4000 # on esta el codi font del blog volumes: - ../blog:/site Cuando ya tenia este contenedor en marcha, ya pude empezar con la creaci√≥n de mis articulos y es aqui, despu√©s de esta peque√±a historia, donde explico la idea principal de este articulo. Unir Jekyll, Mastodon y Github y todo lo que me podia ofrecer este ultimo y una de estas posibilidades es la de publicar mis articulos a traves de un bot. Pero lo que echaba de menos, porque no se veia ninguna imagen en la publicaci√≥n en Mastodon, cuando lei uno de los toots de Carlos M de elBlogdeLazaro, que sigo y que me ha dado el punto de inicio por donde empezar, se podia visualizar una imagen, o mejor dicho, el logo de su web. Yo queria hacer lo mismo, pero no encontraba ninguna informaci√≥n donde se explicase como se tenia que hacer o como configurar Mastodon, despu√©s descubri que las modificaciones necesarias las tenia que hacer en los archivos de mi blog, y gracias a una pista que, como ya he dicho, me dio Carlos. M conseguir descubrir como hacerlo. La pista fue (Lazaro usa Hug","date":"13-02-2023","objectID":"/2023-02-13-jekyll-muy-configurable/:0:0","tags":["Docker","Blog"],"title":"Mastodon, Jekyll y Github. Una combinaci√≥n perfecta.","uri":"/2023-02-13-jekyll-muy-configurable/"},{"categories":["Debian GNU/Linux"],"content":"Si quieres echarle la culpa tendreis que mirar a Angel de uGeek, a Lorenzo de Atareao.es y por ultimo a Carlos M. de ElBlogdeLazaro porque ellos son los culpables de todas las mejoras o modificaciones que le estoy haciendo a mi servidor y esta que voy a explicar a continuaci√≥n watchtower es una de ellas üòâ No voy a explicar que hace esta aplicaci√≥n, porque si leeis los articulos que uGeek, Lorenzo o Lazaro, estaran mejor explicadas, pero en pocas palabras, te mantiene actualizado todos los contenedores de docker, siempre que le actives el label para que watchtower los tenga en cuenta. Eso si, hay que tener en cuenta que si no piensas bien que contenedores quieres que te actualize puedes liar un caos en tu servidor que puede ser de ordago. Un ejemplo de este caos (yo de momento no tengo activada su auto-actualizaci√≥) es el proxy inverso (caddy), porque imaginate que se actualiza, pero da un error y ya no puedes acceder a tus servicios desde el exterior. Por eso, en mi caso pienso bien que contenedores quiero que se actualizen automaticamente. Eso si, os voy a poner mi docker-compose.yml que uso para la instalaci√≥n de watchtower. Tener en cuenta que es una recopilaci√≥n de todos los ficheros de configuraci√≥n que he visto para su instalaci√≥n. watchtower: image: containrrr/watchtower:latest container_name: watchtower restart: unless-stopped volumes: - /var/run/docker.sock:/var/run/docker.sock environment: - WATCHTOWER_LABEL_ENABLE=true - WATCHTOWER_CLEANUP=true - WATCHTOWER_INCLUDE_RESTARTING=true - WATCHTOWER_INCLUDE_STOPPED=true - WATCHTOWER_REVIVE_STOPPED=false - WATCHTOWER_NO_RESTART=false - WATCHTOWER_TIMEOUT=\"30s\" # AQUESTA OPCI√ì LA TINC DESACTIVADA, PERQUE TINC DUBTES DE QUE FUNCIONI CORRECTAMENT, ENCARA QUE EL LOG DONAR CONSTANCIA DE QUE SI #- WATCHTOWER_SCHEDULE=0 0 4 * * * # L'HE SUBSTITUIT PER AQUESTA - WATCHTOWER_POLL_INTERVAL=86400 - WATCHTOWER_NOTIFICATION_URL=telegram://token_telegram@telegram/?channels=id_canal - WATCHTOWER_NOTIFICATIONS_HOSTNAME=nombreServidor #WATCHTOWER_NOTIFICATIONS: gotify #WATCHTOWER_NOTIFICATION_GOTIFY_URL: https://gotify.tuservidor.es #WATCHTOWER_NOTIFICATION_GOTIFY_TOKEN: AAAAAAAAAAAAAAA - WATCHTOWER_DEBUG=true - TZ=Europe/Madrid Al principio, watchtower no me funcionaba correctamente, en pocas palabras no funcionaba ni hacia nada. As√≠ que me toco investigar que podia ser y al final despu√©s de mucho buscar, vi que me faltaba informar de en que red iba a trabajar el contenedor. Esto se configura de la siguiente manera: network_mode: bridge Tambien hay que tener en cuenta, que para informar a watchtower de los contenedores que queremos que vigile por si tiene alguna actualizaci√≥n es de la siguiente manera (tener en cuenta, que tiene que estar en todos los contenedores que queremos sean controlados): labels: - com.centurylinklabs.watchtower.enable=\"true\" En teoria ya tendria que funcionar. Al principio no parece que funcionaba y estaba con la mosca detras de la oreja, porque no me actualizada nada. Asi que le puse que se ejecutara cada minuto y al final, a partir de que configure correctamente la red empezo a funcionar, me actualizo un par de contenedores y asi quedo. Se actualizo y desde entonces, no ha vuelto a actualizar ning√∫n contenedor m√°s. Y es la duda que tengo, no se si es porque no hay ninguna actualizaci√≥n o porque no esta funcionando correctamente. Seguire observando si funciona correctamente. Referencia Atareao.es - Watchtower ElBlogdeLazaro - Watchtower, 1 parte ElBlogdeLazaro - Watchtower, 2 parte uGeek - Watchtower ","date":"25-01-2023","objectID":"/2023-01-25-usando-watchtower/:0:0","tags":["Debian GNU/Linux","Docker"],"title":"Usando Watchtower","uri":"/2023-01-25-usando-watchtower/"},{"categories":["Hardware"],"content":"A trav√©s de este podcast que escuche hace alg√∫n tiempo, siempre me quedo el gusanito de tener uno, y eso que estoy muy contento con mi Lenovo Ideapad Y700, pero siempre me quedo esa espina clavada‚Ä¶ A parte de que tambi√©n me apunte a este canal de Thinkpads de telegram y eso ya fue lo definitivo. Te tengo que avisar de que si a mi me llaman friki, los que forman parte de este canal lo son a un nivel que no te lo puedes imaginar, para que ve√≠ais que nivel tienen, hay miembros de este canal que tienen casi todos los modelos de Thinkpads habidos y por haber solo por el mero hecho de tenerlos üò≤ Algunos si que los utilizan, pero no todos. Ya me veis a leyendo todo lo que van diciendo y con unas ganas cada vez m√°s grandes de tener uno, aunque solo fuera para tenerlo. Y aqu√≠ es donde empez√≥ todo‚Ä¶ Pregunte, cual era el modelo m√°s famoso, el m√°s llamativo o el m√°s iconico de los que hab√≠a disponibles y me dijeron que si lo que te gusta es cacharrear, el mejor era el Thinkpad T440p. ThinkPad T440p Ah√≠ me ten√©is, comprando a un compa√±ero del canal un T440p con las siguientes caracter√≠sticas: CPU: i7 4700mq RAM: 16Gb (2x8Gb) SSD 256Gb El panel no le funciona Con el cargador Sin bater√≠a Y le faltaba una tecla. La pantalla estaba rota y sin bater√≠a, pero como hay tanto material para este port√°til, pues no hab√≠a problema y a el que me fui. Cuando me llego, la sensaci√≥n fue impresionante, unos acabados, no se, un todo. Lo conecte a un monitor y funcionaba perfectamente y con identificativo logo de Thinkpad al inicio. Ahora solamente faltaba solucionar el problema de la pantalla, donde pensaba que ser√≠a lo m√°s dif√≠cil. Pero la realidad es que fue m√°s facil de lo que yo me pensaba. Es muy f√°cil cambiar cualquier cosa en este port√°til. Para que os hag√°is una idea, nada m√°s llegar, le desmonte el SSD, la CPU (para su limpieza y nueva pasta t√©rmica, limpieza del ventilador, limpieza del teclado. Este ordenador parece un mecano. Se puede desmontar todo, pero todo. Con respecto al panel que no me funcionaba, volv√≠ a pedir ayuda en el canal y me aconsejaron que ya que lo ten√≠a, pod√≠a hacerle un par m√°s de modificaciones que son: Panel T440p Panel t√°ctil T440p aunque a la hora de su instalaci√≥n, con Windows hay muchos problemas, porque no coge el driver correctamente, pero como le iba a instalar GNU/Linux, pues no me preocupaba. Cuando me llego todo el material, como digo, el port√°til, se puede desmontar f√°cilmente, le substitui la pantalla sin ning√∫n problema y eso que al principio te da un poco de respeto, pero cuando ves que la construcci√≥n del equipo est√° hecha para que todo sea f√°cil de cambiar y substituir pues, el nerviosismo desaparece. Despu√©s de todo est√° substituci√≥n, ya ten√≠a un nuevo Thinkpad T440p como nuevo (aun me falta la bater√≠a), pero como iba a estar conectado a la corriente, pues, aunque me gustar√≠a conseguir una bateria para tener el modelo completo‚Ä¶ Adem√°s, en el canal, un compa√±ero que hab√≠a comprado un teclado para este modelo, porque ten√≠a un par de teclas rotas en su portatil y como le sobraban el resto, pues le ped√≠ si me podia facilitar la que me faltaba a mi, y no hubo ning√∫n problema y adem√°s, como ya he comentado antes, todo en este port√°til es f√°cilmente desmontable, incluidas las teclas y el teclado. Si buscas informaci√≥n de este modelo, mucha gente aun lo usa, 2023, porque es muy vers√°til y se le pueden hacer muchas modificaciones. Una de ellas y la que me ha dejado m√°s sorprendido ha sido la que se puede ver aqu√≠ donde le ponen una CPU que con solo ver las especificaciones te tira para atras. Tambi√©n he visto gente, que ha llegado a decir que le hab√≠a puesto un Xeon a este port√°til, cambio de la BIOS por una BIOS libre (Coreboot), o se la modifican, para liberarla y que puedan usar diferente hardware (sobre todo tarjetas Wi-Fi), que por defecto estan bloqueadas. Lo que yo digo, lo que no se puede hacer con este portatil, es que no se puede. No lo intentes porque a lo mejor lo estropeas. Hasta aqu√≠ hemos llegado con m","date":"23-01-2023","objectID":"/2023-01-19-mis-nuevos-juguetes/:0:0","tags":["Hardware","Thinkpads"],"title":"Mis nuevos juguetes","uri":"/2023-01-19-mis-nuevos-juguetes/"},{"categories":["i3wm"],"content":"Despu√©s de mucho tiempo usando i3-wm, estaba constantemente, cambiando de wallpaper (seguramente ha m√°s de uno le pasa), pense que habria alguna manera de hacer que cada X tiempo, el wallpaper que estoy utilizando cambiara automaticamente, de los que tengo en el directorio donde los guardo. As√≠ que me puse a la busqueda de como se puede hacer. Encontre unas cuantas maneras de hacer lo que yo queria : Primer script Segundo script Yo me quede con la idea del segundo script, aunque le a√±adi la posibilidad de enviar notificaciones al escritorio de los cambios de fondos de pantalla a trav√©s del notify-send. #!/usr/bin/bash shopt -s nullglob if [[ -z $(which feh) ]]; then echo \"wallpaper err: Can not found command feh.\" \u003e ~/i3wm-wallpaper.err exit 127 fi # DIRECTORI ON ESTAN ELS FONTS DE PANTALLA path=~/.config/wallpapers # TEMPS / INTERVAL ENTRE ELS CANVIS DE FONS DE PANTALLA interval=59m # INICI DE L'SCRIPT cd $path # INICIEM EL BUCLE DE L'SCRIPT while true do files=() for i in *.jpg *.png; do [[ -f $i ]] \u0026\u0026 files+=(\"$i\") done range=${#files[@]} CURRENT_WALLPAPER=\"${files[RANDOM % range]}\" CURRENT_IMAGE=$path\"/\"$CURRENT_WALLPAPER ((range)) \u0026\u0026 feh --bg-scale $CURRENT_WALLPAPER # # ENVIEM LA NOTIFICACI√ì AL SISTEMA, PERQUE ES VEGI PER PANTALLA # notify-send -i \"$CURRENT_IMAGE\" 'Desktop Changed' $(basename -- \"$CURRENT_WALLPAPER\") sleep $interval done El script en esencia es muy simple. Lo unico que hace, es poner en un array todos los archivos del directorio que le indicas donde estaran las imagenes (wallpapers) para que cada X minutos (interval) que le hayas configurado haga el cambio de fondo de pantalla y que te notifique (notify-send) de dicho cambio, se necesita el paquete libnotify-bin para que te avise del cambio. Lo unico que queda, es configurar el fichero de configuraci√≥n de i3-wm para que : Haga la carga inicial del wallpaper Inicie el script del cambio de wallpaper, que a su vez, tomara el control y que cada X tiempo (segun tengas configurado) ira realizando el cambio de fondo de pantalla. Para que funcione, tienes que a√±adir lo siguiente en el fichero de configuraci√≥n: # PARA VISUALIZAR EL FONDO DE PANTALLA exec_always --no-startup-id feh --bg-scale --no-fehbg ~/.config/wallpapers/Wallpaper_10.jpg # AQUI ES CONFIGURA EL CANVI AUTOMATIC DEL WALLPAPER exec --no-startup-id ~/.config/i3/scripts/wallpaper.sh \u0026 La otra modificaci√≥n que he realizado, ha sido la de que en la barra de i3-wm (i3block) me informe de los paquetes que se tienen que actualizar, era una informaci√≥n que me gustaba tener y despu√©s de mucho buscar, encontr√© el comando / instrucci√≥n que me daba lo que necesitada. Lo primero, necesitas el script apt-upgrades y descargarlo en alg√∫n sitio desde donde puedas tener acceso. En mi caso, lo he dejado en el directorio del i3-wm/script, que es donde tengo todos los scripts que uso para i3-wm. El script en cuesti√≥n (tener en cuenta que depende de aptitude) hace lo siguiente : #!/usr/bin/env bash # # Copyright (C) 2015 James Murphy # Licensed under the terms of the GNU GPL v2 only. # # i3blocks blocklet script to display pending system upgrades # FontAwesome refresh symbol, change if you do not want to install FontAwesome #PENDING_SYMBOL=${PENDING_SYMBOL:-\"\\uf021 \"} PENDING_SYMBOL=${PENDING_SYMBOL:-\"\"} # By default, show both the symbol and the numbers SYMBOL_ONLY=${SYMBOL_ONLY:-0} # By default, show something when no upgrades are pending ALWAYS_PRINT=${ALWAYS_PRINT:-1} # Colors for when there is/isn't a pending upgrade PENDING_COLOR=${PENDING_COLOR:-\"#FF0000\"} NONPENDING_COLOR=${NONPENDING_COLOR:-\"#FFFFFF\"} while getopts s:oc:n:Nh opt; do case \"$opt\" in s) PENDING_SYMBOL=\"$OPTARG\" ;; o) SYMBOL_ONLY=1 ;; c) PENDING_COLOR=\"$OPTARG\" ;; n) NONPENDING_COLOR=\"$OPTARG\" ;; N) ALWAYS_PRINT=0 ;; h) printf \\ \"Usage: apt-upgrades [-s pending_symbol] [-o] [-c pending_color] [-N|-n nonpending_color] [-h] Options: -s\\tSpecify a refresh symbol. Default: \\\"\\\\\\\\uf021 \\\" -o\\tShow refresh symbol only, but no numbers. -c\\tColor when upgr","date":"13-01-2023","objectID":"/2023-01-13-mejoras-i3/:0:0","tags":["i3wm","Debian GNU/Linux"],"title":"Mejoras en mi escritorio (i3-wm)","uri":"/2023-01-13-mejoras-i3/"},{"categories":["Hardware"],"content":"Desde hace un par de dias, no se si desde que actualize la BIOS al portatil (Lenovo Ideapad Y700 17ISK, versi√≥n CDCN54WW), y me ha pasado una cosa muy extra√±a. El teclado en el momento de iniciarse el sistema ha dejado de funcionar. As√≠ de repente, el teclado ha dejado de funcionar, sin raz√≥n aparente, pero tambi√©n con un funcionamiento raro, porque las teclas de funci√≥n (F1, etc‚Ä¶) si que funcionaban o hacer un ctrl+alt+sup tambi√©n funcionaba. Tambi√©n pod√≠a acceder a la BIOS (en mi caso con F2), pero luego no pod√≠a desplazarme por las diferentes secciones de la BIOS ni tampoco seleccionar en GRUB el otro sistema operativo que uso (Windows 10). Pero lo m√°s extra√±o (si es que puede haber algo extra√±o en todo esto) es que una vez que se cargaba el sistema operativo (tanto GNU/Linux como Windows) el teclado funcionaba correctamente y sin ning√∫n problema. Buscando por internet, lo √∫nico que encontraba, eran mensajes que hac√≠an referencia a que una de las ultimas actualizaciones de la BIOS hab√≠a producido este fallo, aunque tambi√©n hab√≠an otros mensajes que dec√≠an, que el problema venia motivado por la bater√≠a, pero no tenia sentido, porque nunca hab√≠a tenido anteriormente este problema hasta la actualizaci√≥n de la BIOS a la ultima versi√≥n. As√≠ que lo √∫nico que, en mi caso, pod√≠a motivar este funcionamiento incorrecto del teclado, era la actualizaci√≥n de la BIOS. Despu√©s de buscar versiones anteriores de la BIOS de mi portatil, Lenovo no lo pone nada f√°cil para encontrar los archivos, encontr√© una versi√≥n anterior a la que tenia instalada (CDCN53WW). Lo √∫nico que me faltaba era poder acceder a Windows, pero tambi√©n era extra√±o, con un teclado USB pod√≠a desplazarme por la BIOS y seleccionar el otro SO que tengo instalado. Inicie el downgrade de mi versi√≥n de BIOS a una anterior. Parece que el problema se ha solucionado, porque de momento, no he vuelto a tener ningun problema con el teclado, puedo seleccionar correctamente el Sistema Operativo al que quiero acceder, as√≠ como puedo moverme por los diferentes apartados de la BIOS. No se, una cosa muy extra√±a que me ha pasado, y no se si es un mensaje subliminal del portatil de que esta llegando a las ultimas. Espero que no sea as√≠, porque lo he tenido durante muchos a√±os con un resultado excelente, pero no me gustar√≠a perderlo, aunque si llega el d√≠a que tenga que deshacerme de el, tengo un par de substitutos en la recamara (que de eso tengo que hacer otro articulo). Referencia Foro Lenovo ","date":"12-01-2023","objectID":"/2023-01-12-problemas-y700-17isk/:0:0","tags":["Hardware"],"title":"Funcionamiento extra√±o con mi portatil (Ideapad Y700 - 17ISK)","uri":"/2023-01-12-problemas-y700-17isk/"},{"categories":["Debian GNU/Linux"],"content":"Tal como explique en este articulo creando tu propio servidor de musica cuando tienes un servidor en tu casa, empiezas a tener ideas locas de que podrias hacer con el. Pero despu√©s de mucho probar (siguiente la estela de uGeek) creo que llegas al mismo punto (pero m√°s lento). Si ya venia usando (en mi caso) Jellyfin que te permite tambien tener ordenado y listado toda la musica, porque no usarlo tambien y asi substituir Gonic o Navidrome. Es lo que he hecho, a parte de a√±adir un plugin nuevo siguiendo el consejo de uGeek y asi poder cambiar el tema al que m√°s te guste y tambien puede a√±adir el plugin de LastFm para que asi, tener m√°s informaci√≥n sobre la musica que estas escuchando, que no consigo que funcione correctamente y tampoco hay mucha informaci√≥n en inet para saber el motivo. A parte, como es mi caso, escucho la musica en el movil y tenia que buscar una nueva aplicaci√≥n para ello, y como no, siempre uGeek viene en mi ayuda, aqui te aconseja una nueva aplicaci√≥n (que la verdad que tiene muy buena pinta) para asi conectar con el servidor de Jellyfin y poder escuchar tu musica sin ningun problema. Tambien escucho musica en mi portatil personal a traves de Sonixd, que es una aplicaci√≥n (en mi caso, como no esta nativa en Debian GNU/Linux, la uso como appImage) y que ya venia usando de antes del cambio, porque funcionaba correctamente con Gonic y cuando vi que tambien se podia usar con Jellyfin pues fue un punto m√°s a favor del cambio, y lo m√°s fuerte, es que luego, veo que uGeek tambien tiene un articulo explicando un poco el funcionamiento de esta aplicaci√≥n. Asi que de momento, estoy en este punto, he quitado el servidor Gonic que venia usando y ahora estoy con Jellyfin para todo. Casi como si fuera una navaja suiza. Referencia Jellyfin como servidor de musica A√±adir repositorios a Jellyfin Notas Manjarim etc‚Ä¶ Sonixd ","date":"31-12-2022","objectID":"/2022-12-31-rpi-spotity/:0:0","tags":["Debian GNU/Linux","Docker"],"title":"Creando tu propi Spotify privado - Annexo","uri":"/2022-12-31-rpi-spotity/"},{"categories":["Debian GNU/Linux"],"content":"Como ya sabreis, anteriormente usaba Nginx Proxy Manager porque habia tenido muchos problemas con Caddy, no se de donde venian estos problemas, si de Caddy o de duckdns.org, asi que hice el cambio a npm para los amigos. Aqui vuelvo a estar de nuevo. Hice el cambio, pero habia una cosa que no me acababa de gustar, el tener la URL de mis servicios, no se como llamarlos, no bonitos, no oficiales? Cuando me refiero a URL no bonitas, me refiero al tipo https://music-miservidor.duckdns,.org, como que no quedan muy legales, porque me gustan m√°s, las de toda la vida https://music.miservidor.duckdns.org que son las normalizadas. Pero todo cambio, cuando vi un nuevo articulo de uGeek, donde comentaba, que se podian crear usuarios y passwords en Caddy decidi volver a probar a ver si esta vez tenia m√°s suerte. Asi que me puse al lio, volvi a poner la configuraci√≥n recomendada de Caddy en mi servidor de Docker y a ver si esta vez teniamos m√°s suerte: Parece que si que tenemos suerte, porque de momento todo esta funcionando correctamente y encima con el certificado de Let‚Äôs Encrypt. Esperemos que esta vez dure m√°s mi aventura con Caddy. Referencia Usando Caddy Usuarios en Caddy Let‚Äôs Encrypt ","date":"25-12-2022","objectID":"/2022-12-25-rpi-caddy-proxy-manager/:0:0","tags":["Debian GNU/Linux","Docker"],"title":"Volviendo a Caddy desde Nginx Proxy Manager","uri":"/2022-12-25-rpi-caddy-proxy-manager/"},{"categories":["Neovim"],"content":"Cansado un poco de tener que siempre usar editores faciles (estilo mousepad) o que dejaban de tener soporte (Atom) y que adem√°s no me hacian la vida facil para integrarse con GitHub, intente buscar un nuevo editor que lo tuviera todo y mirando los videos de Atareao me fije en que tenia una guia de instalaci√≥n y de uso de Neovim, clonico de Vim, y me puse con ello. Porque una de mis ilusiones, era saber utilizar y poder sacarle todo el partido a Vim, pero por falta de tiempo o ganas, nunca me habia puesto, pero gracias a los videos de Atareao me entro el gusanillo y ‚Ä¶ Para empezar, Lorenzo tiene una excelente guia para iniciarse y usarlo donde todo esta muy bien explicado (aunque aun tengo algunas dudas para aclarar), pero para un uso sencillo y sin muchas complicaciones tienes m√°s que suficiente, si quieres m√°s, ahi es donde tu, tienes que ponerte a investigar con m√°s intensidad. Para que te hagas una idea, todo lo podeis leer a partir del articulo de Publicar feed en Mastodon todo lo estoy escribiendo con Neovim y me parece que me voy a quedar en el, porque tal como lo tengo, y eso, que aun tengo algunas cosas que pulir, me parece perfecto la funcionalidad que tiene. Yo no voy a explicar todos los pasos que tienes que hacer para instalarlo y su posterior configuraci√≥n, porque eso mirando los videos de atareao.es lo puede hacer tu solo, pero lo que si que voy a poner, son mis ficheros de configuraci√≥n que estoy utilizando actualmente (aunque tambien los podeis encontrar en mis dot_files), que a lo mejor te pueden servir de ayuda. La estructura de ficheros para la configuraci√≥n de Neovim es de la siguiente manera: nvim lua plugins: Donde tenemos las configuraciones de todos los plugins que usamos packer.lua: Fichero donde se definen los plugins que se van a cargar (de donde los tiene que conseguir) asi como la configuraci√≥n que van a tener settings.lua: Opciones de configuraci√≥n general de neovim keymaps.lua: Configuraci√≥n de las opciones de teclado de neovim spell: Donde tenemos todos los archivos de idiomas que usamos templates: Los templates / plantillas que usamos init.lua: Fichero de inicio de neovim junto con los plugins que se van a utilizar:w init.lua --[[ ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ïê‚ïê‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïù Neovim init file Version: 0.8.1 - 2022/11/14 Maintainer: Vctrsnts Website: https://vctrsnts.github.io Referencia: https://github.com/brainfucksec/neovim-lua --]] ---------------------------------------------------------------------------------------------------- -- Import Lua Modules ---------------------------------------------------------------------------------------------------- require('settings') -- Fitxer dels Settings require('keymaps') -- Fitxer de la configuraci√≥ del teclat ---------------------------------------------------------------------------------------------------- -- Comen√ßa la carrega de plugins ---------------------------------------------------------------------------------------------------- require('plugins/packer') -- Gestor de Plugins require('plugins/autosave') -- Plugin per a realitzar el AutoSave require('plugins/ayu') -- Color Theme require('plugins/neo-tree') -- filebrowser require('plugins/feline') -- statusline settings.lua ---------------------------------------------------------------------------------------------------- -- Neovim API Aliases ---------------------------------------------------------------------------------------------------- local cmd = vim.cmd local exec = vim.api.nvim_exec local fn = vim.fn local g = vim.g local opt = vim.opt ---------------------------------------------------------------------------------------------------- -- Configuraci√≥ General ---------------------------------------------------------------------------------------------------- g.maplead","date":"19-12-2022","objectID":"/2022-12-19-cambiando-de-editor-neovim/:0:0","tags":["Neovim","Debian GNU/Linux"],"title":"Cambiando de editor. Neovim","uri":"/2022-12-19-cambiando-de-editor-neovim/"},{"categories":["GitHub"],"content":"Buscando maneras de facilitarme el trabajo con GitHub que es donde tengo alojada mi web (m√°s bien son mis projectos, apuntes y cosas por es estilo) porque para subir cualquier cosa a GitHub era una tocada de huevos en mi caso. As√≠ que me puse a buscar algun script para ayudarme a realizar las actualizaciones de mis repositorios en Git, y despu√©s de mucho buscar, al final lo encontre. Es el siguiente que pongo a continuaci√≥n #!/bin/bash # Actualitzar rapidament el teu repositori de Git # (CC) 2011 Alfonso Saavedra \"Son Link\" # http://sonlinkblog.blogspot.com # Bajo licencia GNU/GPL # up2Git.sh \u003cficheros\u003e # Comprovem si el directori en el que estem, es un repositori de Git if [ ! -d '.git' ]; then echo 'Aquest directori no conte un repositori de Git' exit -1 fi # Ara validem i l'hi hem passat algun parametre if [ $# == 0 ]; then echo \"Up2Git: ¬°Error! No l'hi has passat cap parametre\" echo \"up2Git fitxer_1 fitxer_2 ... fitxer_N\" exit -1 else # Revisem els parametres per validar si son fitxers o directori for file in $*; do if [ ! -e $file ]; then echo \"Up2Git: L'arxiu o directori $file no existeix\" exit -1 fi done # Si hem arribat fins aqui, informem a Git dels arxius a pujar git add $* # Aixo ens demana el missatge del commit echo \"Informi del missatge del commit:\" read TXT git commit -m \"$TXT\" # i finalitzem pujant els arxius git push origin master fi Para usarlo, en mi caso, lo hago de la siguiente manera : usuari@debian:~$ bash up2Git.sh . El script es de Alfonso Saavedra a el todo mi agradecimiento, por facilitarme el tener mis repositorios de GitHub actualizados. Referencia Son Link Script ","date":"22-11-2022","objectID":"/2022-11-22-script-update-git/:0:0","tags":["GitHub","Debian GNU/Linux"],"title":"Script para actualizar tu GitHub","uri":"/2022-11-22-script-update-git/"},{"categories":["Python"],"content":"Descubri a traves del Blog de Lazaro, que si tienes cuenta en Mastodon, quien no tiene cuenta ahora tal como van las cosas en Twitter, que puedes enviar de forma aleatoria alguno de los articulos que tienes publicados en tu web. Asi que despu√©s de leer su articulo y ver si yo podia hacer lo mismo, me lie la manta a la cabeza y al lio. Lo primero, es tener una cuenta y despu√©s tienes que crear un aplicaci√≥n en Mastodon de igual forma que se puede crear en Twitter (explicaci√≥n m√°s adelante ). Aprovechando que en el servidor ya tengo Python instalado, hare que se ejecute en el mismo servidor. Eso si, tambi√©n tienes que instalar: usuari@debian:~$ pip install --user feedparser mastodon Para que Python pueda realizar el tratamiento del fichero xml. Una vez que ya tienes la aplicaci√≥n creada, tienes que crear un fichero en Python que tiene que tener la siguiente estructura: #!/usr/bin/env python # -*- coding: utf-8 -*- # el fitxer original es de Carlos M. (https://elblogdelazaro.org ) # Tens que tindre instalats les llibreries feedparser, Mastodon # Realitzem la crida als moduls de Python import feedparser import random from mastodon import Mastodon # Reallitzem la crida a les claus del Diccionari CUSTOMER_KEY = 'xxxxxxxxxxxxxxx' CUSTOMER_SECRET = 'xxxxxxxxxxxxxxxxx' ACCESS_TOKEN = 'xxxxxxxxxxxx' ACCESS_TOKEN_SECRET = 'xxxxxxxxxxxxxxxxxxx' # Informem de l'adre√ßa del feed feed = 'tu direcci√≥n web hacia el feed.xml' # Descodifiquem el feed (arxiu XML) d = feedparser.parse(feed) # Obtenim la longitud del feed i aleatoriament seleccionem un article feedlen = len(d['entries']) num = random.randint(0, feedlen) # Iniciem l'API de Mastodon, i escribim l'estat status_text = d['entries'][num]['title'] + '\\n' + d['entries'][num]['link'] articulo = (\"Recordando art√≠culos publicados:\" + '\\n' + status_text) # Token y url de la Instancia mastodon = Mastodon( access_token = 'XXXXXXXXXXXXXXXXXXXXXXX', api_base_url = 'https://mastodon.online/' ) # Publiquem a Mastodon mastodon.status_post(articulo) Lo que tienes que tener en cuenta, es informar correctamente de: CUSTOMER_KEY CUSTOMER_SECRET ACCESS_TOKEN ACCESS_TOKEN_SECRET feed Una vez, tengas el fichero creado, si quieres hacer pruebas, tienes que hacerlo de la siguiente manera : usuari@debian:~$ python3 nombreDelArchivo.py Entonces, si no has tenido ningun problema, a tu cuenta de Mastodon te llegara un articulo aleatorio de tu web. Despu√©s de hacer las pruebas que creas oportunas, solo te quedara configurar el cron, para que se ejecute cuando tu quieras. Yo lo tengo a que lo haga una vez a la semana, pero me estoy replanteando cambiarlo a que lo haga 3 veces por semana, porque a veces, a√±ado articulos, que a lo mejor cuestan mucho a que salgan. Se que hay otro script, que lo que hace es publicar los ultimos articulos creados. Pero eso lo tengo que estudiar. Tambi√©n tengo en cuenta, que si lo hago 3 veces a la semana (publicar toot) creare muchos mensajes, pero lo que tambi√©n se puede hacer, es configurar Mastodon, para que elimine todos los toot con m√°s de 6 meses de antig√ºedad (o menos). Para la configuraci√≥n del CRON lo tengo de la siguiente manera: @weekly /usr/bin/python3 /home/tu_usuario/lugar_donde_tengas_el_script/botMastodonPythonRss.py En el caso de que lo quisieras hacer funcionar en Twitter tienes que tener en cuenta las siguientes modificaciones al archivo de Python: # En vez de usar la libreria \"Mastodon\" de Python, tienes que usar \"Twython\" from twython import Twython api = Twython(CONSUMER_KEY,CONSUMER_SECRET,ACCESS_KEY,ACCESS_SECRET) Luego, solamente tienes que a√±adir la siguiente linea para publicar el articulo en Twitter: api.update_status(status=articulo) Espero que te sirva tanto como me ha servido a mi. Y eso si, no se te olvide darle las gracias a Carlos M por el increible articulo en que me he basado yo. Referencia Script de Python ","date":"14-11-2022","objectID":"/2022-11-14-publicar-feed-mastodon/:0:0","tags":["Python","Debian GNU/Linux"],"title":"Publicar feed en Mastodon / Twitter","uri":"/2022-11-14-publicar-feed-mastodon/"},{"categories":["Hardware"],"content":"Como ya mencione en al articulo que hablaba sobre el cambio de servidor Mi nuevo servidor, me di cuenta que me quedaba con la RPI4 de 4Gb sin utilizar. Asi que decidi cambiar la antigua RPI3 donde empezaba ya a tener problemas con los nuevos codecs con que venian las peliculas (HEVC 10b-AC3) y cambiarla por la RPI4 con soporte para estos nuevos codecs y que no usaba por haberla sustituido por el Dell. Me puse manos a la obra con ello, pero ya os digo que me decepciono un monton la RPI4. Lo primero fue bajarme la imagen compatible de Libreelec para mi RPI4 y su posterior instalaci√≥n. Todo esto conectado a un monitor que tengo en casa para estas pruebas / instalaciones. No tuve ningun problema la la hora de la instalaci√≥n y de la configuraci√≥n (Wifi, pluguins, conexi√≥n a SAMBA, etc‚Ä¶) todo perfecto. Luego lo conecto al TV que tengo en el salon con un conversor de HDMI a micro-HDMI y no funcionaba. No se veia nada, todo en negro. Aqui es donde pienso que no he hecho bien la instalaci√≥n / configuraci√≥n, que no lee correctamente la resoluci√≥n, o sea las cosas m√°s normales que te puedas imaginar. Busque informaci√≥n por inet, pregunte a uno de los canales de Telegram donde estoy que tratan sobre las RPI4 como mediacenter, etc‚Ä¶ y todos me decian, que tenia que forzar la resoluci√≥n a traves del fichero config.txt. Todo sin obtener ningun resultado. Al final me canse de trastear con la RPI4, y eso que habia hecho miles de instalaciones pensado que hay es donde residia el problema. Al final ya me quedo claro, que el problema no era la instalaci√≥n, sino el conversor de HDMI a micro-HDMI que no funcionaba correctamente. Asi que el siguiente paso, fue comprar un cable de HDMI a micro-HDMI. Una vez que me llego el cable correcto, vuelta a hacer una nueva instalaci√≥n conectando la RPI4 al monitor de pruebas. Todo funcionaba a las mil maravillas, la WIFI excelente, la imagen perfecta, hay es donde me dije, pues ya esta todo en marcha y listo para volver a funcionar. Hay infeliz de mi!!! Me llevo la RPI4 al TV del comedor y la conecto y no me lo podria creer, todo funcionaba perfectamente. Pues ya esta, lo vuelvo a tener todo en perfecto estado y en marcha hasta que puse a usar la RPI4 con la WIFI y aqui es donde se me cayo el mundo encima. No me lo podia creer, la WIFI no funcionaba ni a patadas, la pelicula se quedaba congelada y no se veia nada!!! yo tirandome de los pelos porque no entendia nada, si hasta hace 5 minutos todo funcionaba correctamente y ahora de golpe y porrazo no funciona nada. Volvemos a estar como en el principio. A partir de aqui todo fueron problemas. Pero vamos a explicar todo lo sucedido paso a paso. Lo primero fue copiar la imagen de Libreelec en el SSD e iniciamos la instalaci√≥n / configuraci√≥n de Libreelec. Todo funciona perfectamente hasta llegar a la configuraci√≥n de la WIFI (y esto si que es para mear y no echar gota). Despues de buscar informaci√≥n como un loco, veo que hay un error (validado y reportado) en el dise√±o de la Raspberry que es, cuando usas la WIFI esta se acopla a la se√±al del cable HDMI y hace que se anule la se√±al WIFI. Para solucionar este problema se puede hacer de 3 maneras: Soluci√≥n dificil, cambiar de canal en el que emite tu router por otro diferente para que no se acople a la se√±al del cable HDMI. Soluci√≥n facil, desactivar la WIFI de la Raspberry y usar un conector USB-WIFI Soluci√≥n ideal, esperar a que Raspberry saque un nuevo firmware que solucione este problema. Se comenta que hasta finales de a√±o no estara disponible. En mi caso, lo que hice fue escoger la soluci√≥n facil, me compre un usb-wifi y volvi de nuevo a configurar la RPI4B, esperando, por fin, poder usarla como HTC. Volvemos a reiniciar la configuraci√≥n de la WIFI sin ningun problema, esta vez, ya tenemos la RPI4B conectada a la WIFI, pero parece ser que entre el SSD conectado a traves de USB, el mando a distancia conectado a traves de USB y el USB de la WIFI, la Raspberry no podia manejar correctamente toda la informaci√≥n que ","date":"08-11-2022","objectID":"/2022-11-08-cambiando-mediacenter/:0:0","tags":["Hardware","Raspberry Pi","Thinkcenter"],"title":"Mi nuevo mediacenter - Thinkcenter m710q","uri":"/2022-11-08-cambiando-mediacenter/"},{"categories":["Hardware"],"content":"Se que llevo mucho tiempo si publicar nada, pero he estado liado haciendos cambios en el servidor (RPI4). Como sabeis, antes tenia una Raspberry Pi 4 de 4Gb, pero para algunas cosas, se me quedaba pillado y pense que podia usarla como mediacenter, y cambiar la RPI3 que tenia por esta. Como estoy en el grupo de Telegram de Thinkpads (unos frikis de cuidado) pues a un compa√±ero del canal, que tenia un Dell a la venta, se lo compre. Y como siempre, cuando me llego, me senti como un ni√±o con zapatos nuevos. Asi que me lie la manta a la cabeza y el cambio lo hice a lo bestia, ya que hago un cambio, porque no la lio, y ahora tengo un Dell Optiplex 3050 con 8Gb con un i5-7500. O sea un maquinon que no me lo voy a acabar nunca. Dell Optiplex 3050 Junto con el Dell y algunas cosas que tenia en casa pues me he montado lo siguiente: SDD crucial de 250Gb para el Sistema Operativo Debian GNU/Linux STABLE para no tener ningun problema (cuando es un servidor, prefiero la estabilidad a la novedad) El HDD externo de 8Tb (Western Digital) que tenia conectado a la RPI4 que se lo he contectado al servidor Ahora solo queda hacer el cambio de la RPI4B que tenia haciendo las funciones de servidor y poner el Tiny y de paso, aprovechar (aqui no nada se tira), la RPI4 y ponerla en substituci√≥n de la RPI3B que tengo ahora. Nos pusimos a ello junto mi inseparable Debian GNU/Linux STABLE, no quiero jugar a ser dios con UNSTABLE en un servidor, y previa actualizaci√≥n del HDD por un SSD Crucial de 250Gb nos pusimos con la instalaci√≥n. La instalaci√≥n no cambia en Debian GNU/Linux, sin ningun problema, aunque tuve dudas de que manera particionar el SSD para sacarle el maximo rendimiento. Despu√©s de pensar lo deje de la siguiente manera (seguramente hay otra mejor, pero no se me ha ocurrido): filesystem mount point size ---------- ----------- ---- /dev/sdb1 / 200Gb /dev/sdb2 swap 4Gb /dev/sdb5 /home 40Gb Se que en un PC con 8Gb de RAM, poner swap no tiene ningun sentido, pero, nunca se sabe‚Ä¶ Llegados a este punto y sin ningun problema a la hora de la instalaci√≥n, a√±adi todo lo que tenia en la RPI4B al Tiny (que no era poco): Nginx Proxy Manager Navidrome Duckdns Flexget Transmission aMule Jackett Samba Nota aqui podreis encontrar los ficheros de configuraci√≥n que estoy usando. M√°s unos cosas nuevas que he ido aprendiendo por el camino (y todo a traves de Docker): Pi-Hole: Bloquear toda la publicidad cuando navegas por cualquier sitio. Wireguard: VPN para poder acceder a tu servidor desde cualquier sitio. Jellyfin: Queria una especie de biblioteca para saber que tengo (peliculas y series) pero sin necesidad de tener que conectar el HTC. Se que a lo mejor es excesivo, pero no he encontrado nada parecido a lo que quiero, aunque sigo investigando a ver si encuentro algo igual pero m√°s liviano (no necesito todo lo que lleva consigo jellyfin). Jekyll: Servidor jekyll (GitHub) para crear tu propio blog en local y luego transformar los archivos markdown en paginas html y subir a GitHub. Como no puede ser de otra manera, ya esta todo funcionando y sin ningun problema. No esperaba menos de Debian GNU/Linux y menos siendo STABLE. Por eso digo, que tengo servidor para rato y que nunca me lo acabare. A parte de que quiero probar nuevas cosas que voy viendo en los blogs que sigo: Atareado uGeek El Blog de L√°zaro Que sorpresas nos esperan con este nuevo servidor?? Como ya he dicho antes, aprovechando que teniamos a la RPI4B libre, hemos substituido el antiguo mediacenter (RPI3B) por esta m√°s nueva, porque como todo en la informatica, todo avanza, pero esto lo explicare en otro articulo que estoy preparando (y ya os digo que no son buenas noticias). Nota Despu√©s de estos meses de uso, no me puedo quejar, porque el servidor es una maquinon en toda regla, pero ante el aumento de la luz y que a veces, pienso que lo estoy infrautilizando, que no le saco todo el partido y toda la potencia que el Dell me puede dar, me esta rondando por la cabeza, que no se si me he excedido utiliza","date":"26-05-2022","objectID":"/2022-05-26-nuevo-servidor/:0:0","tags":["Hardware","Debian GNU/Linux"],"title":"Mi nuevo servidor","uri":"/2022-05-26-nuevo-servidor/"},{"categories":["Bash"],"content":"A continuaci√≥n, explicare como tengo configurado mi .bashrc para que a la hora de descomprimir archivos todo me sea m√°s facil y rapido. Esto se consigue a√±adiendo un alias con las opciones / programas m√°s comunes para la compresi√≥n y descompresi√≥n de archivos. Lo primero es editar nuestro fichero .basrch y hacerle las siguientes modificacions: #### EXTRACCI√ì DE FITXERS # usage: ex \u003cfile\u003e ex () { if [ -f $1 ] ; then case $1 in *.tar.bz2) tar xjf $1 ;; *.tar.gz) tar xzf $1 ;; *.bz2) bunzip2 $1 ;; *.rar) unrar x $1 ;; *.gz) gunzip $1 ;; *.tar) tar xf $1 ;; *.tbz2) tar xjf $1 ;; *.tgz) tar xzf $1 ;; *.zip) unzip $1 ;; *.Z) uncompress $1;; *.7z) 7z x $1 ;; *.deb) ar x $1 ;; *.tar.xz) tar xf $1 ;; *.tar.zst) unzstd $1 ;; *) echo \"'$1' no es pot extreure via ex()\" ;; esac else echo \"'$1' no es un fitxer valid\" fi } Con esto lo que conseguimos es que para descomprimir cualquier fichero lo podemos hacer de la siguiente manera: usuari@debian:~$ ex nombre_fichero_comprimido Referencia","date":"15-01-2022","objectID":"/2022-01-15-configurar-fichero-bashrc/:0:0","tags":["Bash","Debian GNU/Linux"],"title":"Configurar el fichero .bashrc para descomprimir ficheros","uri":"/2022-01-15-configurar-fichero-bashrc/"},{"categories":["Raspberry Pi"],"content":"Cuando tienes una Raspberry Pi y ves que el SO recomendado es Raspberry Pi OS (antigua Raspbian), siempre me queda la cosa de no poder instalar Debian GNU/Linux ARM64. Pero desde que actualizaron la versi√≥n del firmware y Debian GNU/Linux empezo a tener versiones m√°s estables, eso ya ha pasado a posible. Asi que ahora voy a explicar los pasos que he hecho, en mi caso, para poder realizar y usar Debian GNU/Linux ARM64 en una Raspberry Pi 4 (4Gb). Antes de empezar, lo que necesitas es lo siguiente: Imagen ISO de Debian GNU/Linux 11 ARM64 La ultima versi√≥n del firmware UEFI para la Raspberry Pi 4 Que la EEPROM de nuestra Raspberry Pi este a la ultima versi√≥n. Esto ultimo, se puede saber si al iniciar la Raspberry Pi, nos aparece un codigo QR a la derecha de la pantalla. Last EEPROM En el caso, del firmware UEFI, (100% libre) nos obliga a usar GPT en vez de MBR y tambien tenemos que usar ESP (EFI System Partition) en lugar de la msftdata. Despu√©s de tener claro estos matices, vamos a realitzar el particionado de nuestro HDD, en mi caso, lo he realizado con GPARTED, donde todo lo que tenemos que hacer es m√°s facil. Los pasos a realizar son los siguientes: Asegurarnos que nuestra tabla de partici√≥n del HDD esta en GPT (con GPARTED, es facil realizar el cambio). Creamos una partici√≥n de como minimo 648Mb y la formateamos en FAT32 (m√°s adelante, explico como reducir esta partici√≥n al minimo necesario). En mi caso, cree otra partici√≥n del 20Gb que es donde instalare el sistema base de Debian GNU/Linux Tambien, cree otra partici√≥n, en este caso, de 1Gb para la memoria SWAP. Una vez, tenemos esto echo, m√°s tarde volveremos para acabar, descomprimimos el firmware UEFI en la primera partici√≥n que hemos creado, la cual, sin tocar nada y sin crear ningun directorio. Despu√©s de descomprimir el firmware, vamos a descomprimir la imagen ISO de Debian GNU/Linux en esta misma partici√≥n (por eso, hago una partici√≥n de 648Mb), para realizar podemos hacerlo de la siguiente manera: Creamos un directorio donde montaremos nuestra imagen: usuari@raspberry:~$ sudo mount -o loop /home/tuUsuario/imagen_debian.iso /directorio/destino Una vez montado la imagen, tenemos que copiar todo el contenido de este directorio a la primera partici√≥n, incluido el directorio .disk: usuari@raspberry:~$ sudo cp -r /directorio/destino /directorio/primera_particion Una vez, hemos realizado esto, es lo que hice yo, porque sino, SO live (xubuntu) no me detectaba la primera partici√≥n, volvemos a nuestro GPARTED, seleccionamos la primera partici√≥n, seleccionamos los flags de la partici√≥n y marcamos boot y esp. GParted Ahora, ya tenemos preparado nuestro HDD para instalar Debian GNU/Linux. Procedemos a conectar el HDD a la Raspberry Pi y si todo ha ido bien, podemos ver, la pantalla de instalaci√≥n de Debian GNU/Linux de toda la vida. Una vez finalizada la instalaci√≥n, solamente nos queda disfrutar de nuestra Debian GNU/Linux de toda la vida. Informaci√≥n Al finalizar la instalaci√≥, lo que yo hice, fue reducir la partici√≥n de 648Mb a 260Mb para asi, despu√©s a√±adir ese espacio extra a a partici√≥n del sistema. 260Mb es el minimo que (en mi caso) GPARTED no me transformaba la primera partici√≥n de FAT32 a FAT16. Para llevar a cabo esto, en mi caso, borre todo lo que se habia a√±adido a la hora de descomprimir la ISO de Debian GNU/Linux. El firmware UEFI tambien lo dejo. En total todo el espacio ocupado (en mi caso) son 15.6Mb. En el caso de tener una Raspberry Pi de 4Gb o m√°s, el sistema esta configurado, para que solamente aproveche 3Gb de RAM, para usar toda la RAM que tenemos, tenemos que desactivar un parametro del boot de UEFI, se hace de la siguiente manera: Reiniciamos la Raspberry Accedemos a las opciones de UEFI apretando la tecla ESC. Vamos a la opci√≥n Device Manager \u003e Raspberry Pi Configuration \u003e Advanced Configuration Desactivamos la opci√≥n Limit RAM to 3Gb. Con esto ya tenemos a nuestra disposici√≥n, toda la RAM de nuestro dispositivo. Referencia Instalaci√≥n Debian buster ‚Äúva","date":"07-01-2022","objectID":"/2022-01-07-debian-raspberrypi/:0:0","tags":["Raspberry Pi","Debian GNU/Linux"],"title":"Raspberry Pi. Instalar Debian GNU/Linux en la Raspberry Pi 4","uri":"/2022-01-07-debian-raspberrypi/"},{"categories":["Bash"],"content":"A veces tienes la necesidad de crear un fichero de log para saber cuando se ejecuta un proceso en un script que puedes haber creado, aqui pongo el que yo uso. A traves del siguiente codigo de bash, podemos crear nuestro propio fichero de logs: tie=/tmp/script_final.log* # PER SAPIGUER LA DATA D'INICI* hi=`date`* # PER SAPIGUER LA DATA FINAL* hf=`date`* echo $hf\" \" \u003e\u003e $tie* Con esto ya tenemos nuestro log Referencia","date":"09-06-2021","objectID":"/2021-06-09-crear-fichero-log-bash/:0:0","tags":["Debian GNU/Linux","Bash"],"title":"Crear fichero de logs en bash","uri":"/2021-06-09-crear-fichero-log-bash/"},{"categories":["Hardware"],"content":"Desde que Debian GNU/Linux saco la versi√≥n del kernel 5.4 en mi portatil fue recurrente los flashes en la pantalla y el siguiente error: [drm:intel_cpu_fifo_underrun_irq_handler [i915]] *ERROR* CPU pipe A FIFO underrun La soluci√≥n que todo el mundo me decia era eliminar el paquete del driver de xserver-xorg-video-intel y usar el por defecto del kernel. Pero lo entendia que significaba eso (realmente era asi), no sabia como se tenia que hacer, porque si hacia eso perdia todo el XORG, al final en este hilo me indicaron que si hacia esto, solo se borraba el metapaquete de xserver-xorg-video-all pero nada m√°s. Al final di con la soluci√≥n en el foro de exDebian.org. Lo que tienes que hacer es crear (en mi caso, funciona) el siguiente fichero 20-intel.conf con el siguiente contenido: usuari@debian:~$ ls etc/X11/ Si no aparece xorg.conf.d vas a tener que crear la carpeta usuari@debian:~$ su usuari@debian:~$ mkdir /etc/X11/xorg.conf.d Y luego crear el archivo 20-intel.conf usuari@debian:~$ su usuari@debian:~$ vi /etc/X11/xorg.conf.d/20-intel.conf Dentro del mismo poner el siguiente texto Section \"Device\" Identifier \"Intel Graphics\" Driver \"intel\" Option \"AccelMethod\" \"uxa\" #Option \"AccelMethod\" \"sna\" EndSection Si al hacer los cambios Debian GNU/Linux no inicia desde grub, seleccionar el recovery mode y eliminas el archivo rm /etc/X11/xorg.conf.d/20-intel.conf Donde indicas que siga usando el mismo driver que venia usando, lo unico que cambias es (en palabras del post). Nota Realmente, lo que has hecho es indicarle que use el mismo driver, modificando el m√©todo para la aceleraci√≥n 3d. Intel pas√≥ a usar el m√©todo sna por defecto en detrimento del m√©todo uxa, que es el que se ven√≠a usando. El problema est√° en que sna, no siempre va bien con todas las intel, con lo que se mantuvo la posibilidad de usar uno u otro. Si la gr√°fica es algo vieja, es normal que uxa te de buenos resultados. Por el contrario en gr√°ficas nuevas, sna es el que mejor funciona. Con esta simple modificaci√≥n, que hice hace 2 semanas, no me han vuelto a aparecer los flashes en la pantalla del portatil. Espero que os sea de utilidad Referencia Como solucionar ERROR CPU pipe A FIFO underrun? Problems (flash on screen) with i915 exDebian.org ","date":"09-06-2021","objectID":"/2021-06-09-solucionar-error-i915/:0:0","tags":["Hardware","Debian GNU/Linux"],"title":"Solucionar error i915 en grafica Intel","uri":"/2021-06-09-solucionar-error-i915/"},{"categories":["Raspberry Pi"],"content":"Como habia explicado en este articulo o en este otro articulo, explicaba como crear una imagen de docker o como usar dicha imagen, flexget, para descargar podcast a traves de los RSS que puedes conseguir. Pero me di cuenta, que usar tus propias imagenes de docker, o estan muy bien echas y con cada nueva versi√≥n de la original, actualizas la tuya, o puedes acabar teniendo problemas, que era lo que me pasaba, decidi que era mejor usar la versi√≥n base del creador, en este caso de flexget, para asi evitarme futuros problemas y tener siempre, que me interese, la ultima versi√≥n de container. Adem√°s, como desde las ultimas versiones, se le puede a√±adir un directorio custom-cont-init.d donde, en el caso que tu quieres, creas un fichero bash con el nombre entrypoint.sh con, en mi caso, las siguientes instrucciones: #!/usr/bin/with-contenv bash apk add -q --no-cache eye3d mediainfo ffmpeg wget Para que una vez se cree y se ejecute por primera vez, se hara uso de este script para instalar, cada vez que lo crees de nuevo, las aplicaciones que tu quieras. En mi caso, son para el tratamiento de los podcasts que descargo. Y asi, me ahorro el tener que acordame de si esta instalado o no, cada nueva vez que creo dicho container, porque se hace automaticamente. Es una gran mejora, que uso en varios de los containers, donde tengo aplicaciones que uso, pero que no estan dentro del propio container de origen. Se que podria hacer una imagen especial para mi, pero entonces volveria a tener los mismo problemas que os estaba explicando al principio. Para mi, no merece la pena todo el trabajo y stress que me supondria. Referencia","date":"07-06-2021","objectID":"/2021-06-07-flexget-podcast-annexo/:0:0","tags":["Raspberry Pi","Docker"],"title":"Descargar Podcast a traves de Flexgetx - Annexo","uri":"/2021-06-07-flexget-podcast-annexo/"},{"categories":["Raspberry Pi"],"content":"Gracias que tengo docker puedo usar la imagen que he creado de Flexget, una aplicaci√≥n que a traves de un fichero yaml, permite descargar lo que quieras incluidos podcast. En principio me gustan los que tengas que ver con la tecnologia y sobre todo lo que tenga que ver con GNU/Linux. Pero a parte de estos tambien tengo un podcast de historia que me encanta mucho y cuando me acuerdo lo escucho. Este podcast se llama En Gu√†rdia. Y buscando informaci√≥n al final consegui averiguar que a traves de Flexget se pueden descargar Podcast asi que me puse a ello y gracias a un script para dicho proposito ya puedo descargar los podcast de este programa sin preocuparme. Este script esta compuesto por 2 secciones. Estas secciones son el template, que consiste en una plantilla con los filtros que se tiene que tener en cuenta a la hora de descargar los podcast. Una vez definido el template, pasamos a definir la tarea task donde en base al template se encargara de descargar los podcast. La primera parte del script template esta compuesto por los siguientes filtros (en mi caso): templates: podcast: accept_all: yes # PER A QUE SOLAMENT DESCARREGUI ELS 5 ULTIMS PODCAST limit_new: 5 # COM VOLEN QUE ES DIGUI EL FITXER DESCARREGAT # ABANS I DESPR√âS DE LA CONFIGURACI√ì DEL NOM PORTA DOBLES COMETES set: filename: # NOM AMB QUE ES DESCARREGARA EL FITXER MP3 Ahora vamos a poner el script que se encarga de descargar (en base al template) los podcast: # # DESCARREGA DE PODCAST # tasks: # PODCAST EN GUARDIA podCastEnGuardia: template: podcast # RSS (XML) del programa rss: https://dinamics.ccma.cat/public/podcast/catradio/xml/4/4/podprograma944.xml # DIRECTORI DE DESCARREGA download: /media/podcast Por ultimo podriamos poner el calendario de ejecuci√≥n de este script, en mi caso, le indico que todas las tareas tasks que empiezen por podCast se ejecuten una vez al dia: # # CALENDARI EXECUCI√ì DE LES TASQUES # schedules: # DESCARREGA PODCAST - tasks: ['podCast*'] interval: days: 1 Este script tiene que estar en el fichero config.yml de flexget. Lo que se puede hacer antes, es probar que todo funciona correctamente a traves de la instrucci√≥n (dentro de docker): usuari@debian:~$ flexget --test execute --task podCastEnGuardia --dump Ahora solamente nos queda disfrutar. Referencia Flexget Script para descargar podcast con flexget ","date":"30-05-2021","objectID":"/2021-05-30-flexget-podcast/:0:0","tags":["Raspberry Pi","Docker"],"title":"Descargar Podcast a traves de Flexget","uri":"/2021-05-30-flexget-podcast/"},{"categories":["Raspberry Pi"],"content":"Cuando tienes un servidor de bajo consumo como una Raspberry y empiezas a usar docker, a parte de descubrir un nuevo mundo (no me canso de decirlo), tambien descubres nuevas formas de torturar tu mente. Porque digo eso, porque cuando piensas que ya has conseguido todo lo que necesitas, tu cabezita piensa ‚Äúaprovechate de tu servidor y escucha tu musica en el movil‚Äù. Pensando Ahi es cuando te dices, porque no me pongo a investigar si existe esta posibilidad?? Solamente falta que sigas a uGeek Podcast (increible todo lo que llega a hacer con su servidor) y ya te mete el gusanito en el cuerpo de si el puedo, porque yo no y ya la tenemos liada. He seguido todos sus cambios de contenedores que el ha hecho y los he probado todos: Supysonic: El primero que use y estuvo bien, hasta que‚Ä¶ Gonic: Uno de los mejores que he usado, pero no se, encuentro que le falta algo, pero no se que es‚Ä¶ Navidrome: Junto a Gonic el mejor y este si que tiene un noseque que siempre vuelvo a el (sera la web, desde el que puedes escuchar musica) El mejor, en mi opinion, como he dicho antes navidrome, no se que es, pero me encanta, su simpleza, los pocos recursos que consume del servidor. Lo tiene todo. Eso si, no tiene nada que echarle en cara a Gonic, pero a este ultimo le falta algo que no se que es y eso que es igual de facil y consume tan pocos recursos como navidrome. Desp√∫es de esta breve explicaci√≥n, pasamos a la instalaci√≥n y configuraci√≥n de mi Spotify privado. Como todo en docker, solamente se tiene que a√±adir en tu fichero docker-compose.yml la configuraci√≥n necesaria para instalar navidrome que en mi caso es la siguiente: navidrome: image: deluan/navidrome:latest container_name: navidrome user: 1000:1000 ports: - \"4533:4533\" restart: unless-stopped environment: ND_TRANSCODINGCACHESIZE: 100MB ND_SCANSCHEDULE: \"@every 1h\" ND_SESSIONTIMEOUT: 24h ND_LASTFM_ENABLED: \"true\" ND_LASTFM_APIKEY: \"API DE LASTFM\" ND_LASTFM_SECRET: \"API DE LASTFM\" ND_LASTFM_LANGUAGE: \"es\" ND_SPOTIFY_ID: \"API DE SPOTIFY\" ND_SPOTIFY_SECRET: \"API DE SPOTIFY\" volumes: - ${STORAGE}/config/navidrome:/data - ${MEDIA}/audio/Music:/music:ro Yo he puesto las opciones de configuraci√≥n que uso o las que m√°s me interesan que son: ND_SCANSCHEDULE: Cada cuando actualiza la biblioteca ND_LASTFM_ENABLED: Si quiero usar la api de LastFM (para que me de una descripci√≥n de los artistas que tengo) ND_SPOTIFY_ID: Si quiero usar la api de Spotify (lo mismo que en el caso de LastFM) Ahora solamente queda levantar el contenedor: usuari@raspberry:/# docker-compose up -d navidrome Aqui es cuando se hace la magia. A lo mejor tarda un poco en estar disponible, porque esta escaneando toda la musica que tienes, pero cuando digo tardar, son un par de segundos. Porque lo escanea todo a una velocidad increible. Lo unico que te queda es instalar una app en tu movil, en mi caso substreamer, conectarte a tu servidor, que en este caso, te viene bien tener configurado un proxy server con su correspondiente certificado y disfrutar. Referencia Navidrome Gonic Supysonic ","date":"08-05-2021","objectID":"/2021-04-01-rpi-spotify/:0:0","tags":["Raspberry Pi","Docker"],"title":"Creando tu propio Servidor de Musica privada","uri":"/2021-04-01-rpi-spotify/"},{"categories":["Raspberry Pi"],"content":"Aqui tenemos otra entrada m√°s que hace referencia a mi RPI y a ese inmenso oceano que se ha abierto al descubrir Docker. Una vez que tienes tu propio Spotify, el siguiente paso que quieres hacer, es acceder a el desde exterior y para hacer esto tienes 2 maneras de hacerlo: Abrir directamente el puerto de tu Spotify con el riesgo que conlleva. Utilizar un Proxy para que a traves de https, junto a un certificado SSL para darle m√°s seguridad, acceder a este servicio sintiendote un poco m√°s seguro. Entonces, para hacer esto (segunda opci√≥n), no vayamos a ponerle las cosas faciles a los crackers, tenemos varias opciones (voy a poner las que he usado) y todas disponibles con Docker: Traefik: Muy buena opci√≥n, pero de dificil configuraci√≥n, a mi modo de ver. Nginx-Proxy-Manager: El m√°s vistoso (incluye GUI) desde la que puedes hacerlo todo. Caddy: El m√°s facil de usar. Al principio use Traefik, es muy poderoso y tiene muchas opciones de configuraci√≥n, pero por ese mismo motivo, porque tiene muchas opciones, lo hace m√°s dificil de usar. Despu√©s me decante por Caddy porque todo lo tenia al alcance de la mano, con un simple fichero de texto y era una maravilla su simpleza, pero todo cambio, cuando sacaron una nueva versi√≥n de Caddy que me arruino el chiringuito o fue duckdns no lo tengo aun del todo claro (tendre que seguir haciendo pruebas). A lo que me vengo a referir es que en caddy (versiones antiguas) tenia una url parecida a esta https://music.midominio.duckdns.org pero algo cambio en caddy o en duckdns que que ya no acceptaba este tipo de url, y tuve que cambiar a una de este estilo http://music-midominio.duckdns.org a parte que tampoco me creaba los certificados (por eso digo, que no se si era culpa de Caddy o de duckdns). Pero no podia estar si acceso a mi Spotify privado y despu√©s de investigar (aunque ya habia hecho un par de pruebas para ver como funcionaba) me decante por Nginx-Proxy-Manager, no iba a volver a traefik si me fui de el por su complejidad, asi que npm fue mi salvaci√≥n, por la ayuda que te da a la hora de toda la configuraci√≥n con sus diferentes pantallas que tienes a tu disposici√≥n (tanto para crear los dominios, como para crear los certificados). Para usarlo en Docker utilice la siguiente configuraci√≥n: npm: image: jc21/nginx-proxy-manager:latest container_name: npm restart: unless-stopped ports: - '80:80' - '81:81' - '443:443' volumes: - ${STORAGE}/config/npm/data:/data - ${STORAGE}/config/npm/letsencrypt:/etc/letsencrypt Hay que tener en cuenta una cosa, en algunos sitios, te indican que tienes que tener, a parte de npm, tienes que tener un gestor de BBDD, pero yo he podido comprobar, y es como lo tengo actualmente, que no hace falta tener ningun gestor de BBDD (a lo mejor las nuevas versiones de npm ya lo tengan incorporado). Una vez, instalado, accedemos a traves (en mi caso) del puerto 81 y con las siguintes credenciales: Username: admin@example.com Password: changeme Cuando accedemos al sistema, lo primero que hacemos es cambiar el usuario y el password de acceso y ya lo tenemos preparado para poderlo usar. Con los videos que hay en la Referencia podras configurarlo sin ningun problema. Referencia Certificados AUTOM√ÅTICOS y GRATIS para CUALQUIER SERVIDOR - Nginx Proxy Manager Instalar NGINX PROXY MANAGER en una RASPBERRY Pi 4 ","date":"07-05-2021","objectID":"/2021-05-07-rpi-nginx-proxy-manager/:0:0","tags":["Raspberry Pi","Docker"],"title":"Usando Nginx-Proxy-Manager en la Raspberry","uri":"/2021-05-07-rpi-nginx-proxy-manager/"},{"categories":["Raspberry Pi"],"content":"Anteriomente venia usando Traefik, pero como ya he comentado, era muy dificil de mantener y de configurar, a parte de las multiples opciones que tiene. Ante esto, me resultaba muy tedioso su uso, asi que decidir buscar otra alternativa m√°s facil. Despu√©s de buscar y leer a mis blogueros preferidos: uGeek El Blog de Lazaro Vi que los dos recomendaban: Caddy Nginx Proxy Manager Cada uso con sus ventajas e inconvenientes, aunque me tiraba m√°s npm (para abreviar) por el gui que tenia, me decidi por caddy, porque una de sus virtudes es que podias tener url del siguiente estilo: music.tudominio.duckdns.org. Adem√°s el poder tener todos tus servicios activos y con su correspondiente certificado solamente con un fichero de texto. Eso es una ventaja, porque se parece m√°s a una URL de verdad. Y por eso me decidi por Caddy, aunque al final tuve que tirar por npm, ya lo comentare en otro articulo. ","date":"08-04-2021","objectID":"/2021-04-08-rpi-caddy-proxy-manager/:0:0","tags":["Raspberry Pi","Docker"],"title":"Cambiando Traefik por Caddy","uri":"/2021-04-08-rpi-caddy-proxy-manager/"},{"categories":["Raspberry Pi"],"content":"Qu√© es Caddy Caddy es un potente servidor web de c√≥digo abierto desarrollado en go. Simplifica su infraestructura y se encarga de las renovaciones de certificados. Funciona muy bien en contenedores porque no tiene dependencias. Aunque la mayor√≠a de la gente lo usa como servidor web o proxy, es una excelente opci√≥n tambien para: Servidor web proxy inverso proxy de sidecar equilibrador de carga Puerta de enlace API controlador de ingreso administrador de sistemas supervisor de proceso programador de tareas (cualquier proceso de larga duraci√≥n) ","date":"08-04-2021","objectID":"/2021-04-08-rpi-caddy-proxy-manager/:1:0","tags":["Raspberry Pi","Docker"],"title":"Cambiando Traefik por Caddy","uri":"/2021-04-08-rpi-caddy-proxy-manager/"},{"categories":["Raspberry Pi"],"content":"Creando el docker Caddy requiere acceso de escritura a dos ubicaciones: un directorio de datos y un directorio de configuraci√≥n. Recuerda que para generar los certificados de Let‚Äôs Encrypt, Caddy necesita tener abiertos los puertos 80 y 443. version: \"3.7\" services: caddy: image: caddy ports: - \"80:80\" - \"443:443\" volumes: - ./Caddyfile:/etc/caddy/Caddyfile:ro - ./data/caddy/data:/data - ./data/caddy/config:/config restart: unless-stopped container_name: caddy Creamos el archivo Caddyfile, donde ir√° la configuraci√≥n de nuestro proxy inverso. Voy a exponer mi docker de Spotify personal al mundo para asi a traves del movil poder escuchar la musica que tengo en el servidor, en concreto, Navidrome (ya explicare en otro articulo como tener tu propio Spotify en funcionamiento). Caddy se encargar√° de exponer este servicio a la red generando el certificado con Let‚Äôs Encrypt, que en mi caso, como ya he dicho, es mi Spotify privado y asi no tener que depender de nadie. music.midominio.duckdns.org { reverse_proxy http://192.168.1.100:4533 } Asi de rapido y de sencillo tengo mi proxy inverso en funcionamiento junto con mi certificado SSL. Y lo m√°s interesante, es que cuando llegue el momento de que el certificado vaya a caducar, el mismo caddy se encargara de actualizarlo. Referencia: Proxy Inverso con Caddy ","date":"08-04-2021","objectID":"/2021-04-08-rpi-caddy-proxy-manager/:2:0","tags":["Raspberry Pi","Docker"],"title":"Cambiando Traefik por Caddy","uri":"/2021-04-08-rpi-caddy-proxy-manager/"},{"categories":["Bash"],"content":"Vamos a explicar como a traves de la consola de GNU/Linux se puede montar una imagen / archivo ISO. No se si os ha pasado alguna vez a vosotros, pero llega un dia, que teneis una ISO y os encontrais sin CD para gravar y el lector y no sabeis que hacer en ese momento (me ha pasado m√°s de una vez), hasta que he encontrado este sencillo metodo para resolver el problema. Lo primero es acceder a la consola y ejecutamos el siguiente comando: usuari@debian:~$ sudo mkdir /media/cdrom Estamos creando el directorio donde vamos a montar la imagen ISO, en mi caso, como ya tengo este directorio me puedo saltar este paso. Ahora pasamos a montar la imagen directamente: usuari@debian:~$ sudo mount -o loop -t iso9660 /ruta_imagen.iso /media/cdrom Vamos a explicar un poco que significa cada parametro: El parametro -o es un indicador de opciones genericas para asi poder usar loop. Esta opci√≥n de bucle le indica a GNU/Linux que use la interfaz de bucle invertido en lugar de un dispositivo fisico, ya que la imagen ISO no es un dispositivo real con una lista en el directorio /dev. El parametro -t hace referencia al tipo de sistema de archivos a montar, en este caso es iso9660 o lo que es lo mismo, usa ISO. Cuando tenemos montada la ISO, ya podemos acceder a ella como si fuera un CD/DVD normal. Para finalizar, nos quedara desmontar la imagen ISO de la misma manera como se haria con un dispositivo fisico: usuari@debian:~$ sudo umount /media/cdrom Referencia C√≥mo montar imagen ISO en Linux ","date":"25-03-2021","objectID":"/2021-03-25-montar-imagen-iso-consola/:0:0","tags":["Debian GNU/Linux","Bash"],"title":"Montar imagen ISO desde consola en GNU/Linux","uri":"/2021-03-25-montar-imagen-iso-consola/"},{"categories":["Raspberry Pi"],"content":"Este articulo es una continuaci√≥n al que hice hace un par de dias con respecto a realizar copias de seguridad en mi RPI4 con rsnapshot. Esta bien hacer copias de seguridad de los ficheros m√°s importantes del sistema, pero hay un problema, que si estas copias estan en el mismo HDD que el resto del sistema, en caso de que el HDD falle, pierdes todas las copias de seguridad que habias hecho. Pero para esto, tenemos a Docker que viene en nuestra ayuda. En este caso, si tienes una cuenta de MEGA, la puedes utilizar, para una vez que has hecho las copias de seguridad de tu sistema con rsnapshot, las guardas en tu cuenta, para en caso de fallo, poder recuperar toda la informaci√≥n sin ningun problema. Esto se puede hacer a traves de la imagen MegaCmd que nos provee de un sistema automatico, para que al copiar ficheros que nosotros pongamos en dicho directorio, los copia automaticamente en nuestra cuenta de Mega. Lo que necesitamos primero es hacer nuestro docker-compose de la siguiente manera: megacmd: image: melsonlai/docker-megacmd:arm container_name: megacmd restart: unless-stopped environment: - PUID=1000 - PGID=1000 volumes: # DIRECTORIO DONDE ESTA LA CONFIGURACI√ìN DE MEGA - /mnt/config/megacmd:/home/d_user # DIRECTORIO DONDE ESTA LAS COPIAS DE SEGURIDAD DE RSNAPSHOT Y QUE QUEREMOS # COPIAR EN MEGA - /mnt/seguretat:/mnt/sync Una vez tenemos nuestro fichero docker-compose, solamente nos queda usar nuestro comando favorito docker-compose up -d megacmd Cuando se ha finalizado la descarga de la imagen, tenemos que ejecutar el siguiente comando para entrar en el container y finalizar la configuraci√≥n del sistema: usuari@raspberry:~$ docker exec -it megacmd su - d_user ~$ mega-login \u003caccount-email\u003e \u003cpassword\u003e ~$ mega-sync \u003clocalpath\u003e \u003cdstremotepath\u003e # EN MI CASO, ESTA INSTRUCCI√ìN SERIA LA SIGUIENTE ~$ mega-sync /mnt/sync /backup Con esta se da por finalizada la configuraci√≥n de MegaCmd que automaticamente sincronizara el contenido del directorio /mnt/seguretat con el directorio que hayais seleccionado en vuestra cuenta de Mega. Referencia MEGA - cmd ","date":"18-01-2021","objectID":"/2021-01-18-rpi-externalizando-copias-seguridad/:0:0","tags":["Raspberry Pi","Docker"],"title":"Raspberry Pi. Externalizando copias de seguridad","uri":"/2021-01-18-rpi-externalizando-copias-seguridad/"},{"categories":["Raspberry Pi"],"content":"Otro capitulo m√°s con respecto a la configuraci√≥n de de mi RPI4, en este caso son las copias de seguridad de la informaci√≥n m√°s importante. Tal como he dicho en otros articulos, desde que conoci Docker, se abrio un nuevo mundo y para esto, no iba a ser menos. Para realizar las copias de seguridad queria usar esta imagen rsnapshot, hecha por PeladoNerd, pero no funciona. No esta compilada para ARM, le di un toque por octubre, pero supongo que por trabajo, no ha podido solucionar el problema, asi que tuve que buscarme otras opciones. Y como no, salio al rescate linuxserver. Lo bueno que tiene rsnapshot es que solamente te copia los ficheros que se modifican. Al principio, si que hace una copia de todo, porque no tiene nada con que comprarar, pero a partir de ese momento, solo hace las copias de los ficheros que se modifican. Asi, que nos pusimos a ello. Lo primero fue decidir que informaci√≥n es la importante, luego como la vamos a estructurar (donde estara el directorio). En mi caso, la cosa quedo de la siguiente manera: ### DIRECTORIO DONDE SE ALMACENAN LAS COPIAS DE SEGURIDAD /mnt/seguretat ### DIRECTORIOS DE LOS QUE QUIERO COPIAS DE SEGURIDAD # el directorio de mi usuario (junto con el docker-compose de docker) /home # el directorio donde estan las configuraciones del servidor que son importantes /etc # el directorio donde tengo las configuraciones de las imagenes de docker /mnt/config Una vez ya tenemos decido la informaci√≥n a salvaguardar, pasamos a la creaci√≥n del docker-compose: rsnapshot: image: ghcr.io/linuxserver/rsnapshot container_name: rsnapshot restart: unless-stopped volumes: - /mnt/config/rsnapshot:/config - /mnt/seguretat:/snapshots - /etc:/data/etc - /home/pi:/data/home/pi - /mnt/config:/data/config environment: - PUID=1000 - PGID=1000 - TZ=Europe/Madrid Despu√©s de crear el docker, solamente nos quedar ejecutar la magica instruccion que nos lo pondra en marcha todo: usuari@raspberry:~$ docker-compose up -d rsnapshot Ahora nos queda la ultima parte, que es configurar los ficheros de configuraci√≥n de rsnapshot. En mi caso lo hago dentro del mismo docker. Es posible que se pudiera hacer a traves de los ficheros de configuraci√≥n que estan en el host del docker, pero prefiero acceder para hacer la configuraci√≥n. Que en mi caso estan en /mnt/config/rsnapshot y a configuraci√≥n la tengo de la siguiente manera: usuari@raspberry:~$ cd dockerCompose usuari@raspberry:~/dockerCompose $ docker-compose exec rsnapshot sh ### EDITO LOS FICHEROS RSNAPSHOT.CONF DE LA SIGUIENTE MANERA # DIRECTORIO QUE CONTIENE LAS COPIAS (QUE LO HABRAS CONFIGURADO EN EL # DOCKER-COMPOSE) rsnapshpot_root /snapshots ### SON LOS INTERVALOS QUE SE SALVAN # SE MANTIENEN 7 COPIAS DIARIAS retain daily 7 # SE MANTIENEN 4 COPIAS SEMANALES retain weekly 4 # SE MANTIENEN 3 COPIAS MENSUALES retain monthly 3 # FICHERO DE LOGS logfile /config/rsnapshot.log # DIRECTORIO A COPIAR - EN MI CASO, DENTRO DE DATA, TENGO LOS DIRECTORIOS # A SALVAGUARDAR backup /data/ localhost/ El siguiente fichero que hay que configurar, es el de cron (propio de rsnapshot), que se encarga de ejecutar las copias: # AUN SIGO DENTRO DEL CONTAINER cd crontabs vi root Ahora modificamos el archivo: # AHORA PASAMOS A LA EDICI√ìN DEL FICHERO # min hour day month weekday command # SE EJECUTA CADA DIA A LAS 2 DE LA MA√ëANA 0 2 * * * rsnapshot daily # SE EJECUTA CADA LUNES (WEEKDAY - 1) A LAS 4 DE LA MA√ëANA 0 4 * * 1 rsnapshot weekly # SE EJECUTA CADA DIA 1 DE CADA MES A LAS 6 DE LA MA√ëANA 0 6 1 * * rsnapshot monthly Con esto, ya tenemos configurado rsnapshot, ahora solamente hay que dejarlo que funcione y listo. Referencia Backups faciles con Docker! - V2M / Rsnapshot PabloKbs - Rsnapshot LinuxServer - Rsnapshot ","date":"17-01-2021","objectID":"/2021-01-17-rpi-copias-seguridad/:0:0","tags":["Raspberry Pi","Docker"],"title":"Raspberry Pi. Haciendo copias de seguridad","uri":"/2021-01-17-rpi-copias-seguridad/"},{"categories":["Docker"],"content":"Esto es una cosa que queria hacer desde que he empezado a utilizar docker porque siempre va bien tenerlos apuntado por si algun momento hace falta y si adem√°s te has hecho algun par de containers propios, pues nunca esta de m√°s. La parte m√°s dificil de crear una imagen docker, es el Dockerfile, este fichero es todo lo que contendra y hara la imagen docker cuando se cree (sobre que base funciona, que puertos, volumenes, etc‚Ä¶). Un ejemplo de fichero Dockerfile puede ser este que utilice para crear la imagen de flexget: FROM alpine:3.11 LABEL maintainer \"wiserain\" RUN \\ echo \"**** install frolvlad/alpine-python3 ****\" \u0026\u0026 \\ apk add --no-cache python3 \u0026\u0026 \\ python3 -m ensurepip \u0026\u0026 \\ rm -r /usr/lib/python*/ensurepip \u0026\u0026 \\ pip3 install --no-cache --upgrade pip setuptools wheel \u0026\u0026 \\ if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip; fi \u0026\u0026 \\ echo \"**** install dependencies for plugin: telegram ****\" \u0026\u0026 \\ apk add --no-cache py3-cryptography \u0026\u0026 \\ pip install --upgrade PySocks \u0026\u0026 \\ pip install --upgrade python-telegram-bot \u0026\u0026 \\ echo \"**** install dependencies for plugin: cfscraper ****\" \u0026\u0026 \\ pip install --upgrade cloudscraper \u0026\u0026 \\ apk del --purge --no-cache build-deps \u0026\u0026 \\ echo \"**** install dependencies for plugin: convert_magnet ****\" \u0026\u0026 \\ apk add --no-cache boost-python3 libstdc++ \u0026\u0026 \\ echo \"**** install dependencies for plugin: misc ****\" \u0026\u0026 \\ pip install --upgrade \\ transmissionrpc \\ irc_bot \u0026\u0026 \\ echo \"**** install dependencies for plugin: rar ****\" \u0026\u0026 \\ apk add --no-cache unrar \u0026\u0026 \\ pip install --upgrade rarfile \u0026\u0026 \\ echo \"**** install flexget ****\" \u0026\u0026 \\ pip install --upgrade --force-reinstall flexget \u0026\u0026 \\ # add default volumes VOLUME /config /data WORKDIR /config # expose port for flexget webui EXPOSE 3539 3539/tcp # run init.sh to set uid, gid, permissions and to launch flexget RUN chmod +x /scripts/init.sh CMD [\"/scripts/init.sh\" ] Como se puede ver, en este caso, la base de mi imagen es alpine:3.11 y se basa en una imagen ya creada por wiserain. Lo que yo hice fue quitar un par de cosas que no necesitaba y a√±adir otras porque a la hora de funcionar me daban error. Luego viene, todo el resto de programas que tiene que hacer para que la imagen docker funcione correctamente. En este caso, el Dockerfile que estoy usando, es el que se usa para crear la imagen de flexget. Esta, en principio es la parte m√°s dificil de crear una imagen docker, ahora solamente nos queda subirlo a algun almacen de imagenes docker. En este caso, yo estoy dado de alta en docker hub es que donde muchas personas han colgado las imagenes que ellos han creado, para que el resto pueda utilizarla. Para crear la imagen en si y luego subirla, lo primero es crear dicha imagen. Esto se hace a traves del siguiente comando (lo mejor es ejecutar esta imagen dentro del directorio donde tenemos el Dockerfile): usuari@debian:~$ docker build -t usuario/nombre_imagen:version . Con esto ya hemos creado la imagen, ahora tenemos que subir la imagen, pero antes tenemos que hacer login en nuestra cuenta de dockerhub: usuari@debian:~$ docker login Una vez ya tenemos acceso procedemos a subir la imagen : usuari@debian:~$ docker push usuario/nombre_imagen:latest Ya tenemos nuestra imagen de docker creada y subida en dockerhub. Referencia Crear imagen Docker ","date":"14-12-2020","objectID":"/2020-12-14-crear-imagen-docker/:0:0","tags":["Docker"],"title":"Crear imagenes en docker","uri":"/2020-12-14-crear-imagen-docker/"},{"categories":["Raspberry Pi"],"content":"Siguiendo con mis capitulos con respecto a la configuraci√≥n y uso de mi RPI4 (tambien explicado en este otro articulo, pues ahora pasamos a a√±adir una protecci√≥n m√°s y que en todos los sitios donde explican su configuraci√≥n, se preguntan, porque no esta instalada por defecto en todos los sistemas GNU/Linux. Esta protecci√≥n es fail2ban. Su funcionalidad es la de monitorizar todos los intentos de conexi√≥n a los servicios que hayas indicado en el fichero de configuraci√≥n, jail.local y cuando ve que una IP intenta hacer m√°s de un intento fallido, bloquea - banea durante el tiempo que tu hayas indicado. Ahora, pasamos a explicar unos cuantos conceptos del fichero de configuraci√≥n: maxretry: Cuantos intentos de conexi√≥n se aceptan antes del bloqueo / baneo. fintime: Es durante cuanto tiempo se monitoriza una IP antes de activarse la opcion maxretry bantime: Cuanto tiempo permanecera baneada la ip de donde ha venido el intento de conexi√≥n. En el caso de que quieras ser agresivo, puedes poner m√°s tiempo. En mi caso lo tengo con que el baneo sea de 1 dia (86.400 segundos). ignoreip: Para ignorar los intentos de conexi√≥n fallidos que vienen de nuestra propia red. Ahora pasamos a su modificaci√≥n. Lo que he leido en todos sitios con respecto a fail2ban, es que lo mejor es copiar el fichero jail.conf a jail.local. usuari@raspberry:~$ cd /etc usuari@raspberry:~$ sudo cp jail.conf jail.local Una vez hecho esto, ya lo podemos editar con las opciones que m√°s nos interesan que en mi caso son las siguiente: # descomentar la opci√≥n ignoreip para que no tenga en cuenta los accesos # que vienen de nuestra propia red ignoreip = 127.0.0.1/8::1 # descomentamos la opci√≥n bantime y en mi caso he puesto 86400 bantime = 86400 # descomentamos la opcion fintime y yo he dejado el valor por defeccto fintime = 10m Ahora pasamos a activar los modulos que nos interesa que en mi caso es el modulo de sshd. Los modulos se encuentran a partir de la opci√≥n JAILS. Se activan con la opci√≥n enabled = true. Y en mi caso el modulo de SSHD queda de la siguiente manera: enabled = true filter = sshd # Aqui es donde ponemos los puertos a controlar. Si ponemos ssh, # se monitoriza el puerto por defecto de ssh (22), pero # tambien podemos poner otros puertos. port = ssh, xxxx Si revisas los modulos disponibles, ves que hay un monto, por ejemplo dropbear, apache, nginx, lighttpd y unos cuantos m√°s. De esta manera ya tenemos configurado fail2ban, ahora solamente falta activarlo: usuari@raspberry:~$ sudo /etc/init.d/fail2ban start Ahora, nos toca disfrutar de los baneos, que puedes ver en el fichero de los: usuari@raspberry:~$ sudo tail -f /var/log/fail2ban.log Consejo Que como dice un youtuber famoso PeladoNerd, es un ejercicio muy saludable. Asi mismo, tambien pongo el codigo necesario para poder desbanear nuestra ip de acceso a la raspberry (me ha pasado m√°s de una vez), lo que se tiene que hacer es lo siguiente: usuari@raspberry:~$ fail2ban-client set sshd unbanip x.x.x.x # Donde x.x.x.x es la ip Ten en cuenta, que esto lo tienes que hacer desde otro PC, porque desde el que tienes acceso normalmente no te dejara acceder, si es que no le cambias la ip. Referencia fail2ban en una Raspberry Pi ESTO TENDRIA QUE VENIR POR DEFECTO EN LINUX - V2M / fail2ban Desbanear IP ","date":"08-11-2020","objectID":"/2020-11-08-rpi-usando-fail2ban/:0:0","tags":["Raspberry Pi","Seguridad"],"title":"Raspberry Pi. Instalar y configurar fail2ban","uri":"/2020-11-08-rpi-usando-fail2ban/"},{"categories":["Raspberry Pi"],"content":"Ante la noticia de que iban a sacar una nueva Raspberry Pi con varias mejores (m√°s vale tarde que nunca que ya hablaremos m√°s adelante) y pense si ya era hora de cambiar mi Raspberry Pi 3b por la nueva versi√≥n. Pero cual, porque la fundaci√≥n se ha liado la manta a la cabeza y ha sacado unas cuantas versiones interesantes: Raspberry Pi4 con 1Gb de RAM aunque esta desaparecio rapidamente. No tenia sentido Raspberry Pi4 con 2Gb de RAM que ahora es el nivel inicial de la familia Raspberry Pi4 con 4Gb de RAM, esto ya son palabras mayores Raspberry Pi4 con 8Gb de RAM, pero se han vuelto locos A parte de las mejoras que han introducido, que no entrare a fondo, porque todo el mundo las sabe, pero: Ethernet Gigabyte. Ya era hora. USB3 (2 salidas) USB2 (2 salidas). Que no le encuentro ningun sentido, si pones USB3, pon todo igual 2 mini-HDMI. Si con uno hay m√°s que suficiente, pero bueno‚Ä¶ Alimentaci√≥n por USB-C y una nueva fuente de alimentaci√≥n con m√°s amperaje A parte de estas mejores (necesarias) cometieron algunos fallos de novato que no tiene perdon. No estan empezando. Llevan a√±os con esto. Pero bueno, errar es humano. Antes estas mejoras no sabia que hacer si dar el salto a por una nueva RPI o quedarme con la que tenia, aunque fuera un poco apurada con el docker (que da√±o ha hecho). Pero al final me decidi a dar el salto. Y me fui a por la de 4Gb, porque asi, podria estar seguro de que no tendria problemas de rendimiento (pero con docker nunca se sabe), pero eso si, me fui a por la Raspberry Pi4 Rev 1.2, porque era la que tenia los errores de alimentaci√≥n solucionados asi como una reducci√≥n en la temperatura considerable (a parte de la mejora en la firmware nueva). Asi estamos, con una nueva RPI 4 con 4Gb de RAM y un nuevo HDD de 4Tb y los siguientes contenedores de Docker y sin despeinarse: transmission Medusa Jackett Flexget Aunque la base es esta, pero uso una modificada por mi. Amule Jdownloader Calibre Web DuckDNS Hay que tener en cuenta que para poder usar DuckDns hay que crearse una cuenta en la pagina web de ellos. Traefik Navidrome Samba Eso si, no penseis que la antigua RPI3b que tenia la he tirado, sino que esta haciendo de mediacenter con Libreelec y con la imagen de Samba me va perfecta. Referencia","date":"30-10-2020","objectID":"/2020-10-30-rpi-cambiando-equipo/:0:0","tags":["Raspberry Pi","Hardware"],"title":"Raspberry Pi. Cambiando el equipo","uri":"/2020-10-30-rpi-cambiando-equipo/"},{"categories":["Bash"],"content":"A veces tengo que crear unos cuantos directorios (normalmente para musica). Si son 5 no pasa nada, pero cuando son m√°s de 20, pues al final te cansas un poco. Pero buscando por internet, encontre una instrucci√≥n en BASH que hace lo mismo. La instrucci√≥n es la siguiente: usuari@debian:~$ xargs -I{} mkdir -p \"{}\" \u003c dirs.txt Donde: dirs.txt: El fichero donde estan los directorios a crear Hasta aqui hemos llegado. A ver si en un futuro, voy poniendo otras instrucciones que me son de utilidad y nunca se sabe, tambien os pueden servir. Referencia","date":"31-08-2020","objectID":"/2020-08-31-crear-directorios-lista/:0:0","tags":["Bash","Debian GNU/Linux"],"title":"Crear directorios a partir de un fichero de texto","uri":"/2020-08-31-crear-directorios-lista/"},{"categories":["Bash"],"content":"A veces tengo que copiar un fichero (normalmente una caratula para la musica) a varios directorios. Si son 5 no pasa nada, pero cuando son m√°s de 20, pues al final te cansas un poco. Pero buscando por internet, encontre una instrucci√≥n en BASH que hace lo mismo. La instrucci√≥n es la siguiente: usuari@debian:~$ for dir in *; do [ -d \"$dir\" ] \u0026\u0026 cp /path/file.txt \"$dir\" ; done Donde: $dir: son los directorios de destino /path/file.txt: es el fichero que quiero copiar en los diferentes directorios Hasta aqui hemos llegado. A ver si en un futuro, voy poniendo otras instrucciones que me son de utilidad y nunca se sabe, tambien os pueden servir. Referencia","date":"30-08-2020","objectID":"/2020-08-30-copiar-archivo-varios-directorios/:0:0","tags":["Bash","Debian GNU/Linux"],"title":"Copiar un archivo a varios directores","uri":"/2020-08-30-copiar-archivo-varios-directorios/"},{"categories":["Bash"],"content":"A veces tengo que mover varios ficheros (normalmente epub - libros electronicos). Si son 5 no pasa nada, pero cuando son m√°s de 20, pues al final te cansas un poco. Pero buscando por internet, encontre una instrucci√≥n en Bash que hace lo mismo. La instrucci√≥n es la siguiente: usuari@debian:~$ find . -type f -name *.ext -exec mv {} /tmp \\; Donde: .ext: extensi√≥n de los ficheros que queremos mover Hasta aqui hemos llegado. A ver si en un futuro, voy poniendo otras instrucciones que me son de utilidad y nunca se sabe, tambien os pueden servir. Referencia","date":"29-08-2020","objectID":"/2020-08-29-mover-ficheros-directorio/:0:0","tags":["Bash","Debian GNU/Linux"],"title":"Mover ficheros de un arbol de directorios a un directorio","uri":"/2020-08-29-mover-ficheros-directorio/"},{"categories":["i3wm"],"content":"Aqui va una nueva entrada y en este caso hace referencia a i3wm Primero un poco de historia con respecto al porque de este post. Desde hace a√±os (cuando KDE se volvio tan pesado y desapareci√≥ el paquete kde-minimal) cambie a XFCE4 y todo fue bien, hasta que vi que (en mi opini√≥n), se habia estancado, por eso decidi hacer un cambio y hablando con gente de exDebian me aconsejaron probar i3wm. Asi que empeze a buscar informaci√≥n y fue cuando encontre esta colecci√≥n de 3 videos en Youtube - i3wm que me abrieron las puertas a i3wm Y gracias a estos videos, me puse manos a la obra. Pero como siempre me pasa, soy un culo inquieto y tambi√©n me canse, aunque creo que m√°s que cansanci√≥ fue ganas de buscar otra cosa o probar cosas nuevas. Asi que aprovechando que me compre un SSD - Samsung Evo 860 volvi a XFCE4. Pero fue mi mayor error. Porque con el recuerdo de i3wm en la mente, queria tener la misma funcionalidad en XFCE4 y eso no podia ser (algunas cosas si, pero otras no). Hasta que me canse y he vuelto a i3wm para (en principio) quedarme con el. Asi que aqui voy a explicar todo el proceso de instalaci√≥n y configuraci√≥n que he usado para mi i3wm. ","date":"06-08-2020","objectID":"/2020-08-06-usando-i3-wm/:0:0","tags":["i3wm","Debian GNU/Linux"],"title":"Usando i3-wm","uri":"/2020-08-06-usando-i3-wm/"},{"categories":["i3wm"],"content":"1. Instalar en Debian GNU/Linux Es la parte m√°s sencilla de todo el proceso y sobretodo en Debian GNU/Linux: usuari@debian:~$ sudo aptitude install i3-wm i3blocks i3status Con esta instrucci√≥n tan sencilla, ya tenemos los basico y necesario para usar i3-wm, ahora solo falta lanzarlo (en mi caso uso lightdm). ","date":"06-08-2020","objectID":"/2020-08-06-usando-i3-wm/:0:1","tags":["i3wm","Debian GNU/Linux"],"title":"Usando i3-wm","uri":"/2020-08-06-usando-i3-wm/"},{"categories":["i3wm"],"content":"2. Configuraci√≥n del entorno Una vez que accedemos, nos aparece una pantalla, no os espereis una gran cosa, parece m√°s que sea de consola, nos pide elegir el modkey queremos usar. En mi caso, uso la tecla de windows porque se no usa para nada en caso de tener Debian GNU/Linux. Tambien nos da opci√≥n de usar la tecla Alt, aunque yo no recomiendo esta. Con este simple paso se puede decir que hemos realizado el primer paso de la configuraci√≥n de i3-wm. Ahora viene lo m√°s dificil (al principio lo parece, pero luego no es tanto) la configuraci√≥ del resto del entorno. El fichero de configuraci√≥n lo encontramos ~/.config/i3/config ","date":"06-08-2020","objectID":"/2020-08-06-usando-i3-wm/:0:2","tags":["i3wm","Debian GNU/Linux"],"title":"Usando i3-wm","uri":"/2020-08-06-usando-i3-wm/"},{"categories":["i3wm"],"content":"3. Instalar programas basicos Para poder usar un poco m√°s holgadamente i3-wm os recomiendo que instaleis las siguientes aplicaciones que os facilitaran un poco la vida: Obtener informaci√≥n sobre la bateria: ACPI. Informaci√≥n sobre el volumen: Yo uso ALSA-UTILS, aunque seguramente otro tambien sirve. Lanzador de aplicaciones: Puede usar el que recomienda que es dmenu, pero es mejor ROFI. Para el fondo de pantalla: Yo uso FEH. Para el control del sonido: Yo uso PAVUCONTROL y PULSE Para visualizar informaci√≥n de la papelera en la barra de estado: Yo uso TRASH, que se puede encontrar en esta pagina. Apariencia: Yo me he decantado por LXAPPEARENCE, es facil de usar y no necesita muchas cosas para su uso. Con el puedes configurar iconos, temas, fuentes (que hablare m√°s adelante), etc‚Ä¶ Barra de estado: Yo uso I3BLOCK, es facil de usar y de configurar y tiene multiples opciones. ","date":"06-08-2020","objectID":"/2020-08-06-usando-i3-wm/:0:3","tags":["i3wm","Debian GNU/Linux"],"title":"Usando i3-wm","uri":"/2020-08-06-usando-i3-wm/"},{"categories":["i3wm"],"content":"4. Configurar las fuentes a usar Una de las cosas que es util de hacer (porque no es facil) es configurar manualmente las fuentes que vas a usar. En principio son dos. Font Awesome: Para los iconos que puedes usar en la barra de estado (i3block) System San Francisco: Que emula las letras de MACOSX y que quedan bien (aunque tu puedes usar otras). Una vez que las hayas descargado, solamente tienes que crear un directorio ~/.fonts donde copiaras los ttf que has descargado y ya estaran listos para su uso. La segunda parte es la modificaci√≥n de los siguientes ficheros para que lxappearence y con ello todo el sistema use las fuentes. Estos dos ficheros son: ~/.gtkrc-2.0: En la opci√≥n gtk-font-name= tienes que poner \"System San Francisco Display 10\" ~/.config/gtk-3.0: En la opci√≥n gtk-font-name tienes que poner System San Francisco Display 10 Y con esto tendras configurado el sistema para que use esta fuente. Nota Se podria hacer a traves de lxappearence, pero no detecta esta fuente y no la podras seleccionar, por eso modificamos directamente los ficheros anteriores. ","date":"06-08-2020","objectID":"/2020-08-06-usando-i3-wm/:0:4","tags":["i3wm","Debian GNU/Linux"],"title":"Usando i3-wm","uri":"/2020-08-06-usando-i3-wm/"},{"categories":["i3wm"],"content":"Mi Escritorio Despu√©s de la instalaci√≥n y si le dedicas un poco de tiempo, te puede quedar algo parecido al mio (o mejor) eso depende del gusto de cada uno. ScreenShot ","date":"06-08-2020","objectID":"/2020-08-06-usando-i3-wm/:0:5","tags":["i3wm","Debian GNU/Linux"],"title":"Usando i3-wm","uri":"/2020-08-06-usando-i3-wm/"},{"categories":["i3wm"],"content":"Mi Configuraci√≥n A continuaci√≥n, siendo la parte m√°s interesante, la configuraci√≥n, os pongo la que yo uso (que seguro que en un futuro ire mejorando) pero que os puede servir como base de inicio. Mi configuraci√≥n de i3-wm Mi configuraci√≥n de i3blocks .config/i3/config: # This file has been auto-generated by i3-config-wizard(1). # It will not be overwritten, so edit it as you like. # # Should you change your keyboard layout some time, delete # this file and re-run i3-config-wizard(1). # # i3 config file (v4) # # Please see https://i3wm.org/docs/userguide.html for a complete reference! set $mod Mod4 # # VARIABLES DEL SISTEMA - COLORS # set $bg-color #2f343f set $inactive-bg-color #2f343f set $text-color #f3f4f5 set $inactive-text-color #676E7D set $urgent-bg-color #E53935 # # VARIABLES DEL SISTEMA - COLORS PER A LES FINESTRES # border background text indicator client.focused $bg-color $bg-color $text-color #00ff00 client.unfocused $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00 client.focused_inactive $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00 client.urgent $urgent-bg-color $urgent-bg-color $text-color #00ff00 # Font for window titles. Will also be used by the bar unless a different font # is used in the bar {} block below. font pango:System San Francisco Display 9 # # VORES DE LES PANTALLES MES PRIMES # hide_edge_borders both # This font is widely installed, provides lots of unicode glyphs, right-to-left # text rendering and scalability on retina/hidpi displays (thanks to pango). # font pango:DejaVu Sans Mono 8 # Before i3 v4.8, we used to recommend this one as the default: # font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1 # The font above is very space-efficient, that is, it looks good, sharp and # clear in small sizes. However, its unicode glyph coverage is limited, the old # X core fonts rendering does not support right-to-left and this being a bitmap # font, it doesn‚Äôt scale on retina/hidpi displays. # Use Mouse+$mod to drag floating windows to their wanted position floating_modifier $mod # start a terminal bindsym $mod+Return exec --no-startup-id xfce4-terminal # kill focused window bindsym $mod+Shift+q kill # start dmenu (a program launcher) #bindsym $mod+d exec dmenu_run #bindsym $mod+d exec --no-startup-id rofi -show run -theme onedark -lines 3 -eh 2 -bw 0 -bc \"$bg-color\" -bg \"$bg-color\" -fg \"$text-color\" -hlbg \"$bg-color\" -hlfg \"#9575cd\" -font \"System San Francisco Display 12\" # AQUEST ES LA PRIMERA VERSIO # bindsym $mod+d exec --no-startup-id i3-dmenu-desktop --dmenu='rofi -theme custom-nord -dmenu -lines 5 -eh 2 -bw 0 -font \"System San Francisco Display 12\" -i sort' # EL QUE ESTIC FENT SERVIR ARA bindsym $mod+d exec \"rofi -show drun -sidebar-mode -theme custom-nord -modi drun,window,ssh -show-icons\" # There also is the (new) i3-dmenu-desktop which only displays applications # shipping a .desktop file. It is a wrapper around dmenu, so you need that # installed. # bindsym $mod+d exec --no-startup-id i3-dmenu-desktop # change focus bindsym $mod+j focus left bindsym $mod+k focus down bindsym $mod+l focus up bindsym $mod+ntilde focus right # alternatively, you can use the cursor keys: bindsym $mod+Left focus left bindsym $mod+Down focus down bindsym $mod+Up focus up bindsym $mod+Right focus right # move focused window bindsym $mod+Shift+j move left bindsym $mod+Shift+k move down bindsym $mod+Shift+l move up bindsym $mod+Shift+ntilde move right # alternatively, you can use the cursor keys: bindsym $mod+Shift+Left move left bindsym $mod+Shift+Down move down bindsym $mod+Shift+Up move up bindsym $mod+Shift+Right move right # split in horizontal orientation bindsym $mod+h split h # split in vertical orientation bindsym $mod+v split v # enter fullscreen mode for the focused container bindsym $mod+f fullscreen toggle # change container layout (stacked, tabbed, toggle split) bindsym $mod+s layout stacking bindsym $mod+w layout tabbed bindsym $mod+e layout toggle split # ","date":"06-08-2020","objectID":"/2020-08-06-usando-i3-wm/:0:6","tags":["i3wm","Debian GNU/Linux"],"title":"Usando i3-wm","uri":"/2020-08-06-usando-i3-wm/"},{"categories":["Raspberry Pi"],"content":"Despu√©s del descubrimiento de docker, tal como dije en otra entrada se ha abierto un nuevo mundo de posibilidades por explorar. Y en este caso hemos descubierto calibre-web. La idea me gusto, porque as√≠, voy quitando peso al port√°til y doy m√°s uso a la RPI3b (de momento a la espera de cambiar a una 4) y adem√°s, con el HDD de 4Tb que viene en camino, pues nos pusimos a ello. Lo primero fue bajarse la imagen correcta y construir el docker-compose.yaml correcto (a continuaci√≥n pongo el que yo uso): calibre: image: linuxserver/calibre-web container_name: calibre restart: unless-stopped ports: - 9393:8083 environment: - PUID=1001 - PGID=1001 - TZ=Europe/Madrid volumes: - ${STORAGE}/config/calibre:/config - ${MEDIA}/ebooks:/books Luego hay que hacer un simple: usuari@raspberry:~$ docker-compose up -d calibre Ya lo tienes funcionando sin ning√∫n problema (aunque no es del todo cierto) porque para empezar a funcionar correctamente tienes que ponerle la librer√≠a (metadata.db) que venias usando hasta este momento. Una vez hecho esto ya tienes tu calibre-web en funcionamiento. El √∫nico problema que tenia yo y que no me gustaba, es que a la hora de subir los libros (tienes que dar permiso para que se pueda hacer) los datos del libro y la caratula, no te los coge de los metadatos del propio libro, sino que busca la informaci√≥n a trav√©s de Google o de Douban y esto yo no quer√≠a que fuera as√≠. Despu√©s de investigar, probar otras aplicaciones (es una lastima que no haya el calibre disponible para la arquitectura ARM, porque para x86 si que esta), ninguna me gustaba tanto como calibre-web. Hasta que al final, revisando los ficheros que tiene el container, dentro del directorio app hay unos ficheros de informaci√≥n (podr√≠an estar m√°s accesibles o estar en la documentaci√≥n del container) te informa que si instalas (la imagen se basa en ubuntu) el paquete lxml se puede tener acceso a los metadatas de los libros, as√≠ que me puse a ello: usuari@raspberry:~$ sudo apt-get update usuari@raspberry:~$ sudo apt-get install --no-install-recommends python3-lxml Despu√©s de instalar el paquete, prob√© a subir un libro y ya si que funciono como yo quer√≠a, como la versi√≥n de calibre que te instalas en modo local. Referencia","date":"12-04-2020","objectID":"/2020-04-12-usando-calibre-web/:0:0","tags":["Raspberry Pi","Docker"],"title":"Usando Calibre-Web","uri":"/2020-04-12-usando-calibre-web/"},{"categories":["Raspberry Pi"],"content":"Siempre me pasa lo mismo, me hago mis chuletas y apuntes, pero nunca me pongo como se realiza la instalaci√≥n sobre la cual funcionan las chuletas. Por eso, ahora voy a explicar como se realiza la instalaci√≥n de Docker en Raspbian (en mi caso sobre una Raspberry pi 3b) Nota Actualmente tengo una RPI4B de 4Gb, pero el proceso es el mismo. A continuaci√≥n explicamos el proceso de instalaci√≥n de Docker: ","date":"08-03-2020","objectID":"/2020-03-08-rpi-usando-docker/:0:0","tags":["Raspberry Pi","Docker"],"title":"Raspberry Pi. Pasos para instalar Docker en Raspbian","uri":"/2020-03-08-rpi-usando-docker/"},{"categories":["Raspberry Pi"],"content":"1. Instalar paquetes necesarios usuari@raspberry:~$ sudo apt-get update \u0026\u0026 sudo apt-get install -y apt-transport-https ca-certificates curl gnupg2 software-properties-common ","date":"08-03-2020","objectID":"/2020-03-08-rpi-usando-docker/:1:0","tags":["Raspberry Pi","Docker"],"title":"Raspberry Pi. Pasos para instalar Docker en Raspbian","uri":"/2020-03-08-rpi-usando-docker/"},{"categories":["Raspberry Pi"],"content":"2. Instalar firmas GPG del repo de Docker usuari@raspberry:~$ curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add - usuari@raspberry:~$ sudo apt-key fingerprint 0EBFCD88 ","date":"08-03-2020","objectID":"/2020-03-08-rpi-usando-docker/:2:0","tags":["Raspberry Pi","Docker"],"title":"Raspberry Pi. Pasos para instalar Docker en Raspbian","uri":"/2020-03-08-rpi-usando-docker/"},{"categories":["Raspberry Pi"],"content":"3. Agregar repo de Docker echo \"deb [arch=armhf] https://download.docker.com/linux/debian \\ $(lsb_release -cs) stable\" | \\ sudo tee /etc/apt/sources.list.d/docker.list ","date":"08-03-2020","objectID":"/2020-03-08-rpi-usando-docker/:3:0","tags":["Raspberry Pi","Docker"],"title":"Raspberry Pi. Pasos para instalar Docker en Raspbian","uri":"/2020-03-08-rpi-usando-docker/"},{"categories":["Raspberry Pi"],"content":"4. Instalar Docker usuari@raspberry:~$ sudo apt-get update \u0026\u0026 sudo apt-get install -y docker-ce docker-compose ","date":"08-03-2020","objectID":"/2020-03-08-rpi-usando-docker/:4:0","tags":["Raspberry Pi","Docker"],"title":"Raspberry Pi. Pasos para instalar Docker en Raspbian","uri":"/2020-03-08-rpi-usando-docker/"},{"categories":["Raspberry Pi"],"content":"5. Agregar usuario al grupo docker y desloguearse y volverse a loguear usuari@raspberry:~$ sudo usermod -a -G docker tuUsuario #(logout and login) Referencia Pasos para instalar Docker ","date":"08-03-2020","objectID":"/2020-03-08-rpi-usando-docker/:5:0","tags":["Raspberry Pi","Docker"],"title":"Raspberry Pi. Pasos para instalar Docker en Raspbian","uri":"/2020-03-08-rpi-usando-docker/"},{"categories":["Docker"],"content":"√öltimamente me he metido en el mundo de Docker para mi Raspberry y se me ha abierto un mundo nuevo de posibilidades infinitas. A continuaci√≥n pongo un TIP sobre Docker y el mantenimiento (eliminaci√≥n) de vol√∫menes / im√°genes que ya no se utilizan. ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:0:0","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"ELIMINAR TODO LO NO USADO En el caso de que lleguemos al punto de tener nuestro sistema hecho un desastre, hay un comando en Docker que sirve para limpiar im√°genes, contenedores, vol√∫menes y dispositivos de red, que no est√©n asociadas a ning√∫n contenedor. usuari@raspberry:~$ docker system prune Si le a√±adimos el flag -a al final, borraremos tambi√©n: Todos los contenedores parados Todas las im√°genes que no se est√©n usando en ese momento. usuari@raspberry:~$ docker system prune -a ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:1:0","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"BORRAR IM√ÅGENES DE DOCKER ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:2:0","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"Borrar Im√°genes Para ver las im√°genes que tenemos en el sistema, podemos usar el comando: docker images -a Gracias al flag -a veremos todas las im√°genes de Docker (incluidas las im√°genes intermedias). Una vez localizada la imagen que queremos borrar, utilizaremos su ID para borrarla: usuari@raspberry:~$ docker rmi ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:2:1","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"Borrar im√°genes ‚Äúcolgadas‚Äù (dangling images) Las im√°genes colgadas son las capas de im√°genes que no se est√°n utilizando en ning√∫n contenedor, tanto que est√©n en funcionamiento como que est√©n parados. Estas im√°genes pueden ser borradas en la gran mayor√≠a de las veces. Podemos ver estas im√°genes con el comando: usuari@raspberry:~$ docker images -f dangling=true Para borrarlas: usuari@raspberry:~$ docker images purge ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:2:2","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"Borrar todas las im√°genes Si queremos borrar todas las im√°genes, podemos ejecutar: usuari@raspberry:~$ docker rmi $(docker images -a -q) ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:2:3","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"BORRAR CONTENEDORES DOCKER ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:3:0","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"Borrar Contenedores Primero debemos localizar los contenedores que queremos borrar, para ello ejecutaremos el comando: usuari@raspberry:~$ docker ps -a Para borrarlos: usuari@raspberry:~$ docker rm Si no quieres que un contenedor se quede ah√≠ una vez parado, puedes lanzar el proceso con el flag -rm: usuari@raspberry:~$ docker run -rm ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:3:1","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"Borrar contenedores mediante filtros Podemos usar filtros para seleccionar contenedores, por ejemplo: usuari@raspberry:~$ docker ps -a -s status=exited -f status=created Combin√°ndolos con los comandos anteriores, sirve para borrarlos: usuari@raspberry:~$ docker rm $(docker ps -a -f status=exited -f status=created -q) ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:3:2","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"Parar y borrar todos los contenedores Docker Tambi√©n podemos parar y borrar todos los contenedores con un solo comando: usuari@raspberry:~$ docker rm $(docker ps -a -q) ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:3:3","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"BORRANDO VOL√öMENES DE DOCKER ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:4:0","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"Borrar vol√∫menes Para ver los vol√∫menes que tenemos en el sistema, podemos usar el comando: usuari@raspberry:~$ docker volume ls Cuando localizamos el volumen, lo podemos borrar con: usuari@raspberry:~$ docker volume rm ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:4:1","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Docker"],"content":"Borrar vol√∫menes colgados (dangling volume) Los volumenes colgados son aquellos que no estan conectados a ningun contenedor. Ten en cuenta que es posible que haya volumenes en ese estado que no tengas que ser borrados. Para verlos utilizaremos: usuari@raspberry:~$ docker volume ls -f dangling=true Localizaremos los que queremos borrar y lo haremos con el mismo comando del punto anterior: usuari@raspberry:~$ docker volume rm Si queremos borrar todos los dangling volumes, ejecutaremos: usuari@raspberry:~$ docker volume prune Referencia Como borrar containers, imagenes, etc‚Ä¶ ","date":"16-02-2020","objectID":"/2020-02-16-tip-docker/:4:2","tags":["Docker"],"title":"TIP Sobre Docker","uri":"/2020-02-16-tip-docker/"},{"categories":["Raspberry Pi"],"content":"A continuaci√≥n pongo unos cuantos TIPS m√°s con respecto a Raspbian, mayormente para que no se me olviden para m√°s adelanta üòâ ","date":"13-12-2019","objectID":"/2019-12-13-tip-raspbian-raspberry/:0:0","tags":["Raspberry Pi","Hardware"],"title":"TIP Sobre Raspbian / Raspberry","uri":"/2019-12-13-tip-raspbian-raspberry/"},{"categories":["Raspberry Pi"],"content":"Desactivar la wifi y el bluetooth de la Raspberry Para hacer esto, solamente se tiene que modificar un fichero : root@raspberry:~# vi /boot/config.txt Y luego a√±adimos lo siguiente : dtoverlay=disable-wifi dtoverlay=disable-bt ","date":"13-12-2019","objectID":"/2019-12-13-tip-raspbian-raspberry/:1:0","tags":["Raspberry Pi","Hardware"],"title":"TIP Sobre Raspbian / Raspberry","uri":"/2019-12-13-tip-raspbian-raspberry/"},{"categories":["Raspberry Pi"],"content":"Obtener m√°s voltaje en las salidas de USB root@raspberry:~# vi /boot/config.txt Luego a√±adimos lo siguiente: max_usb_current=1 ","date":"13-12-2019","objectID":"/2019-12-13-tip-raspbian-raspberry/:2:0","tags":["Raspberry Pi","Hardware"],"title":"TIP Sobre Raspbian / Raspberry","uri":"/2019-12-13-tip-raspbian-raspberry/"},{"categories":["Raspberry Pi"],"content":"Alias SSH A continuaci√≥n, pongo un atajo (que he descubierto hace poco de un Youtuber llamado PeladoNerd) para cuando tenemos que conectarnos a maquinas remotas a trav√©s de SSH, en vez de estar escribiendo todo el rato la IP, Puerto y Usuario, se puede hacer a trav√©s de un alias. Esto se hace a traves del siguiente fichero: usuari@raspberry: ~$ vi .ssh/config Y a√±adimos lo siguiente : Host aliasMaquina Hostname Ip de la Maquina User usuario de connexi√≥n Port Puerto de connexi√≥n en caso de no tener el por defecto Con este simple fichero, tal como he dicho antes, con solo hacer : usuari@raspberry: ~$ ssh aliasMaquina Nos conectaremos directamente a la maquina. En mi caso, me pide el password, porque lo tengo configurado as√≠. Referencia OpenSSH Config Aprendiendo SSH ","date":"13-12-2019","objectID":"/2019-12-13-tip-raspbian-raspberry/:3:0","tags":["Raspberry Pi","Hardware"],"title":"TIP Sobre Raspbian / Raspberry","uri":"/2019-12-13-tip-raspbian-raspberry/"},{"categories":["FreeBSD"],"content":"Aqui va otra entrada con respecto a FreeBSD. En este caso, es como se puede hacer la actualizaci√≥n del sistema STABLE, es la que estoy usando yo en estos momentos. Lo primero que tenemos que instalar el subversion, para hacer esto, se hace de la siguiente manera: root@freebsd:~# pkg install subversion Una vez tenemos instalado subversion, lo siguiente es actualizar el sistema, lo vuelvo a repetir, yo lo hago de esta manera: Lo primero, es actualizar es el arbol del sistema rootfreebsd:~# svn checkout https://svn.freebsd.org/base/stable/11 /usr/src Ahora pasamos a actualizar el sistema root@freebsd:~# svn update /usr/src Esto tarda un rato, dependiendo de la velocidad que tengais. Una vez, haya finalizado la actualizaci√≥n, se recomienda leer el fichero /usr/src/UPDATING para ver las modificaciones que comporta esta actualizaci√≥n y a continuaci√≥n: root@freebsd:~# cd /usr/src root@freebsd:~# make -j4 buildworld En la anterior instrucci√≥n, a mi entender, compila / construye el sistema, por eso, tomarlo con calma. He puesto -j4 porque son el numero de CPU / CORES que quiero que use esta instrucci√≥n. A m√°s cpu / cores, m√°s rapido ira la compilaci√≥n, pero puede repercutir en la maquina, eso sois vosotros los que teneis que encontrar el punto intermedio. Ahora, pasamos a: root@freebsd:~# make -j4 kernel Se aplica la misma norma que en la anterior instrucci√≥n. Una vez que se ha realizado la compilaci√≥n del sistema y del kernel, reiniciamos el sistema root@freebsd:~# shutdown -r now Ahora, a mi entender, actualizamos el sistema, con la siguiente instrucci√≥n : root@freebsd:~# cd /usr/src root@freebsd:~# make installworld Cuando finalize, hacemos lo siguiente: root@freebsd:~# mergemarster -Ui Para finalizar, reiniciamos el sistema. root@freebsd:~# shutdown -r now Con esto, ya tenemos el sistema actualizado. Referencia","date":"11-11-2019","objectID":"/2017-11-11-actualizar-freebsd-stable/:0:0","tags":["FreeBSD"],"title":"Actualizar FreeBSD (STABLE)","uri":"/2017-11-11-actualizar-freebsd-stable/"},{"categories":["FreeBSD"],"content":"Siguiendo con mis entradas que hacen referencia a FreeBSD, a continuaci√≥n dejo la que uso en mi portatil Lenovo Y700 y que parece ser que funciona correctamente. A lo mejor en el futuro la voy modificando dependiendo del funcionamiento que vaya teniendo‚Ä¶ root@freebsd:~# vi /boot/loader.conf # CONSOLA kern.vty=vt # Esto es una cosa que tengo que seguir investigando, porque no acaba de funcionar # correctamente. kern.vt.fb.default_mode=\"1440x900\" hw.vga.textmode=1 # ACPI IBM/LENOVO acpi_ibm_load=\"YES\" acpi_video_load=\"YES\" hint.p4tcc.0.disabled=1 hint.acpi_throttle.0.disabled=1 # WIFI # LO TENGO DESACTIVADO, PORQUE NO LO USO, PERO... #if_iwm_load=\"YES\" #iwm7265fw_load=\"YES\" root@freebsd:~# vi /etc.rc.conf # ESTO YA VIENE POR DEFECTE DESPUES DE INSTALAR EL SISTEMA clear_tmp_enable=\"YES\" sendmail_enable=\"NONE\" keymap = \"es.acc\" hostname = \"miMaquina\" ifconfig_xxx = \"inet x.x.x.x netmask 255.255.255.0\" defaultrouter = \"x.x.x.x\" dumpdev = \"AUTO\" # COSAS QUE HE A√ëADIDO # NTP_DATE (TENGO QUE SEGUIR INVESTIGANDO PORQUE NO ME ACABA DE FUNCIONAR # CORRECTAMENTE) ntpd_enable = \"YES\" # XORG dbus_enable = \"YES\" hald_enable = \"YES\" # POWERD powerd_enable = \"YES\" performance_cx_lowert = \"Cmax\" economy_cx_lowert = \"Cmax\" # SSH (DE MOMENTO NO LO TENGO CONFIGURADO), ASI QUE, DESACTIVADO sshd_enable = \"NO\" # WIFI (DESACTIVADO PORQUE NO LO USO) #wlans_iwm0 = \"wlan0\" ifconfig_wlan0 = \"WPA SYNCDHCP\" root@freebsd:~# vi /etc/sysctl.conf # Desactivamos el Speaker hw.syscons.bell = 0 root@freebsd:~# vi /etc/fstab proc /proc procfs rw 0 0 De momento, esto es todo. Referencia","date":"11-11-2019","objectID":"/2017-11-11-mi-configuracion-freebsd/:0:0","tags":["FreeBSD"],"title":"Mi configuraci√≥n en FreeBSD","uri":"/2017-11-11-mi-configuracion-freebsd/"},{"categories":["Debian GNU/Linux"],"content":"Despu√©s de mucho tiempo, pongo un TIP para que no se me olvide en caso de necesitarlo. A lo mejor pongo m√°s de uno, porque despu√©s me cuesta mucho buscarlos de nuevo. As√≠ que aqui va el primero. Para instalar y configurar sudo, los pasos (los que yo utilizo) son los siguientes: root@debian:~# apt-get install sudo Una vez se ha instalado, ejecutamos: visudo Esta instrucci√≥n se usa, para que en caso de trabajar con este fichero m√°s de una persona, no se pierda la informaci√≥n de las modificacions que va haciendo cada usuario, por eso es recomendable, aunque tambien se puede hacer editando el fichero: root@debian:~#vi /etc/sudoers La definici√≥n de este fichero es la siguiente: nombre_usuario nombre_equipo = (usuario:grupo) comando_restringir En este caso, vamos a dar permisos a un usuario en concreto: tu_usuario ALL=(ALL:ALL) ALL Lo que hace es que al usuario tu_usuario le damos permiso para que en cualquier equipo pueda ejecutar cualquier comando en nombre de cualquier usuario y grupo. Dar permisos de root a un usuario: tu_usuario tu_maquina=(root:root) ALL Lo que hacemos es dar permisos a tu_usuario en tu_maquina para ejecutar cualquier comando en nombre de root. La diferencia con la instrucci√≥n de antes, es que en este caso, solo lo podra hacer en la maquina tu_maquina y solo lo podra hacer en nombre del usuario root. Desactivar usuario root: Una vez tenemos configurado sudo a nuestro gusto, en mi caso, he desactivado el acceso al usuario root de la siguiente manera: Antes de seguir adelante, se tiene que estar seguro de que todo la configuraci√≥n de sudo esta correctamente, porque entonces no podremos volver atras y podriamos tener graves problemas. Para bloquear al usuario root ejecutamos la siguiente instrucci√≥n: usuari@debian:~$ sudo usermod --lock --expiredate 1979-01-01 root Una vez ejecutado este comando, el usuario root queda desactivado y todas las instrucciones se realizan a traves de sudo. En el caso de querer reactivar al usuario root, tan solo tendriamos que ejecutar el siguiente comando: usuari@debian:~$ sudo usermod --unlock --expiredate 99999 root El primer TIP ya esta listo. Referencia Configurar SUDO ","date":"11-11-2019","objectID":"/2019-11-11-tip-sudo-debian/:0:0","tags":["Debian GNU/Linux"],"title":"TIP sobre SUDO en GNU/Linux","uri":"/2019-11-11-tip-sudo-debian/"},{"categories":["FreeBSD"],"content":"Siguiendo mi aprendizaje con FreeBSD, aqui explico, seguramente en otros sitios diferentes de este basto oceano llamado internet, lo encontrareis mejor explicado, como grabar un fichero *.img a un prendrive, es una cosa que nunca me acuerdo como se hace y siempre acabo buscandolo. La instrucci√≥n para realizar esta acci√≥n es la siguiente: root@debian:~# dd if=FreeBSD-11.0-STABLE-amd64-20170510-r318134-memstick.img of=/dev/sdb bs=1024 conv=sync Donde: dd es el comanda para realizar la grabaci√≥n. if=*.img donde se encuentra la imagen de disco memstick. of=/dev/sdb donde esta el pendrive (lo estoy haciendo desde GNU/Linux). bs=10204 y conv=sync son los valores recomendados por el equipo FreeBSD para realizar la grabaci√≥n. Referencia","date":"15-05-2019","objectID":"/2017-05-15-img-usb/:0:0","tags":["FreeBSD"],"title":"Grabar fichero img a USB","uri":"/2017-05-15-img-usb/"},{"categories":["FreeBSD"],"content":"Una de las cosas que echo en falta a la hora de realizar la instalaci√≥n de FreeBSD es poder configurar UTF-8 en el instalador. Al igual que muchos sistemas operativo de la familia UNIX, FreeBSD no viene configurado para utilizar la codificaci√≥n de caracteres UTF-8 por defecto, sin embargo esta totalmente soportado y es facilmente configurable. Para determinar el locale apropiado para nuestro lenguaje y localizaci√≥n es posible utilizar la herramienta locale, para obtener m√°s informaci√≥n de su funcionamiento, con un simple man locale accedemos a su manual: locale -a | grep -i utf Mi FreeBSD 11.0 posee soporte para las siguientes configuraciones regionales (no las pongo todas, pongo la primera, la que voy a utilizar y la ultima): usuari@freebsd:~% locale -a | grep -i utf af_ZA.UTF-8 .. .. es_ES.UTF-8 .. .. zh_TW.UTF-8 En mi caso, voy a utilizar es_ES.UTF-8. Para determinar cual es la configuraci√≥n regional actual, ejecutar simplemente locale: usuari@freebsd:~% locale LANG= LC_CTYPE=\"C\" LC_COLLATE=\"C\" LC_TIME=\"C\" LC_NUMERIC=\"C\" LC_MONETARY=\"C\" LC_MESSAGES=\"C\" LC_ALL= Se observa que se esta utilizando el locale C/POSIC, donde C y POSIC son aliases. Por lo tanto, es necesario cambiar el locale a UTF-8, para poder visualizar correctamente los tildes y e√±es. Para ello, editar el archivo /etc/login.conf: root@freebsd:~# vi /etc/login.conf :charset=UTF-8:\\ :lang=es_ES.UTF-8: Consejo En la ultima variable no se debe escapar el salto de linea Luego es necesario ejecutar cap_mkdb para regenerar la base de datos de capacidades de login: root@freebsd:~# cap_mkdb /etc/login.conf Ahora, vamos a configurar otro fichero que hace falta: root@freebsd:~# vi /etc/profile LANG=en_US.UTF-8; export LANG CHARSET=UTF-8; export CHARSET Finalmente, cerrar la sesi√≥n. Luego de iniciar la sesi√≥n, es posible verificar la configuraci√≥n regional nuevamente: usuari@freebsd:~% locale LANG=es_ES.UTF-8 LC_TYPE=\"es_ES.UTF-8\" LC_COLLATE=\"es_ES.UTF-8\" LC_TIME=\"es_ES.UTF-8\" LC_NUMERIC=\"es_ES.UTF-8\" LC_MONETARY=\"es_ES.UTF-8\" LC_MESSAGES=\"es_ES.UTF-8\" LC_ALL= Notar como LC_COLLATE se mantiene en C. A partir de este momento, se visualizaran correctamente los tildes y e√±es en nombre de archivo, sesiones SSH y al escribir texto. Referencia","date":"03-05-2017","objectID":"/2017-05-03-utilizar-utf8-freebsd/:0:0","tags":["FreeBSD"],"title":"Utilizar UTF-8 en FreeBSD","uri":"/2017-05-03-utilizar-utf8-freebsd/"},{"categories":["FreeBSD"],"content":" Nota Antes de nada, decir que esto no es una critica a FreeBSD ni una guerra de cual es mejor (porque de eso, si buscas en cualquier foro de FreeBSD o de GNU/Linux encontraras muchas y mejores). Es mi opinion personal como usuario desde hace muchos a√±os de Debian GNU/Linux (empece con Debian GNU/Linux Potato) con respecto a la transici√≥n de Debian GNU/Linux a FreeBSD. Despu√©s de hacer esta aclaraci√≥n, ya podemos empezar‚Ä¶ üòâ Todo esto, viene a raiz del pesimo modo (en mi opinion) en que se ha llevado a cabo la implementaci√≥n de Systemd en Debian GNU/Linux. A raiz de este cambio, estuve buscando alternativas, pero todas las versi√≥n de Linux ya tienen implementado Systemd en su interior y la unica alternativa que quedaba era FreeBSD. Y desde hace un par de meses, vengo haciendo pruebas en mi Dell XPS (junto con un HDD de 250GB) con FreeBSD y a continuaci√≥n explico mi opinion personal con respecto a su instalaci√≥n y uso (que conste que esto, lo estoy escribiendo desde Debian GNU/Linux). Advertencia Repito, es mi opini√≥n personal. ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:0:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"1. Instalaci√≥n Es como se realizaba hace un par de a√±os en Debian GNU/Linux, asi que no es muy complicada. Lo unico que veo es la falta de UTF, a parte de esto, una instalaci√≥n muy facil y sencilla. Y eso, que yo no use, todo el HDD como unica partici√≥n, sino que hice las siguientes (constumbre de Debian GNU/Linux): mount point size ---------- ----------- / 5Gb /tmp 5Gb /usr 24Gb /usr/home 190Gb /var 5Gb swap 3.5Gb ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:1:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"2. Paquetes Luego esta todo el tema de la instalaci√≥n de paquetes, en mi opini√≥n, ahora con pkg han echo un gran paso en su usabilidad, aunque aun estan los ports (un tema que me trae de cabeza y que nunca he logrado entender), a parte de que en mi portatil, no puedo usarlos, porque por cuestiones de temperatura no podia hacerlo ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:2:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"3. Configuraci√≥ sistema La configuraci√≥n del sistema es facil, en principio, si no tienes nada raro, toda esta ya se ha realizado en la instalaci√≥n. ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:3:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"4.Temperatura del sistema La temperatura, este es otro tema que me ha traido de cabeza, porque todo el rato, el ventilador estaba funcionando (eso si, la tecnologia Optimus, no ayuda mucho). Para que os hagais una idea: | Uso | Debian GNU/Linux | FreeBSD | | ------- | ---------------- | ------- | | Normal | 54¬∫ | 65¬∫ | | Intenso | 65¬∫ | 85¬∫ | En cambio, despu√©s de unas modificaciones en la configuraci√≥n del sistema que me aconsejaron en el Forum de FreeBSD (que seria de mi sin ellos), he conseguido tener las mismas temperaturas que tenia en Debian GNU/Linux en FreeBSD üòâ ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:4:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"5. Xorg, Slim, Xfce Desde hace mucho tiempo que uso Xfce, no necesito m√°s y encima consume pocos recursos. Adem√°s estan en FreeBSD, que m√°s se puede pedir. La instalaci√≥n, como dije antes a traves de pkg es muy facil, sin ningun problema, aunque tengo que decir que para la configuraci√≥n de Xorg (Optimus, ayudando) en un poco diferente a como lo pinta en el HandBook y como te lo intentan vender en el Foro. Porque digo esto, segun el Handbook(5.4.8) ya no es necesario crear el fichero xorg.conf para que todo funcione correctamente, pero en mi caso, no se si por culpa de Optimus o que, si no tenia el fichero xorg.conf, startx no me funcionaban. Despu√©s de mucho preguntar en el foro de FreeBSD, creo que al final, me creyeron cuando dije que sin fichero no me funcionaba. Despu√©s activar Slim junto con DBUS y HAL ya tenia mi Xfce funcionando y en perfecto estado. ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:5:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"6. Aplicaciones varias Ahora mismo, en Debian GNU/Linux uso las siguientes aplicaciones, todas muy basicas: Firefox. VirtualBox Clementine Xpdf Filezilla Claws Mail Chromium Wicd Xfburn Mplayer Calibre Yo creo que todas estas aplicaciones estan todas portadas a FreeBSD, a excepci√≥n de Wicd, que me recomendaron como alternativa usar wifimgr. ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:6:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"7. Hardware externo Porque tengo una secci√≥n sobre el Hardware, porque lo unico que me quedaba por probar es todo el tema de los USB (pendrive, ebook) no uso nada m√°s. Aqui es donde viene el problema, FreeBSD no tiene portado el paquete xfce-volman, asi que tienes que tirar de Handbook. Parezco un poco repetitivo, pero en la documentaci√≥n te lo ponen como que es muy facil, pero realmente no es asi. Tienes que modificar m√°s de un fichero, que si no te lo explican (no viene en la documentaci√≥n) no logras que funcione. Pero gracias a un usuario del foro de FreeBSD, consegui que funcionara, pero de aquella manera. Me explico. Conectaba un pendrive (marca Toshiba), Xfce me lo detectaba correctamente, clicaba en el y todo correcto, podia trabajar con el correctamente. Lo desmontaba y todo perfecto. El problema venia con otro pendrive (marca Sandisk), lo conectaba, lo intentaba montar y ahi es donde tenia el problema. No me lo detectaba. Al final, me aparecia un mensaje indicando Dispositivo Desconocido. Y lo m√°s raro de todo es que si extraia el pendrive, el sistema se reiniciaba solo‚Ä¶. :o ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:7:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"8. Documentaci√≥n Cuando me refiero a la documentaci√≥n, no estoy diciendo que sea mala, desordenada ni nada por es estilo. Yo solamente la comparo con la documentaci√≥n que hay con respecto a Debian GNU/Linux y con toda la documentaci√≥n existente de GNU/Linux. Se puede decir que la documentaci√≥n como tal de GNU/Linux no existe, son miles de paginas desperdigadas por todo internet, en cambio la documentaci√≥n que hay sobre FreeBSD, sabes que esta en un unico sitio y todo bien puesto. A mi modo de ver, es una ventaja y un inconveniente y ahora explico el motivo de porque digo esto. Cuando digo que es una ventaja, es correcto, solamente un grupo de personas, crean, controlan y modifican la documentaci√≥n y no hay miles de documentos desperdigados. El inconveniente es que toda la documentaci√≥n ha sido realizada a traves de una maquina virtual de VirtualBox (se puede ver si revisas un poco el HandBook) BSD Install Esto para mi es un inconveniente, porque la documentaci√≥n se basa en una maquina standart que muy poca gente dispone (ni yo mismo) y cuando vas a buscar ayuda en esta documentaci√≥n con respecto a cualquier problema que no hayan contemplado, pues te vas a volver loco, Pendrive, configuraci√≥n Xorg, etc.. No hay informaci√≥n sobre que hacer con respecto a estos problemas que ellos nunca se han encontrado / contemplado, porque en una maquina virtual, esos problemas no se pueden dar. Si, tienes el foro pero dependiendo como hagas la pregunta y lo experimentado que seas en el tema FreeBSD a lo mejor no te responden (que conste que eso nunca ha sido mi caso), pero si que me ha pasado que en la lista oficial en castellano que estoy suscripto, envie primero mis dudas con respecto a FreeBSD (las mismas que envie al foro) y aun estoy esperando. Que conste que no es una critica, pero‚Ä¶ Asi mismo, con respecto a la documentaci√≥ de a GNU/Linux, yo la veo m√°s util que la documentaci√≥ de FreeBSD, porque es documentaci√≥n que la ha realizado la gente sobre sus propias instalaciones en sus propias maquinas, maquinas reales, y esto es positivo, porque seguramente m√°s gente se ha encontrado el problema de Optimus, es un ejemplo, pero seguro que habras otros casos, y ellos explican la solucion que han tomado con respecto a este problema. Puede que a ti te sirva o no, pero es un punto de partida que puedes tomar. En cambio, esto, en FreeBSD no lo veo, porque como la documentaci√≥n solamente esta controlada por el grupo de FreeBSD, pues‚Ä¶ ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:8:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["FreeBSD"],"content":"9. Conclusi√≥n Esta es la opini√≥n que he sacado despues de las pruebas que he realizado a FreeBSD, a mi modo de ver, aun quedan algunas cosas por pulir. Cuando digo a pulir me estoy refiriendo a facilitar la vida a los usuarios que quieren usar este sistema. Ejemplo claro PKG. Digo esto, porque seguramente m√°s gente que antes estaba contenta con las diferentes distribuciones que existian en GNU/Linux, pero al ver el camino que se ha tomado Systemd, estaran pensado lo mismo que yo y estaran sopesando la idea de pasar a FreeBSD y pueden haber peque√±as cosas que les puedan echar atras. Si, tenemos PCBSD, pero es lo mismo que digo con respecto a Ubuntu y Debian GNU/Linux. Porque vas a usar un sucedanio, si tienes el original. Esto no quiere decir que vaya a desistir de √©l. Me gustaria realizar la migraci√≥n a FreeBSD y poder abrir una nueva etapa de mi vida, tal como hice con Debian GNU/Linux. Esto lo digo con pena, porque veo que Debian GNU/Linux no ha sabido tratar el tema de Systemd como era de esperar respecto a la filosofia que ellos representan‚Ä¶ Referencia FreeBSD Handbook ","date":"20-08-2016","objectID":"/2016-08-20-cambiar-linux-freebsd/:9:0","tags":["FreeBSD"],"title":"Cambiar Debian GNU/Linux por FreeBSD?","uri":"/2016-08-20-cambiar-linux-freebsd/"},{"categories":["Raspberry Pi"],"content":"Una vez que ya tenemos nuestra Raspberry en marcha y funcionando ahora viene la parte divertida, como acceder a ella desde el exterior. En mi caso desde otra ubicaci√≥n y adem√°s con un poco de seguridad para que nadie pueda acceder a ella (recordar que esto se tiene que hacer desde el equipo que se va a conectar a la Raspberry). Esto se consigue a traves de nuestro bien intencionado ssh y una correcta configuraci√≥n que pasare a explicar a continuaci√≥n. Lo primero es tener instalado el paquete openssh-server, luego, procedemos a generar nuestras claves publicas para realizar la connexi√≥n con la Raspberry. Este procedimento se realiza a traves de la instruccion ssh-keygen como se muestra a continuaci√≥n: usuari@raspberry:~$ ssh-keygen -t rsa Generating public/private rsa key pair. Enter file in which to save the key (/home/tuUsuario/.ssh/id_rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/tuUsuario/.ssh/id_rsa. Your public key has been saved in /home/tuUsuario/.ssh/id_rsa.pub. The key fingerprint is: be:11:15:e3:6a:dc:a6:a6:7e:e9:6c:7b:9f:30:28:40 root@poe The key's randomart image is: +--[ RSA 2048]----+ | o | | . o | | E o | | . . + | | . S o | | . o = | | . *.o | | =+o.o . | | .o+=o .o | ---------------+--+ Ahora, pasamos a copiar esta clave publica a nuestro Raspberry con la instrucci√≥n ssh-copy-id como se muestra a continuaci√≥n: usuari@raspberry:~$ ssh-copy-id -i .ssh/id_rsa.pub tuUsuario@ipRaspberry Con esta instrucci√≥n, lo que se hace es copiar nuestra clave publica en la Raspberry. Solamente faltaria realizar la connexi√≥n a traves de ssh para ver el resultado: usuari@raspberry:~$ ssh -l tuUsuario -p tuPuerto ipRaspberry Asi mismo, para obtener un poco m√°s de seguridad, yo lo he echo, es configurar de la siguiente manera el fichero: root@raspberry:~# vi /etc/ssh/sshd_config Modificamos las siguientes opciones: # Desactivar la opci√≥n de acceso a traves de password PasswordAuthetication no # Desactivar la opci√≥n de acceso a traves de root PermitRootLogin no # Acceso a traves de una llave publica PubkeyAuthenticacion yes # Se aconseja cambiar el puerto de acceso del servicio ssh Port 2222 # Cantidad de segundos que la pantalla de login estara disponible LoginGraceTime 60 # No permitimos contrase√±as vacias o en blanco PermitEmptyPasswords no # Numero maximo de errores permitidos al hacer login MaxAuthTries 3 # Numero maximo de conexiones simultaneas por IP MaxStartups 2 Consejo Antes de realizar este procedimiento, es aconsejable borrar las claves que tenemos en la Raspberry y volverlas a generar como simple medida de seguridad, porque estas claves son las mismas en todas las imagenes de Jessie que nos bajamos. Nota Tambien teneis disponible el siguiente articulo donde explico como hacer alias para realizar las conexiones a nuestros servidores de SSH y no tener que poner todo la instrucci√≥n y solo hacerlo a traves del nombre del servidor. Entonces, si anteriormente nos hemos conectados desde nuestro PC a la Raspberry, ahora nos mostrara un mensaje donde nos indicara que las claves son erroneas. Para solucionar este problema, hay dos maneras, que son las siguientes: Borrar el directorio .ssh de nuestro usuario Borrar la clave que tenemos almacenada de nuestra Raspberry Es preferible realizar la segunda opci√≥n de la siguiente manera: usuari@raspberry:~$ ssh-keygen -f \"/home/tuUsuario/.ssh/know_host\" -R ipRaspberryerry Con esto conseguimos borrar la clave de la Raspberry que tenemos en nuestro PC. Referencia","date":"04-04-2016","objectID":"/2016-04-04-rpi-acceso-traves-ssh/:0:0","tags":["Raspberry Pi","Ethernet","SSH"],"title":"Raspberry Pi. Acceso a traves de ssh","uri":"/2016-04-04-rpi-acceso-traves-ssh/"},{"categories":["Raspberry Pi"],"content":"Ahora que ya tenemos configurado y funcionando nuestra Raspberry, ahora le toca el turno a la red (en mi caso, quiero ip fija). Para realizar la configuraci√≥n, ya no se hace antes, modificando el fichero: root@raspberry:~# /etc/network/interfaces Ahora se modifica el fichero: root@raspberry:~# vi /etc/dhcpcd.conf En mi caso, como quiero que tenga ip fija, yo lo dejo configurado de esta manera: interface eth0 static ip_address = 192.168.0.2/24 static routers = 192.168.0.1 static domain_name_servers = 80.58.61.250 80.58.61.254 Yo estoy usando vi, otras personas a lo mejor usa nano, cuesti√≥n de gustos‚Ä¶ Despu√©s de esto, ya tenemos configurado nuestra tarjeta de red. Ahora solamente falta reiniciar el servicio. Hay 2 maneras, reiniciar la Raspberry o reiniciando el servicio: root@raspberry:~# /etc/init.d/networking stop root@raspberry:~# /etc/init.d/networking start Listos. En el proximo capitulo, explicare como copiar la raiz del sistema / a un HDD, para preservar la SD. Hasta la proxima Referencia","date":"03-04-2016","objectID":"/2016-04-03-rpi-configurar-red/:0:0","tags":["Raspberry Pi","Ethernet"],"title":"Raspberry Pi. Configurar la red","uri":"/2016-04-03-rpi-configurar-red/"},{"categories":["Raspberry Pi"],"content":"Despu√©s de haber configurado la red, ahora pasare a explicar como extraer la informaci√≥n de la raiz / de la SD para pasarla a un HDD externo y as√≠ alargar la vida de nuestra SD. Haciendo este cambio, solamente se usara la SD en el momento del inicio, luego todo funcionara desde el HDD externo. El proceso es un poco largo, pero a la larga beneficiosa. Lo primero que tenemos que hacer, es realizar una imagen de nuestra SD, tal como se encuentra ahora. Yo el proceso lo explicare bajo la premisa de que estas con Linux. Antes de nada, tienes que saber en que dispositivo esta nuestra SD cuando lo insertamos en nuestro PC, para eso, haciendo un mount, se puede ver facilmente. En mi caso es el siguiente: root@raspberry:~# mount /dev/mmcblk0p1 /boot /dev/mmcblk0p2 / Lo que a nosotros nos interesa es copiar la segunda particion de la siguiente manera: root@raspberry:~# dd if=/dev/mmcblk0p2 of=/home/usuario/backup.img Despu√©s lo que yo hice, fue crear las particiones necesarias en el HDD externo. Mi particionado, quedo de la siguiente manera (recordar que ahora mismo se estan realizando estas acciones desde el nuestro PC, no desde la Raspberry, por eso pongo sdb): filesystem mount point ---------- ----------- /dev/sdb1 / /dev/sdb2 /home # para amule-daemon /dev/sdb5 /media/Incoming /dev/sdb6 /media/Temporal # para transmission-daemon /dev/sdb7 /media/Torrents Una vez, tenemos creadas las particiones en nuestro HDD externo, pasamos a copiar la imagen que hemos realizado anteriormente a la raiz de HDD de la siguiente manera: root@raspberry:~# dd if=/home/usuario/backup.img of=/dev/sdb1 Ahora viene lo importante, que es modificar un fichero de la partici√≥n /boot de la SD para que cuando pongamos el HDD externo conectado a la Raspberry funcione correctamente. Recordar que cuando se haga esa conexi√≥n, pasara de ser /dev/sdb a /dev/sda. El fichero a modificar es el siguiente (previamente hemos hecho un mount de la particion /boot): root@raspberry:~# vi cmdline.txt Modificamos lo siguiente root=/dev/mmcblk0p2 por root=/dev/sda1 Otra cosa a tener en cuenta, es que si queremos que por defecto, se monten el resto de particiones que hemos creado, se tienen que incluir en el fichero /etc/fstab de la Raspberry. Yo lo he hecho de la siguiente manera: root@raspberry:~# vi /etc/fstab Visualizaremos lo siguiente: filesystem mount point type option dump pass ---------- ----------- ---- ------ ---- ---- proc /proc proc defaults 0 0 /dev/mmcblkp1 /boot vfat defaults 0 2 /dev/mmcblkp2 / ext4 defaults,noatime 0 1 En mi caso, lo deje de la siguiente manera: filesystem mount point type option dump pass ---------- ----------- ---- ------ ---- ---- proc /proc proc defaults 0 0 /dev/mmcblk0p1 /boot vfat defaults 0 2 /dev/sda1 / ext4 defaults,noatime 0 1 /dev/sda2 /home ext4 defaults 0 0 /dev/sda5 /media/Incoming ext4 defaults,noatime 0 0 /dev/sda6 /media/Temporal ext4 defaults,noatime 0 0 /dev/sda7 /media/Torrents ext4 defaults,noatime 0 0 Ahora solamente nos quedaria poner la SD en nuestra Raspberry, conectar el HD externo y todo tendria que funcionar correctamente. Referencia","date":"03-04-2016","objectID":"/2016-04-03-rpi-iniciar-hd-externo/:0:0","tags":["Raspberry Pi","Hardware"],"title":"Raspberry Pi. Iniciar desde un HDD externo","uri":"/2016-04-03-rpi-iniciar-hd-externo/"},{"categories":["Raspberry Pi"],"content":"Tal como habia explicado en el anterior capitulo, despu√©s de tener mi RPI con Whezzy y viendo que habian sacado una nueva versi√≥n Jessie-Lite de Raspbian decidi realizar un full-upgrade para actualizar el sistema. Pero hay confiado de mi, a partir de ese momento, empezaron todos mis problemas que me replantearon el futuro de mi RPI. La actualizaci√≥n fue facil y sencilla, al estilo Debian GNU/Linux, cambiar los sources que apuntan a Wheezy y hacer que apunten a Jessie. En principio no tendria que haber habido ningun problema, pero que equivocado estaba. El fichero que se tiene que cambiar es: usuari@raspberry:~$ sudo vi /etc/apt/sources.list Y donde pone Wheezy, cambiarlo por Jessie y todo solucionado, pero una vez que reinicie el sistema y accedir a la Raspberry, empezaron a aparecer los problemas. A primera vista, lo que pude observar, fue que cada cierto tiempo perdia la conexi√≥n a internet sin ninguna explicaci√≥n y no habia forma de reconectar sino era reiniciando el sistema. Despu√©s de buscar un poco de informaci√≥n y no encontrar nada, decidi volver a realizar la instalaci√≥n limpia de mi RPI con Wheezy y todo volvio a la normalidad (ya se, fui un cobarde, pero ‚Ä¶) Pero he aqui amigo, que como soy un poco culo inquieto y despues de recibir el nuevo juguete que le iba a poner a la RPI, decidi volver a darle una nueva oportunidad Jessie-Lite y hacer una instalaci√≥n limpia y nueva a la Raspberry y parece ser que le gusto mucho, porque lleva 1 semana en Jessie y sin ningun problema ni caida de red‚Ä¶ En el proximo articulo, explicare el proceso de instalaci√≥n de Jessie en la Raspberry. Referencia Jessie-Lite ","date":"02-04-2016","objectID":"/2016-04-02-rpi-actualizando-jessie/:0:0","tags":["Raspberry Pi"],"title":"Raspberry Pi. Actualizando a Jessie","uri":"/2016-04-02-rpi-actualizando-jessie/"},{"categories":["Raspberry Pi"],"content":"Despu√©s de la instalaci√≥n viene la configuraci√≥n y en mi caso hice lo siguiente. Acceder al sistema introduciendo el usuario y password. Los datos son los siguientes: usuario: pi password: raspberrypi Una vez hemos accedido al sistema, ejecutamos la siguiente instruccion: usuari@raspberry:~$ sudo raspi-config Con ello accedemos al menu de configuraci√≥n inicial de la Raspberry donde podremos configurar la siguientes opciones (al lado de cada opci√≥n, viene una breve explicaci√≥n de lo que hace cada una): Raspi Config En mi caso, las que he utilizado son las siguientes: Expand Filesystem: Expandir el SO para ocupar toda la SD, despu√©s nos aconseja reiniciar. Yo lo hago. Change User Password: Cambiamos el password del usuario usuari. Enable Boot to Desktop/Scratch: Selecciono la opci√≥n de inicio en consola. Internationalisation Options: Poner en castellano nuestro sistema. Yo selecciono es_ES.UTF-8 Advanced Options: En este caso, esta la opci√≥n de cambiar el nombre de host de nuestra Rusuari. Yo lo hago. Despu√©s de la configuraci√≥n inicial, en mi caso, hago una actualizaci√≥n del firmware de la Raspberry mediante la siguiente instrucci√≥n: usuari@raspberry:~$ sudo rpi-update # en caso de que visualizes el siguiente mensaje: usuari@raspberry:~$ Command not found Te esta indicando que no tienes instalado este paquete, solamente tienes que instalarlo a traves de apt-get de la siguiente manera: usuari@raspberry:~$ sudo apt-get install rpi-update Una vez que hemos instalado el paquete, ahora si que podemos pasar a realizar la actualitzaci√≥n del firmware, kernel y modulos de nuestra Raspberry. RPI Update Cuando el procedimiento de actualizaci√≥n ha finalizado, yo tengo por costumbre instalar los siguientes paquetes: usuari@raspberry:~$ sudo apt-get install deborphan localepurge Para que: deborphan: elimina los paquetes / librerias que han quedado huerfanas o que ya no se utilizan. Adem√°s, nos sera de mucha utilidad, cuando empezemos a eliminar paquetes que no son necesarios (esto es en mi caso). localepurge: elimina los idiomas que no se estan usando en nuestro sistema usuari@raspberry:~$ sudo apt-get purge $(deborphan --libdevel) Una vez, realizado esta mini-limpieza, lo que hago es cambiarle el password a root, porque no me gusta usar sudo, esto lo hago a traves de: usuari@raspberry:~$ sudo passwd Entonces, te pedira que pongas el nuevo password de root. Despu√©s a√±ado el usuario que voy a utilizar y borro al usuario usuari que viene por defecto en la instalaci√≥n. Una medida m√°s de seguridad. Las instrucciones para realizar esta acci√≥n son las siguientes: usuari@raspberry:~$ su - password: root@raspberry:~# adduser miUsuario Adding user 'miUsuario' ... Adding new group 'miUsuario' (1001) ... Adding new user 'miUsuario' (1002) with group 'miUsuario' Creating home directory '/home/miUsuario' Copying files from '/etc/skel' Enter new UNIX password: Retype new UNIX password: passwd: password update successfully Changing the user information for miUsuario Enter the new value, or press ENTER for the default Full Name []: Rom Number []: Work Phone []: Home Phone []: Oher []: Is the information correct? [Y/n] y Una vez, que ya he creado el usuario que voy a usar a partir de ahora, paso a borrar el usuario que viene por defecto. En este caso usuari: usuari@raspberry:~$ su - password: root@raspberry:~# deluser --remove-home usuari Lo que hace esta instrucci√≥n, a parte de borrar al usuari usuari, es borrar tambien el directorio del usuario. Una cosa que se tambien he realizado, ha sido usar apt-get en vez de aptitude, porque se vuelve lento. El problema es que en aptitude se puede deshabilitar la opci√≥n que de que te instale los paquetes sugeridos y / o recomendados. Tambien, se pueden deshabilitar, si se crea un fichero en: root@raspberry:~# vi /etc/apt/apt.conf.d/10norecommends APT::Install-Recommends \"false\"; APT::Install-Suggets \"false\"; Con estas 2 opciones, cada vez que nosotros vayamos a realizar un: root@raspberry:~# apt-get update \u0026\u0026 apt-get ","date":"02-04-2016","objectID":"/2016-04-02-rpi-configurando-raspberry/:0:0","tags":["Raspberry Pi"],"title":"Raspberry Pi. Configurando la Raspberry","uri":"/2016-04-02-rpi-configurando-raspberry/"},{"categories":["Raspberry Pi"],"content":"De nuevo en la brecha. Despu√©s de tanto tiempo si publicar nada, aqui vuelvo. Y para continuar con esta serie de articulos, que mejor que explicar mis experiencias con ella Raspberry Pi, como me ha ido todo este tiempo con mi regalo Raspberry Pi y los planes de futuro que tengo para ella, que algunos ya se han ido cumpliendo. Lo primero, es explicar el funcionamiento y opini√≥n con respecto a su uso que he tenido durante este tiempo‚Ä¶ El funcionamiento ha sido increible, sin ningun problema durante este tiempo y eso que lo he tenido conectado durante 24x7 y no he tenido ningun problema a excepci√≥n de los cortes de luz que puedo haber tenido, pero que eso ya no lo controlo yo‚Ä¶ En pocas palabras, es perfecta. La he tenido funcionando con: amule-daemon transmission-daemon Y todo ha ido perfecto. Una maravilla. El unico problema que he tenido fue (hace unas semanas) que fue al realizar la actualizaci√≥n a JESSIE, pero eso ya lo explicare en otro momento. Nos vemos en un futuro‚Ä¶ Referencia","date":"02-04-2016","objectID":"/2016-04-02-rpi-funcionamiento-raspberry/:0:0","tags":["Raspberry Pi"],"title":"Raspberry Pi. Funcionamiento de la RPI","uri":"/2016-04-02-rpi-funcionamiento-raspberry/"},{"categories":["Raspberry Pi"],"content":"Como dije en el anterior capitulo, despues de recibir mi nuevo juguete: Toshiba Canvio Connect II 1 TB Despu√©s de ver el correcto funcionamiento de mi nuevo HD, lo primero que hice, fue formatearlo con ext-4 y crear las particiones necesarias que iba a utilizar en la Raspberry. Pero no nos adelantemos a los acontecimientos. Para realizar una instalaci√≥n limpia, lo primero que hice fue bajarme la imagen de Jessie-Lite que podeis encontrar aqui. Yo escogi la Lite. En esta no viene ningun gestor de ventanas ni paquetes innecesarios para funcionar en modo servidor. Una vez descargada, copie la imagen a la SD (lo hice desde mi portatil en GNU/Linux, supongo que para Windows tiene que haber alguna aplicacion que haga lo mismo): Lo primero, es insertar la tarjeta SD y realizar la instrucci√≥n mount para descubrir que dispositivo es nuestra SD: usuari@raspberry:~$ mount Obtendras un listado con todos los dispositivos conectados. En mi caso, la tarjeta SD, era: usuari@raspberry:~$ /dev/mmcblk0 Despu√©s de obtener esta informaci√≥n, solamente nos queda copiar la imagen a la SD. Nota Hay que tener una cosa en cuenta a la hora de copiar la imagen en la SD, es que toda la informaci√≥n que pueda haber en la SD, se perdera La instrucci√≥n para realizar la copia (se tiene que hacer como root) es la siguiente: root@raspberry:~# dd bs=4M if=2016-03-18-raspbian-jessie-lite.img of=/dev/mmcblk0 462+1 records in 463+0 records out 1941962752 bytes (1.9 GB) copied, 256.996 s, 7.6 MB/s Nota Como se puede ver, a la opci√≥n bs, se le asigna el valor de 4M, esta puesto as√≠, porque si se pone la opci√≥n 1M, el volcado de la informaci√≥n tardaria mucho. Esto, lo que hara, es copiar la imagen en nuestra SD, tener en cuenta, que en mi caso, estaba en el mismo directorio donde tenia la imagen, en caso contrario, tengo que poner todo el path de donde se encuentra la imagen. Una vez se ha realizado la copia, solamente nos queda insertar la SD en nuestro RPI y a jugar‚Ä¶ Ahora solamente nos quedara realizar la configuraci√≥n inicial y algunos cambios (que he realizado yo) que lo explicare en el siguiente capitulo. Hasta otra‚Ä¶ Informaci√≥n Si quereis obtener m√°s informaci√≥n, podeis mirar este link donde se explica m√°s detalladamente el proceso tanto para Linux, Windows y Mac Referencia Creaci√≥n SD de imagen Raspberry ","date":"02-04-2016","objectID":"/2016-04-02-rpi-instalando-jessie-lite/:0:0","tags":["Raspberry Pi"],"title":"Raspberry Pi. Instalando Jessie-Lite","uri":"/2016-04-02-rpi-instalando-jessie-lite/"},{"categories":["Debian GNU/Linux"],"content":"Cuando se est√° utilizando un sistema Debian GNU/Linux, una de las cosas que m√°s se disfrutan es la herramienta para administraci√≥n de paquetes APT. La mayor√≠a, se pasa instalando distintos paquetes, aplicaciones, etc. aveces gastando mucho tiempo en lograr el objetivo (ej: actualizar el sistema), la mayoria de las veces provocado esto por la utilizaci√≥n de repositorios lentos‚Ä¶ ¬øpero como conozco los mejores repositorios para mi distro? F√°cil con apt-spy. APT-SPY es un programa usado para testear el ancho de banda de una serie de mirrors de Debian GNU/Linux, generando un archivo /etc/apt/sources.list con los servidores m√°s r√°pidos. Puedes seleccionar que servidores deseas testear por localizaci√≥n geogr√°fica. Para poder usarlo, lo primero es instalarlo: root@debian:~# aptitude install apt-spy Ahora que ya lo tenemos‚Ä¶ simplemente debemos usarlo: Algunas de sus opciones en linea de comando son: -d distribuci√≥n: Indicamos que distribuci√≥n usamos, puede ser: stable, testing o unstable. -e n: Indicamos que solo pruebe los primeros n mirrors que funcionan. -w archivo.list: No sobreescribe nuestro /etc/apt/sources.list, en su lugar usa archivo.list. -a [africa | asia | europe | north-america | oceania | south-america ]: Identifica la localizaci√≥n geogr√°fica donde buscar servidores Como ejemplo de uso: root@debian:~# apt-spy -d unstable -e 10 -w nuevo_sources.list -a Europa Esto probar√° los primeros 10 mirrors para Europa de Debian GNU/Linux UNSTABLE y los escribira en el archivo nuevo_sources.list Con esto ya tenemos nuestros nuevos repositorios, simplemente copiamos nuevo_sources.list como /etc/apt/sources.list y listo!!! Referencia","date":"08-05-2015","objectID":"/2015-05-08-repositorios-debian/:0:0","tags":["Bash","Debian GNU/Linux"],"title":"Los mejores repositorios para Debian GNU/Linux","uri":"/2015-05-08-repositorios-debian/"},{"categories":["Bash"],"content":"A veces, cuando intento realizar una ISO de un CD, no encuentro la manera de hacerlo a traves de Xfburn, aunque al final si que descubri como se tenia que hacer. Es aqui cuando me hago un lio y busco desesperadamente como se puede hacer. Pero nunca se me ocurre buscar la manera de como hacerlo a traves de consola. Entonces, el otro dia, buscando como hacerlo por consola, encontre la siguiente chuleta de como se tiene que hacer: usuari@debian:~$ dd if=/dev/cdrom of=~/nombre_imagen.iso Con esta instrucci√≥n, lo que haces, es redirigir el contenido del cdrom (cd del cual vas a realizar la ISO) a un fichero nombre_imagen.iso que ser√° la ISO en cuesti√≥n. Y con esta simple instrucci√≥n, se consigue realizar una ISO de un CD. Espero que esto os ayuda tanto como a mi. Referencia","date":"03-01-2014","objectID":"/2014-01-03-crear-imagen-iso/:0:0","tags":["Bash","Debian GNU/Linux"],"title":"Crear imagen ISO desde la consola de Debian GNU/Linux","uri":"/2014-01-03-crear-imagen-iso/"},{"categories":["Raspberry Pi"],"content":"Pues nada. Desde hace un par de meses, tengo a mi disposici√≥n un nuevo juguete. La Raspberry modelo B, con las las siguientes caracteristicas: Un procesador ARM11 a 700 MHz Procesador gr√°fico a medida que acelera por hardware el v√≠deo H264 (mpeg4) 512 MB de memoria RAM 2 puertos USB Una salida de audio y video HDMI Conector de red Ethernet RJ45 (10/100 mbps) Entrada de corriente microUSB Lector de tarjetas SD Raspberry Pi A parte, tengo los siguientes componentes para que pueda funcionar: Western Digital Black 640Gb. Tarjeta Micro SD HC de 4Gb Kingston Trust Pyramid 7 Port Todo los componentes que tengo, los he conseguido para que funcionasen, en principio, sin ningun problema con la Raspberry. Con respecto al Hub, teoricamente todos tendrian que funcionar sin ningun problema, pero te aconsejan que, como minimo el usb tiene que dar 1A (en este caso, este da 2A). En el caso de la tarjeta SD Car, en esta pagina podeis encontrar las tarjetas compatibles y no compatibles con la Raspberry. Todo esto unido con el mejor Sistema Operativo del mundo Raspbian. La perfecta uni√≥n entre la Raspberry y Debian GNU/Linux. As√≠ que empezare una serie de capitulos donde explicare mis experiencias y mi proceso de instalaci√≥n que le he realizado a mi peque√±o gran juguete. Los capitulos son los siguientes: Raspberry Pi. La presentaci√≥n Raspberry Pi. Funcionamiento de la RPI Raspberry Pi. Actualizando a Jessie Raspberry Pi. Instalando Jessie-Lite Raspberry Pi. Configurando la Raspberry Raspberry Pi. Configurar la red Raspberry Pi. Iniciar desde HD externo Raspberry Pi. Acceso a trave de SSH Raspberry Pi. Cambiando el equipo Raspberry Pi. Usando docker en Raspbian Raspberry Pi. Instalar y configurar fail2ban Raspberry Pi. Haciendo copias de seguridad Raspberry Pi. Salvaguardando nuestras copias de seguridad Raspberry Pi. Creando tu Spotify privado Raspberry Pi. Cambiando Traefik por Caddy Raspberry Pi. Al final nos quedamos Nginx-Proxy-Manager Raspberry Pi. Cambiando de Servidor Nota Como se puede observar, el ultimo articulo que he hecho con respecto a todo lo que vivido, probado, experimentado con la Raspberry es el de cambiando de servidor, que es cuando me paso a un Dell Optiplex 3050. Hay que tener una cosa en cuenta, que todo lo que he escrito para la Raspberry tambien es aplicable para el Dell, porque no he tenido que hacer ninguna modificaci√≥n a mis configuraciones de docker de lo que tenia en la Raspberry, para que me funcione en Dell. Referencia RPi SD cards ","date":"25-11-2013","objectID":"/2013-11-25-rpi-peque%C3%B1o-juguete/:0:0","tags":["Raspberry Pi","Hardware"],"title":"Raspberry Pi. Mi peque√±o nuevo juguete","uri":"/2013-11-25-rpi-peque%C3%B1o-juguete/"},{"categories":["XFCE"],"content":"Como siempre va bien, tener estas notas, por si las volvemos a necesitar‚Ä¶ Aqui os pongo, como a traves del gestor de ficheros Thunar (por defecto en XFCE) realizar un renombrado masivo de ficheros‚Ä¶ Volvemos a las andadas despues de estar un poco liado, con un nuevo TIP (de los que siempre van bien) para cuando hay necesidad de utilizarlo. Es este caso, es como cambiar el nombre de varios ficheros a la vez, a traves del gestor de ficheros Thunar (por defecto en XFCE). Lo primero que tenemos que hacer, es seleccionar los ficheros que queremos renombrar, despu√©s mediante el boton derecho, abrimos el submenu que tenemos disponible y seleccionamos la opci√≥n renombrar Thunar Lo que si que esta bien, es que a diferencia de Dolphin o Nautilius, permite modificar simultaneamente el nombre de una selecci√≥n de ficheros: agregar cadenas a partir de una posici√≥n, utilizar expresiones regulares, sustituir cadenas por otras, a√±adir una fecha o una numeraci√≥n, etc‚Ä¶ Con un poco de imaginaci√≥n, podemos realizar el cambio de nombre de los ficheros‚Ä¶ Solo decir una cosa, si yo lo pude hacer, cualquiera lo puede hacer‚Ä¶ Referencia","date":"24-11-2013","objectID":"/2013-11-24-renombrar-ficheros-thunar/:0:0","tags":["XFCE"],"title":"Renombrar masivamente ficheros en Thunar","uri":"/2013-11-24-renombrar-ficheros-thunar/"},{"categories":["Hardware"],"content":"Por si a alguien le vuelve a pasar lo mismo que a mi, aqu√≠ pongo una peque√±a ayuda de lo que se puede hacer antes de tirar a la basura un USB, que, cada vez que lo montas, esta como lectura‚Ä¶ Me paso el otro dia, que al conectar el USB, este solamente estaba disponible como lectura y me era imposible grabar en el. Busque informaci√≥n sobre como arreglar este problema y en principio, todo lo que encontraba, era informaci√≥n diciendo, que el usb estaba en las ultimas‚Ä¶ Pero despu√©s de mucho buscar, encontre una soluci√≥n que podia dar algo de luz‚Ä¶ En el post, se explica, que hay una aplicaci√≥n llamada dosfsck, que sirve para comprobar la consistencia de sistemas de ficheros FAT en cualquier sistema basado en Unix, como Debian GNU/Linux y cuyas funciones son similares a las del comando chkdsk de Windows. Los tres pasos a seguir son: # instalar el paquete dosftool usuari@debian:~$ sudo apt-get install dosfstools # desmontar el disco duro externo o pendrive usuari@debian:~$ sudo umount /dev/sdb1 # verificar y reparar la partici√≥n usuari@debian:~$ sudo dosfsck -t -a -w /dev/sdb1 Con esta sencilla soluci√≥n, se repar√≥ la partici√≥n y el disco duro externo volvi√≥ a ser de lectura/escritura. Lo que tengo que decir, es que la reparaci√≥n funciono durante un par de dias‚Ä¶ Al final lo que tenia que pasar, paso‚Ä¶ El USB acabo en la basura‚Ä¶ Estaba en las ultimas. Pero bueno, durante un par de dias, logre que siguiera funcionando. Referencia","date":"23-11-2013","objectID":"/2013-11-24-usb-lectura/:0:0","tags":["Bash","Debian GNU/Linux","Hardware"],"title":"USB se monta s√≥lo como lectura","uri":"/2013-11-24-usb-lectura/"},{"categories":["XFCE"],"content":"Despu√©s de hacer limpieza de mi portatil (borrar ese espacio en el HD que no utilizaba para nada), he instalado de nuevo mi querido Debian GNU/Linux, y como estaba un poco cansado de KDE, lleno de programas que no utilizo, me decidi probar XFCE. Pero una de las pocas cosas que hecho de menos en XFCE, se que puede parecer una tonteria, pero üòâ es el cambio dinamico de wallpapers. As√≠ que despu√©s de una busqueda por inet, encontre esta chuleta (que la pongo a continuaci√≥n) como apunte para mi o por si alguien le puede servir de ayuda: Creamos una lista de imagenes, para ello tenemos que ir a la configuraci√≥n de escritorio y seleccionar Lista de Imagenes y aqui es donde agregamos las imagenes que nosotros queremos que se visualizen. Probar como quedan las imagenes con el cambio dinamico mediante el comando (desde consola). usuari@debian:~$ export DISPLAY=:0;/usr/bin/xfdesktop --reload Lo que hace es reiniciar el escritorio de XFCE, pero no vamos a estar haciendo esto cada vez que queramos cambiar el fondo de pantalla, as√≠ que ‚Ä¶ Crearemos un script que insertaremos en el cron. Se crear un archivo donde agregamos lo siguiente y despu√©s lo guardamos: */5 * * * * export DISPLAY=:0;/usr/bin/xfdesktop --reload Donde */5 dindica el numero de minutos en que se ejecutara la instrucci√≥n. Lo guardamos con nuestro editor de texto preferido y lo a√±adimos al cron mediante la siguiente instrucci√≥n: usuari@debian:~$ crontab archivo_creado Con esto, le indicamos a cron que cada 5 minutos reinicie el escritorio de XFCE cambiando el fondo de pantalla. Es una funcionalidad o una manera de trabajar que nunca se me hubiese ocurrido, pero en esto consiste el software libre, si no lo encuentras siempre puedes hacerlo tu‚Ä¶ Bueno, espero que os sirve de ayuda Referencia","date":"09-01-2013","objectID":"/2013-01-09-fondo-pantalla-xfce/:0:0","tags":["Debian GNU/Linux","Bash","XFCE"],"title":"Cambiar dinamicamente el fondo de pantalla en XFCE","uri":"/2013-01-09-fondo-pantalla-xfce/"},{"categories":["Hardware"],"content":"Despu√©s de mucho buscar al final, pude encontrar un sitio aqui donde te explicaba como desactivar la tarjeta grafica Nvidia de mi portatil Dell XPS 15. Estaba ya cansado de escuchar el ventilador funcionando todo el rato por culpa de una tarjeta grafica que no utilizaba. As√≠ que lo pongo a continuaci√≥n porque as√≠ se difunde m√°s facilmente y lo guardo para mi como apuntes‚Ä¶ El siguiente procedimiento sirve para deshabilitar (o desactivar) una tarjeta NVIDIA cuando contamos con un sistema h√≠brido de gr√°ficos, es decir, cuando contamos con dos tarjetas de video. El objetivo es reducir el consumo de energ√≠a en Linux, ya que no existe un buen soporte para gr√°ficos h√≠bridos en este sistema operativo (ni existir√° en el corto plazo, aparentemente). En mi caso, poseo una laptop Dell XPS 15 con las siguientes dos tarjetas de video: Intel Corporation 2nd Generation Core Processor Family Integrated Graphics Controller NVIDIA¬Æ GeForce¬Æ GT 540M 2GB La tecnolog√≠a Optimus se encarga de administrar estas dos tarjetas, activandolas o desactivandolas seg√∫n sea necesario (la NVIDIA solo es activada cuando estamos haciendo uso intensivo de gr√°ficos en 3D). De esta forma, se minimiza el consumo de energ√≠a. Solo hay un problema: ¬°No existe Optimus para Linux! Esto conlleva a que el sistema utilice las dos tarjetas al mismo tiempo (consumiendo tu bater√≠a en minutos). La soluci√≥n temporal es desactivar la tarjeta NVIDIA cargando un m√≥dulo (desarrollado por la comunidad) en el kernel. Los pasos son los siguientes: # instalamos el paquete git si no lo tenemos ya usuari@debian:~$ sudo apt-get install git usuari@debian:~$ git clone https://github.com/mkottman/acpi_call.git usuari@debian:~$ cd acpi_call # ahora procedemos a compilar el codigo usuari@debian:~$ make # procedemos a cargar el modulo en el kernel usuari@debian:~$ sudo insmod acpi_call.ko # damos permisos de ejecuci√≥n al fichero usuari@debian:~$ chmod 755 test_off.sh # y desactivamos la tarjeta NVIDIA usuari@debian:~$ ./test_off.sh Si aparece alg√∫n mensaje works!, entonces todo ha funcionado correctamente. Espero que esto os ayuda tanto como a mi. As√≠ mismo, agradezco al autor original de este documento . Referencia","date":"11-11-2012","objectID":"/2012-11-11-optimus-debian/:0:0","tags":["Bash","Debian GNU/Linux","Hardware"],"title":"Deshabilitar tarjeta NVIDIA Optimus en Debian GNU/Linux","uri":"/2012-11-11-optimus-debian/"},{"categories":["Bash"],"content":"Un truco nuevo, en mi caso, pero que seguro que mucha gente lo conoce, pero que nunca esta de m√°s tenerlo a mano por si se necesita‚Ä¶ En este caso, tengo que pasar un fichero de 10Gb a otro PC, pero no tengo red y como √∫nico medio posible de pasar la informaci√≥n es un USB de 8Gb. Si podr√≠a comprarme uno m√°s grande, pero ‚Ä¶ As√≠ que vamos a dividir el fichero y despu√©s volverlo a juntar. Vamos a por ello. Para dividir el fichero usaremos la instrucci√≥n split de la siguiente manera : usuari@debian:~$ split -b tama√±o_trozos fichero_a_trocear nombre_trozos Donde : tama√±o_trozos: se indica un n¬∫. Por defecto es en bytes, pero a√±adiendo la opci√≥n m dir√≠amos megas. fichero_a_trocear: fichero que queremos dividir en trozos. nombre_trozos: prefijo de los trozos (split a√±adir√° aa, ab, ac, etc.) Una vez que hemos dividido el fichero, para volverlo a unir, usaremos la instrucci√≥n cat de la siguiente manera : usuari@debian:~$ cat trozos.* \u003e fichero_destino Donde : trozos: ser√† el nombre de los ficheros a unir. fichero_destino: nombre del fichero original. Espero que esto os pueda servir de ayuda en un apuro. A mi me va a ser de mucha utilidad en algunos momentos. Referencia","date":"07-03-2012","objectID":"/2012-03-07-divdir-unir-ficheros/:0:0","tags":["Bash","Debian GNU/Linux"],"title":"Dividir / Unir Fichero en GNU/Linux","uri":"/2012-03-07-divdir-unir-ficheros/"},{"categories":["Bash"],"content":"No se si os ha pasado a vosotros, pero despu√©s de una instalaci√≥n limpia de Debian GNU/Linux, siempre me aparec√≠a en la consola (antes de instalar KDE). Al final me canse de visualizar este error INIT: ID ‚Äúco‚Äù respawning too fast: disabled for 5 minutes, porque llega a ser cansino. Entonces buscando info por inet, encontre este sitio donde salia la soluci√≥n a este problema: Se tiene que editar el fichero /etc/inittab y comentaremos la linea: co:2345:respawn:/sbin/getty hvc0 9600 linux dejandola de la siguiente manera : # Lo hemos comentado para desactivarlo # co:2345:respawn:/sbin/getty hvc0 9600 linux Bueno, espero que os sirva‚Ä¶ Referencia Error after installing Debian ‚ÄòTesting‚Äô - INIT ","date":"23-09-2011","objectID":"/2011-09-23-respawning-consola/:0:0","tags":["Bash","Debian GNU/Linux"],"title":"Error respawning en consola","uri":"/2011-09-23-respawning-consola/"},{"categories":["SSH"],"content":"Es posible que m√°s de una vez nos hayamos encontrado con un mensaje donde nuestro sistema nos indica que la clave publica de nuestro servidor, o del servidor al que nos queremos conectar ha cambiado o a otras posibilidades que ya indicaremos m√°s adelante. usuari@debian:~$ ssh servidor-ssh @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: REMOTE @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY! Someone could be eavesdropping on you right now (man-in-the-middle attack)! It is also possible that the RSA host key has just been changed. The fingerprint for the RSA key sent by the remote host is 00:ff:00:ff:00:ff:00:ff:00:ff:00:ff:00:ff:00:ff. Please contact your system administrator. Add correct host key in /home/usuario/.ssh/known_hosts to get rid of this message. Offending key in /home/usuario/.ssh/known_hosts:8 RSA host key for localhost has changed and you have requested strict checking. Host key verification failed. Este error se produce debido a ha fallado la que ha fallado la autenticaci√≥n de la clave p√∫blica ssh del servidor. Esto podr√≠a ser debido a: Un intento de ataque man in the middle. Reinstalaci√≥n del sistema donde se esta ejecutando SSH y no nos hemos acordado de hacer una copia de su clave. Esto provoca que por seguridad, en clientes configurados con la opci√≥n StrictHostKeyChecking=yes no te permita conectar al servidor. Una manera r√°pida de solucionar esto ser√≠a conectar forzando ignorar este aviso: usuari@debian:~$ ssh -o \"StrictHostKeyChecking=yes\" servidor-ssh Por supuesto, esta no es la manera m√°s adecuada de hacerlo, primero, porque si lo hacemos sin ninguna comprobaci√≥n podr√≠amos ser v√≠ctimas de ataque que habl√°bamos antes, y segundo, porque el aviso no desaparecer√° en futuras conexiones. Si efectivamente verificamos que se trata de una simple cambio de IP, DNS o reinstalaci√≥n de sistema (comprobando que el nuevo fingerprint coincide con el del servidor), tenemos que borrar la clave vieja. Antiguamente, pod√≠amos editar el archivo ~/.ssh/known_hosts directamente, pero actualmente los nombres de los hosts en este archivo estan ocultos mediante HMAC. Es por ello que para borrar dicha clave tendremos que ejecutar: usuari@debian:~$ ssh-keygen -R servidor-ssh La pr√≥xima vez que conectemos, el cliente ssh preguntar√° si deseamos conectar y guardar la nueva clave. Referencia","date":"19-08-2011","objectID":"/2011-08-19-substituir-known-hosts/:0:0","tags":["Debian GNU/Linux","SSH"],"title":"Sustituir una clave antigua de known_hosts","uri":"/2011-08-19-substituir-known-hosts/"},{"categories":["KDE"],"content":"Pues si, despu√©s de una instalaci√≥n no tan traumatica como me esperaba, ya hemos instalado KDE 4.2. Aqui podeis ver un screenshot de como le sienta esta nueva versi√≥n de KDE a mi equipo. Screenshot En principio, las primeras sensaciones han sido un poco extra√±as los comprobareis aqui, pero despu√©s cuando te vas acostumbrando, pues‚Ä¶ Aun le faltan algunas cosas por pulir (supongo que en KDE 4.3) ya estaran disponibles‚Ä¶ Aun as√≠.. Las sensaciones son muy buenas‚Ä¶ Esperemos que mejoren con la proxima revisi√≥n‚Ä¶ Referencia","date":"06-06-2009","objectID":"/2009-06-06-tenemos-kde4/:0:0","tags":["Debian GNU/Linux","KDE"],"title":"Ya tenemos KDE4","uri":"/2009-06-06-tenemos-kde4/"},{"categories":["ReiserFS"],"content":"A continuaci√≥n explicare los pasos necesarios para recuperar un archivo/s eliminado de una partici√≥n creada con ReiserFS, que en principio funciona correctamente en Debian GNU/Linux Como root, desmonta la partici√≥n ReiserFS para recuperar los archivos (en este caso usaremos /home como ejemplo): root@debian:/# umount /home Si te muestra un mensaje parecido a umount: /home: device is busy, significa que algo se esta usando en dicha partici√≥n. Tendras que pasarte a modo de usuario simple (consola) o puedes usar un cdrom live: root@debian:/# init 1 Se crea una copia de seguridad de la partici√≥n por si la cosa no sale del todo bien. Es mejor perder un archivo, que no toda la informaci√≥n: root@debian:/# dd if=/dev/hda1 of=backup.dd bs=4096 conv=noerror Recuperamos los archivos borrados pero en la particion (backup.dd): root@debian:/# reiserfsck --rebuild-tree --scan-whole-partition backup.dd Pasamos a crear un punto de montaje: root@debian:/# mkdir /mnt/recovery Montamos la partici√≥n virtual: root@debian:/# mount -o loop backup.dd /mnt/recovery Todos los archivos recuperados estaran en: root@debian:/# /mnt/recovery/lost+found Solamente nos queda montar la partici√≥n original y copiar los archivos de hemos recuperado. Referencia","date":"27-04-2009","objectID":"/2009-04-27-recuperar-archivos-reiserfs/:0:0","tags":["Debian GNU/Linux","ReiserFS"],"title":"Recuperar Archivos en ReiserFS","uri":"/2009-04-27-recuperar-archivos-reiserfs/"},{"categories":["KDE"],"content":"Todos los usuarios de Debian GNU/Linux estan de enhorabuena (me incluyo yo mismo). Como diria mucha gente ja l‚Äôha tenim aqui, pero en este caso es nuestro querido KDE 4.2. Tal como se puede ver en este mail, se notifica que durante esta semana iran entrando los paquetes de KDE 4 en UNSTABLE. As√≠ que a upgradear‚Ä¶ Este no ser√° mi caso. Yo me esperare a que este todo m√°s calmado y entonces realizare una instalaci√≥n limpia de todo el sistema‚Ä¶ Alguien puede decir que no es necesario, pero en estos casos prefiero hacer esto y no perder el sistema por algun error mio o algun paquete rebelde‚Ä¶ Referencia","date":"09-04-2009","objectID":"/2009-04-09-kd4-sid/:0:0","tags":["Debian GNU/Linux","KDE"],"title":"KDE 4.2 ha entrado en SID","uri":"/2009-04-09-kd4-sid/"},{"categories":["Blog"],"content":"Ese mensaje t√≠pico al que mucho programadores estamos acostumbrados al iniciarnos en alg√∫n lenguaje nuevo üòÉ !Hola Mundo! Pues de esta misma manera hago la apertura de este blog personal, en donde ir√© escribiendo temas de lo m√°s variopintos, desde temas inform√°ticos, ya sea GNU/Linux, BSD, Raspberry, etc‚Ä¶. O alguna de las idas de olla que a veces tengo üòÉ De esta manera doy la bienvenida a las personas que lean este blog. Si tienes cualquier comentario y/o sugerencia, no dudes en contactar conmigo‚Ä¶ Sino, en boquita cerrada no entran moscas!!! A10 üòÅ ","date":"02-07-2008","objectID":"/2008-07-02-primer-post/:0:0","tags":["Blog"],"title":"¬°Hola Mundo!","uri":"/2008-07-02-primer-post/"},{"categories":null,"content":"Bienvenidos a mi blog personal. Aqui encontraras las notas que tomo cuando hago mis instalaciones, configuraciones, pruebas o tips que me pueden ayudar en un futuro y quiza os puedan ser de ayuda a vosotros tambien. ","date":"02-07-2008","objectID":"/about/:0:0","tags":null,"title":"About Vctrsnts","uri":"/about/"},{"categories":null,"content":"M√°s informaci√≥n Nom: Victor Santos Garcia Ciutat: Barcelona Pais: Catalunya ","date":"02-07-2008","objectID":"/about/:1:0","tags":null,"title":"About Vctrsnts","uri":"/about/"},{"categories":null,"content":"Mis aficiones Por necesidad y afici√≥n estoy en el mundo de la informatica y sobre todo con este magnifici√≥ Sistema Operativo en que se ha convertido Debian GNU/Linux. Aqui tambien puedes descubrir los libros que he ido leyendo, y ya te digo que son unos cuantos y aun me falta poner unos cuantos m√°s. La pagina es esta: ¬†Parlem de llibres Tambien esta el deporte, entre los que no pueden faltar el futbol, el basquet y el Jiu-Jitsu (que no es lo mismo que MMA), aunque por cuestiones de trabajo no le puedo dedicar todo el tiempo que me gustaria. ","date":"02-07-2008","objectID":"/about/:2:0","tags":null,"title":"About Vctrsnts","uri":"/about/"},{"categories":null,"content":"Contactar ¬†Mastodon Codeberg ¬†GitHub ¬†Tumblr ¬†BlueSky ","date":"02-07-2008","objectID":"/about/:3:0","tags":null,"title":"About Vctrsnts","uri":"/about/"}]